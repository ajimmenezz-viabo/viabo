import{z as Ss,j as s,C as $,r as u,_ as Y,O as f,S as g,T as M,b5 as Ts,m as U,aV as Ps,p as ws,L as xs,N as m,V as cs,W as ps,X as Es,U as Ds,B as X,E as Fs,G as z,J as Q,am as v,d as ss,g as es,Q as H,b as ts,H as us,I as ds,Z as Rs,K as q,P as Os,ae as Bs}from"./index-ixKXqnJp.js";import{f as b}from"./build-6YIPcFHU.js";import{u as J,e as As,D as is}from"./build-ziaGZLXR.js";import{R as _s}from"./build-UOWsg7gc.js";import{C as ks}from"./build-DPpCFjgD.js";import{u as _}from"./build-SO8f7Ll6.js";import{g as Ls}from"./build-NI10TJ2R.js";import{a as Ns}from"./build-VQrlUuND.js";import{C as hs}from"./build-tIMMFX0d.js";import{C as Z}from"./build-oLFXS3A5.js";import{g as gs}from"./build-FAvjNavH.js";import{f as zs}from"./build-dm4yWFPt.js";import{a as Ws}from"./build-_JHXRbD6.js";import{A as Gs}from"./build-3mvdD2lh.js";import{B as Hs,a as Vs}from"./build-2WG8TgnX.js";import{M as Ks,L as qs,F as Us}from"./build-SJ7dI8g8.js";import{s as Xs,a as $s}from"./build-FIzk9VW5.js";import{g as Ys}from"./build-N8x3nlwn.js";import{M as Qs,C as Js,H as Zs}from"./build-LwbiozbY.js";import{u as ms}from"./build-LAyEB08K.js";import"./build-KbTEeZ86.js";import"./build-dEqz9zUm.js";import"./build-ra1ELWP8.js";import"./build-01KfIDYg.js";import"./build-aUYrQuCN.js";import"./build-JMbQ2yu8.js";import"./build-etstWp0g.js";import"./build-GywV9psu.js";import"./build-YOvIjgAO.js";import"./build-0U7rJSAM.js";import"./build-pdsvphlv.js";import"./build-oHIjvIrR.js";import"./build-Uc7vb3zK.js";import"./build-jxeW1WMv.js";import"./build-UhBgIVj0.js";import"./build-FTXeMWpc.js";import"./build-SuE6w4R-.js";import"./build-QRts0fGp.js";import"./build-lj6x1nL8.js";import"./build-EokrqSxE.js";import"./build-BaOazoJW.js";import"./build-TcKk9OQ9.js";import"./build-M__DqRBL.js";import"./build-zH8OCAbq.js";import"./build-zEF68lUW.js";import"./build-ZOc5AsDV.js";import"./build-LPvWp5h1.js";const ys=Ss(s.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update"),vs=$(u.lazy(()=>Y(()=>import("./build-uRg8ouPB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])))),se=$(u.lazy(()=>Y(()=>import("./build-yUrQgtRs.js"),__vite__mapDeps([30,1,2,6,8,9,5,7,10,11,12,31,32,33,34,35,22,23,16,17,24,25,26,15,27,20])))),fs=({open:e,setOpen:o,card:r,cardList:c=[]})=>{const[i,n]=u.useState(0),x=u.useMemo(()=>r==null?void 0:r.balance,[r==null?void 0:r.balance]),[t,h]=u.useState(!1),[I,C]=u.useState(null),[y,F]=u.useState(!1),B=u.useMemo(()=>(parseFloat(x)-i).toFixed(2)<0,[i,x]),p=()=>{o(!1),n(0),h(!1),C(null),F(!1)},w=T=>{const W=r==null?void 0:r.id;C({cardOriginId:W,paymentProcessor:r==null?void 0:r.paymentProcessor,isGlobal:!1,transactions:(T==null?void 0:T.transactions)||[],concept:T==null?void 0:T.concept,balance:x,currentBalance:i}),h(!0)},A=()=>{h(!1)},R=s.jsx(M,{variant:"h6",children:" Revisión - Fondeo Tarjetas"}),O=s.jsxs(s.Fragment,{children:[s.jsxs(g,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",spacing:0,px:3,pt:2,children:[s.jsx(M,{variant:"subtitle1",children:"Saldo"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"h3",color:"success.main",children:b(x)}),s.jsx(M,{variant:"caption",color:"success.main",children:"MXN"})]}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsxs(M,{variant:"subtitle1",color:"error",children:["- ",b(i)]}),s.jsx(M,{variant:"caption",color:"error",children:"MXN"})]}),B&&s.jsx(M,{variant:"caption",color:"warning.main",textAlign:"center",children:"Saldo insuficiente para realizar la(s) operacion(es)"})]}),s.jsx(vs,{cards:c,setCurrentBalance:n,insufficient:B,isBinCard:!1,onSuccess:w})]});return s.jsx(Ts,{open:e,handleClose:p,titleElement:R,children:e&&s.jsxs(s.Fragment,{children:[s.jsx(U.div,{initial:{opacity:1},animate:{opacity:t?0:1},transition:{duration:.5},style:{display:t?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:O}),s.jsx(U.div,{initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.5},style:{display:t?"flex":"none",flexDirection:"column",flex:1,overflow:"hidden"},children:s.jsx(se,{data:I,onBack:A,setTransactionLoading:F,transactionLoading:y,onClose:p})})]})})};fs.propTypes={card:f.shape({balance:f.any,id:f.any,paymentProcessor:f.any}),cardList:f.array,open:f.any,setOpen:f.func};function Cs({isRefetchingCards:e,commerceCards:o,card:r}){const{isCollapse:c}=Ps(),i=J(h=>h.setOpenFundingOrder),n=J(h=>h.setFundingCard),[x,t]=u.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(g,{px:2,py:1,gap:1,flexDirection:{lg:c?"row":"column",xl:"row"},justifyContent:"space-between",children:[s.jsx(ws,{color:"primary",variant:"text",startIcon:s.jsx(_s,{}),size:"small",onClick:()=>{i(!0),n(r)},children:"Orden Fondeo"}),s.jsx(xs,{size:"small",variant:"text",color:"primary",startIcon:s.jsx(ks,{}),loading:e,onClick:()=>{t(!0)},children:"Fondear Tarjetas"})]}),s.jsx(fs,{setOpen:t,open:x,card:r,cardList:o})]})}Cs.propTypes={card:f.any,commerceCards:f.any,isRefetchingCards:f.any};const js=({card:e,cardSelected:o,isRefetchingCards:r,commerceCards:c,disableFilter:i=!1})=>{const[n,x]=u.useState(!1),[t,h]=u.useState(!1),I=Ls(e==null?void 0:e.paymentProcessor),C=I==null?void 0:I.component,y=(o==null?void 0:o.id)===(e==null?void 0:e.id),{setGlobalCard:F,setIsMaster:B,setFilterPaymentProcessor:p}=_(E=>E),{mutate:w,isLoading:A}=As(),[R,O]=u.useState(null),T=u.useMemo(()=>c&&c[e==null?void 0:e.paymentProcessorId]||[],[c]),L=(T==null?void 0:T.length)||0,W=E=>ns=>{i||(p(E==null?void 0:E.paymentProcessor),B(!1),F(E))},V=A&&R===(e==null?void 0:e.id)||r;return s.jsx(g,{children:s.jsxs(m,{sx:{minWidth:{xs:300,md:"auto"},border:y?3:0,borderColor:E=>y?E.palette.mode==="dark"?E.palette.secondary.main:E.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsxs(g,{flexDirection:"row",gap:1,alignItems:"center",justifyContent:"space-between",children:[s.jsx(M,{variant:"caption",children:L===0?"":L+" Tarjetas"}),s.jsxs(g,{flexDirection:"row",alignItems:"center",sx:{flexWrap:"wrap"},gap:0,children:[I&&s.jsx(cs,{variant:"outlined",title:`Copiar Tarjeta - ${e==null?void 0:e.cardNumber}`,color:t?"success":"inherit",onClick:E=>{h(!0),ps(e==null?void 0:e.cardNumber),setTimeout(()=>{h(!1)},1e3)},size:"small",sx:{width:40,height:40},children:t?s.jsx(Z,{sx:{color:"success"}}):s.jsx(C,{})}),s.jsx(cs,{variant:"outlined",title:`Copiar SPEI - ${e==null?void 0:e.SPEI}`,color:n?"success":"inherit",size:"small",onClick:E=>{x(!0),ps(e==null?void 0:e.SPEI),setTimeout(()=>{x(!1)},1e3)},sx:{width:40,height:40},children:n?s.jsx(Z,{sx:{color:"success"}}):s.jsx(Es,{})}),s.jsx(g,{ml:1,children:V?s.jsx(Ds,{size:15,containerProps:{display:"flex",ml:1}}):s.jsx(Ns,{disabled:V,size:"sm",color:e!=null&&e.cardON?"success":"error",checked:(e==null?void 0:e.cardON)||!1,inputProps:{"aria-label":"controlled"},onChange:()=>{O(e==null?void 0:e.id),w({...e,cardON:!(e!=null&&e.cardON)},{onSuccess:()=>{O(null)},onError:()=>{O(null)}})}})})]})]}),sx:{px:2,py:2}}),s.jsx(X,{component:i?"div":U.div,onClick:W(e),...i?{}:{whileTap:{scale:.8},style:{cursor:"pointer"}},children:s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h6",children:e==null?void 0:e.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(ys,{sx:{width:20,height:20,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body2",children:e==null?void 0:e.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})}),s.jsx(Fs,{sx:{borderStyle:"dashed"}}),s.jsx(Cs,{isRefetchingCards:r,commerceCards:T,card:e})]})},e==null?void 0:e.cardId)};js.propTypes={card:f.shape({SPEI:f.any,balanceFormatted:f.any,cardId:f.any,id:f.any,inTransitFormatted:f.any,paymentProcessor:f.any,paymentProcessorId:f.any,cardNumber:f.any}),cardSelected:f.shape({id:f.any}),commerceCards:f.any,disableFilter:f.bool,isRefetchingCards:f.any};const ee={"MASTER CARD":"1",MASTERCARD:"1",CARNET:"2"},te=e=>{const o=gs(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0;const i=o==null?void 0:o.map(n=>{var x;return r+=parseFloat(n==null?void 0:n.balance),c+=parseFloat(n==null?void 0:n.inTransit),{...n,paymentProcessorId:ee[(x=n==null?void 0:n.paymentProcessor)==null?void 0:x.toUpperCase()]??null,id:n==null?void 0:n.cardId,SPEI:n==null?void 0:n.spei,balanceFormatted:b(n==null?void 0:n.balance),inTransitFormatted:b(n==null?void 0:n.inTransit),cardNumber:(n==null?void 0:n.cardNumber)||"",cardON:(n==null?void 0:n.block)!=="Blocked"}});return{master:{balance:r,inTransit:c,balanceFormatted:b(r),inTransitFormatted:b(c)},globals:i}},ie=e=>{const o=gs(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0,i=0,n=0,x=0;return{movements:(o==null?void 0:o.map(t=>{var w,A,R;const h=parseFloat((t==null?void 0:t.amount)||"0");(t==null?void 0:t.type.toLowerCase())==="gasto"&&(r+=h),(t==null?void 0:t.type.toLowerCase())==="ingreso"&&(c+=h);const I=t!=null&&t.receiptFiles?(w=t==null?void 0:t.receiptFiles)==null?void 0:w.split(","):[],C=I==null?void 0:I.reduce((O,T)=>(T.endsWith(".xml")?O.xml=T:T.endsWith(".pdf")&&(O.pdf=T),O),{xml:null,pdf:null}),y=(C==null?void 0:C.xml)!==null&&(C==null?void 0:C.pdf)!==null,F=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"dd MMM yyyy",{locale:Q}):"",B=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"p"):"",p=((A=t==null?void 0:t.operationType)==null?void 0:A.toLowerCase())==="otros cargos";return p&&(t!=null&&t.checked)&&y&&(n+=h),p&&(t!=null&&t.checked)&&!y&&(i+=h),p&&!(t!=null&&t.checked)&&(x+=h),{id:t==null?void 0:t.transactionId,fullDate:zs(t==null?void 0:t.date),date:F,time:B,serverDate:t==null?void 0:t.date,description:t==null?void 0:t.description,amount:h,amountFormat:b(h),paymentProcessor:t==null?void 0:t.cardPaymentProcessor,type:t==null?void 0:t.type.toLowerCase(),operationType:(R=t==null?void 0:t.operationType)==null?void 0:R.toUpperCase(),concept:(t==null?void 0:t.concept)??"",cardId:t==null?void 0:t.cardId,commerceId:t==null?void 0:t.cardCommerceId,verified:!!(t!=null&&t.checked),isMainCard:!!(t!=null&&t.cardMain),expensesControl:{id:t==null?void 0:t.receiptId,isInvoice:y,invoiceFiles:C,otherFiles:y?[]:I},original:t}}))??[],income:b(c),expenses:b(r),balanceMovements:b(c-r),expensesWithInvoice:b(n),expensesWithoutInvoice:b(i),expensesWithoutChecked:b(x),totalExpensesOtherCharges:b(n+i+x)}},ne=async()=>{const{data:e}=await v.get("/api/main-cards/information");return te(e)},re=async(e,o,r)=>{const c=new URL("/api/master-cards/movements",window.location.origin);c.searchParams.set("startDate",e),c.searchParams.set("endDate",o);const{data:i}=await v.get(c.href);return ie(i)},ae=async e=>{const o={},r=e.map(c=>v.get(`/api/enabled-cards/commerce?paymentProcessorId=${c}`).then(i=>Ws(i.data)).then(i=>{o[c]=i}));return await Promise.all(r),o},oe=(e,o={})=>{const[r,c]=u.useState(null),i=ss({queryKey:[is.COMMERCE_CARDS],queryFn:({signal:n})=>ae(e),staleTime:6e4,...o});return u.useEffect(()=>{if(i!=null&&i.isError){const n=es(i.error,"No se puede obtener la lista de tarjetas del comercio. Intente nuevamente o reporte a sistemas");c(n),H.error(n,{type:ts(i.error)})}},[i.isError,i.error]),{...i,error:r||null}},le=(e={})=>{const[o,r]=u.useState(null),c=J(n=>n.setMainCard);return{...ss([is.GLOBAL_CARDS],ne,{staleTime:6e4,refetchOnWindowFocus:!1,onError:n=>{const x=es(n,"No se puede obtener la información de las tarjetas principales");r(x),c(null),H.error(x,{type:ts(n)})},onSuccess:n=>{c(n)},...e}),error:o||null}},ce=(e,o,r={})=>{if(!e||!o)return null;const c=z(us(e),"yyyy-MM-dd"),i=z(ds(o),"yyyy-MM-dd"),[n,x]=u.useState(null),{setMovements:t,setFilterDate:h}=_(C=>C);return{...ss([is.MOVEMENTS],({signal:C})=>re(c,i),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:C=>{const y=es(C,"No se puede obtener la lista de movimientos. Intente nuevamente o reporte a sistemas");x(y),H.error(y,{type:ts(C)}),t(null)},onSuccess:C=>{h({startDate:us(e),endDate:ds(o),text:`${z(e,"dd MMMM yyyy",{locale:Q})} - ${z(o,"dd MMMM yyyy",{locale:Q})}`})},...r}),error:n||null}};function bs(){var B;const{data:e,isLoading:o,isFetching:r}=le(),c=_(p=>p.card),i=_(p=>p.resetGlobalCard),n=_(p=>p.setIsMaster),x=_(p=>p.setFilterPaymentProcessor),t=_(p=>p.isMaster),h=u.useMemo(()=>{var p;return((p=e==null?void 0:e.globals)==null?void 0:p.reduce((w,A)=>(w.push(A.paymentProcessorId),w),[]))||null},[e==null?void 0:e.globals]),{data:I,isRefetching:C}=oe(h,{enabled:!!h}),y=e==null?void 0:e.master,F=e==null?void 0:e.globals;return s.jsx(Gs,{children:s.jsxs(g,{spacing:2,flex:1,children:[o&&s.jsx(Rs,{sx:{zIndex:1}}),!o&&s.jsxs(s.Fragment,{children:[((B=e==null?void 0:e.globals)==null?void 0:B.length)>1&&s.jsx(U.div,{onClick:()=>{n(!0),i(),x(null)},whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(m,{sx:{p:0,cursor:"pointer",border:t?3:0,borderColor:p=>t?p.palette.mode==="dark"?p.palette.secondary.main:p.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsx(g,{flexDirection:"row",gap:1,alignItems:"center",children:s.jsx(M,{variant:"subtitle2",children:"Global [Master]"})}),sx:{px:2,py:2}}),s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h3",children:y==null?void 0:y.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(ys,{sx:{width:30,height:30,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body1",children:y==null?void 0:y.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})]})}),F==null?void 0:F.map(p=>{var w;return s.jsx(js,{card:p,cardSelected:c,isRefetchingCards:C||r,commerceCards:I,disableFilter:((w=e==null?void 0:e.globals)==null?void 0:w.length)<=1},p==null?void 0:p.id)})]})]})})}bs.propTypes={};const pe=$(u.lazy(()=>Y(()=>import("./build-bW9sxs1w.js"),__vite__mapDeps([36,1,2])))),ue=$(u.lazy(()=>Y(()=>import("./build-ffsJfbma.js"),__vite__mapDeps([37,1,2,17,9,22,23,16,10,24,25,26,8,15,27,20]))));function de(){var rs;const e=new Date,o=_(d=>d.filterPaymentProcessor),{setMovements:r,getBalance:c}=_(d=>d),i=_(d=>d.filterDate),n=_(d=>d.movements),x=u.useMemo(()=>i!=null&&i.startDate?new Date(i==null?void 0:i.startDate):Xs(e,{days:30}),[i==null?void 0:i.startDate]),t=u.useMemo(()=>i!=null&&i.endDate?new Date(i==null?void 0:i.endDate):e,[i==null?void 0:i.endDate]),h=u.useMemo(()=>c(),[n]),[I,C]=u.useState(x),[y,F]=u.useState(t),[B,p]=u.useState(!1),[w,A]=u.useState(!1),{data:R,isError:O,isLoading:T,isFetching:L,error:W,refetch:V}=ce(I,y);u.useEffect(()=>{I&&y&&V()},[I,y]),u.useEffect(()=>{var d;if(o){let S=0,j=0,l=0,D=0,P=0;const K=(d=R==null?void 0:R.movements)==null?void 0:d.filter(a=>{var N;return((N=a==null?void 0:a.paymentProcessor)==null?void 0:N.toLowerCase())===(o==null?void 0:o.toLowerCase())});K==null||K.forEach(a=>{var as,os,ls;(a==null?void 0:a.type.toLowerCase())==="gasto"?S+=a==null?void 0:a.amount:j+=a==null?void 0:a.amount;const N=((as=a==null?void 0:a.operationType)==null?void 0:as.toLowerCase())==="otros cargos";N&&(a!=null&&a.verified)&&((os=a==null?void 0:a.expensesControl)!=null&&os.isInvoice)&&(D+=a==null?void 0:a.amount),N&&(a!=null&&a.verified)&&!((ls=a==null?void 0:a.expensesControl)!=null&&ls.isInvoice)&&(l+=a==null?void 0:a.amount),N&&!(a!=null&&a.verified)&&(P+=a==null?void 0:a.amount)}),r({movements:K,income:b(j),expenses:b(S),balanceMovements:b(j-S),expensesWithInvoice:b(D),expensesWithoutInvoice:b(l),expensesWithoutChecked:b(P),totalExpensesOtherCharges:b(D+l+P)})}else r(R)},[o,R]);const E=d=>{const{startDate:S,endDate:j}=d;j!==null&&S!==null&&(F(j),C(S))},ns=d=>()=>{var D;const S=((D=d==null?void 0:d.getSelectedRowModel().flatRows)==null?void 0:D.map(P=>P.original))??[],j=S==null?void 0:S.some(P=>P==null?void 0:P.verified),l=S==null?void 0:S.some(P=>(P==null?void 0:P.operationType)!=="OTROS CARGOS");return j?H.warn("Existen movimientos que ya se encuentran comprobados, verifique los movimientos seleccionados."):l?H.warn("Existen movimientos que no se pueden comprobar, verifique el tipo de movimiento."):p(!0)},Ms=u.useMemo(()=>[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(Ks,{row:l})}},{accessorKey:"serverDate",header:"Fecha",size:120,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{children:s.jsx(M,{variant:"subtitle2",children:l==null?void 0:l.fullDate})})}},{accessorKey:"operationType",header:"Tipo",filterVariant:"multi-select",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,D=Ys(l==null?void 0:l.operationType),P=D==null?void 0:D.component;return s.jsx(X,{children:D?s.jsx(P,{sx:{width:25,height:25}}):s.jsx(qs,{size:22})})}},{accessorKey:"amount",header:"Monto",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,D=(l==null?void 0:l.type)==="ingreso",P=(l==null?void 0:l.type)==="terminal";return s.jsx(M,{variant:"subtitle2",fontWeight:"bold",color:D||P?"success.main":"error",children:D||P?`+ ${l==null?void 0:l.amountFormat}`:`- ${l==null?void 0:l.amountFormat}`})}},{accessorKey:"verified",header:"Comprobación",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{flexDirection:"row",width:1,justifyContent:"center",alignItems:"center",gap:1,mr:2,color:"primary",children:l!=null&&l.verified?s.jsx(Hs,{color:"green",fontWeight:"bold",fontSize:"18px"}):s.jsx(Vs,{fontSize:"18px",color:"red"})})}}],[]),k=ms(O,W,{columns:Ms,data:n||[],enableColumnPinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowActions:!0,enableRowSelection:!0,enableDensityToggle:!1,positionActionsColumn:"last",selectAllMode:"all",initialState:{density:"compact",sorting:[{id:"serverDate",desc:!0}]},state:{isLoading:T,showAlertBanner:O,showProgressBars:L},displayColumnDefOptions:{"mrt-row-select":{maxSize:10},"mrt-row-actions":{header:"Acciones",maxSize:80}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbarCustomActions:({table:d})=>s.jsx(X,{sx:{display:"flex",gap:"1rem"},children:s.jsx(xs,{loading:L,onClick:ns(d),disabled:Is(),startIcon:s.jsx(Z,{width:24,height:24}),variant:"outlined",children:"Comprobar"})}),renderRowActionMenuItems:({row:d})=>[s.jsx(q,{onClick:()=>console.info("conciliation"),children:"Conciliación"},"conciliation"),s.jsx(q,{onClick:()=>console.info("incidence"),children:"Incidencia"},"incidence"),s.jsx(q,{onClick:()=>console.info("communication"),children:"Comunicación"},"communication"),s.jsx(q,{onClick:()=>console.info("tag"),children:"Tag"},"tag")]}),G=((rs=k==null?void 0:k.getSelectedRowModel().flatRows)==null?void 0:rs.map(d=>d.original))??[],Is=u.useCallback(()=>{var j;const d=G.length>0?(j=G[0])==null?void 0:j.paymentProcessor:null;return!!!(G.every(l=>l.paymentProcessor===d)&&(k!=null&&k.getIsSomeRowsSelected()))},[G,k]);return s.jsxs(s.Fragment,{children:[s.jsxs(m,{children:[s.jsx($s,{startDate:I,endDate:y,onChangeDateRange:E,onOpenBalance:()=>A(!0),loading:L}),s.jsx(Qs,{table:k})]}),s.jsx(pe,{open:B,setOpen:p,movements:G??[]}),s.jsx(ue,{open:w,card:h,dateRange:i==null?void 0:i.text,onClose:()=>{A(!1)}})]})}function at(){return s.jsx(Os,{title:"Dashboard Master",children:s.jsxs(Js,{children:[s.jsx(Zs,{name:"Dashboard Master",links:[{name:"Inicio",href:Bs.root},{name:"Dashboard Master"}]}),s.jsx(X,{pb:4,children:s.jsxs(g,{flexDirection:{md:"row"},gap:3,children:[s.jsx(g,{minWidth:300,children:s.jsx(bs,{})}),s.jsx(g,{flex:1,children:s.jsx(de,{})})]})}),s.jsx(Us,{})]})})}export{at as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/build-uRg8ouPB.js","assets/js/index-ixKXqnJp.js","assets/css/build-pvjN466W.css","assets/js/build-etstWp0g.js","assets/js/build-FTXeMWpc.js","assets/js/build-ziaGZLXR.js","assets/js/build-FAvjNavH.js","assets/js/build-_JHXRbD6.js","assets/js/build-6YIPcFHU.js","assets/js/build-KbTEeZ86.js","assets/js/build-dm4yWFPt.js","assets/js/build-oHIjvIrR.js","assets/js/build-dEqz9zUm.js","assets/js/build-SO8f7Ll6.js","assets/js/build-VQrlUuND.js","assets/js/build-GywV9psu.js","assets/js/build-YOvIjgAO.js","assets/js/build-0U7rJSAM.js","assets/js/build-3mvdD2lh.js","assets/js/build-Uc7vb3zK.js","assets/js/build-pdsvphlv.js","assets/js/build-F7XNioOU.js","assets/js/build-LwbiozbY.js","assets/js/build-ZOc5AsDV.js","assets/js/build-M__DqRBL.js","assets/js/build-QRts0fGp.js","assets/js/build-lj6x1nL8.js","assets/js/build-LPvWp5h1.js","assets/js/build-Vrx0FahE.js","assets/js/build-RXVruzSL.js","assets/js/build-yUrQgtRs.js","assets/js/build-NI10TJ2R.js","assets/js/build-ra1ELWP8.js","assets/js/build-01KfIDYg.js","assets/js/build-aUYrQuCN.js","assets/js/build-JMbQ2yu8.js","assets/js/build-bW9sxs1w.js","assets/js/build-ffsJfbma.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}