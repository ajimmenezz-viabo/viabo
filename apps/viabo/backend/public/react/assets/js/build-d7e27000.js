import{r as c,y as Q,j as e,d as L,g as B,S as x,T as C,B as y,I as W,z as je,p as D,Z as se,C as f,D as ne,E as ge,G as Se,H as be,J as ye,R as re,K as $,m as F,N as we,O as ve,Q as oe,U as Ie,V as ie,W as Me,X as Ee,Y as De,_ as Oe,$ as Pe,b as Re,n as Ae,a0 as ke,a1 as Fe,a2 as Le,a3 as Be,k as Ne,P as Te,a4 as He,a5 as _e,a6 as Ve}from"./index-bdd855b5.js";import{g as ze,C as O,a as We,b as Ge,c as Qe}from"./build-1d4df834.js";import{u as p,M as $e,a as Ye,C as qe,b as Xe,c as Ke,P as Je,d as Ze,T as Ue,F as et}from"./build-7f88757e.js";import{C as ae}from"./build-a4aed6ca.js";import{V as tt}from"./build-e311bb5c.js";import{V as st}from"./build-19da64a8.js";import{C as nt,a as rt,b as ot,H as it}from"./build-32ca2d6f.js";import{C as at}from"./build-bb146704.js";import{C as lt}from"./build-853d93a3.js";import{R as ct}from"./build-1fabd7da.js";import{u as dt}from"./build-7131a13d.js";import{C as xt}from"./build-c31bc754.js";import"./build-3560c14e.js";import{S as ut,L as ht,I as mt}from"./build-d8980c8c.js";import{u as ft}from"./build-00f0294c.js";import{S as pt}from"./build-aec267c8.js";import{A as Ct,L as jt}from"./build-8874a07b.js";import{G as V}from"./build-5c9eacf1.js";import{M as gt}from"./build-a93e0b00.js";import{C as St}from"./build-aa2972c6.js";import{L as bt,S as yt,a as wt,b as vt,c as z,d as Z}from"./build-71bbd72a.js";import{s as It}from"./build-9563ddbe.js";import{s as Mt}from"./build-f8fc243b.js";import{E as U}from"./build-b107af18.js";import{I as Et}from"./build-8b507d93.js";import{S as Dt}from"./build-37db551a.js";import{C as Ot}from"./build-3dba308d.js";import{D as ee}from"./build-1ce81c34.js";import{C as Pt}from"./build-497212f4.js";import"./build-7452ecd6.js";import"./build-06b9a778.js";import"./build-6fe4a8d9.js";import"./build-e49d3437.js";import"./build-5caa65b9.js";import"./build-05d307fe.js";import"./build-f0356d1d.js";import"./build-862d7228.js";import"./build-e8f7d6a3.js";import"./build-dd514942.js";import"./build-6330c89b.js";import"./build-033359fd.js";import"./build-d60eb414.js";import"./build-65a08806.js";import"./build-bd5fa85a.js";import"./build-dd047424.js";import"./build-2fd9b8cd.js";import"./build-bee6630b.js";function Rt(t){const[s,o]=c.useState((t==null?void 0:t.defaultDense)||!1),[l,d]=c.useState((t==null?void 0:t.defaultOrderBy)||"name"),[u,n]=c.useState((t==null?void 0:t.defaultOrder)||"asc"),[a,r]=c.useState((t==null?void 0:t.defaultCurrentPage)||0),[h,b]=c.useState((t==null?void 0:t.defaultRowsPerPage)||5),[i,w]=c.useState((t==null?void 0:t.defaultSelected)||[]);return{dense:s,order:u,page:a,setPage:r,orderBy:l,rowsPerPage:h,selected:i,setSelected:w,resetSelected:()=>{w((t==null?void 0:t.defaultSelected)||[])},onSelectRow:m=>{const g=i.indexOf(m);let S=[];g===-1?S=S.concat(i,m):g===0?S=S.concat(i.slice(1)):g===i.length-1?S=S.concat(i.slice(0,-1)):g>0&&(S=S.concat(i.slice(0,g),i.slice(g+1))),w(S)},onSelectAllRows:(m,g)=>{if(m){w(g);return}w([])},onSort:m=>{m!==""&&(n(l===m&&u==="asc"?"desc":"asc"),d(m))},onChangePage:(m,g)=>{r(g)},onChangeDense:m=>{o(m.target.checked)},onChangeRowsPerPage:m=>{b(parseInt(m.target.value,10)),r(0)}}}const At=Q(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined"),kt=Q(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),te=Q(e.jsx("path",{d:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z"}),"PasswordTwoTone"),Ft=(t,s={})=>{const[o,l]=c.useState(null);return{...L([O.CARDS_COMMERCE_LIST],()=>ze(t),{staleTime:6e4,refetchOnMount:"always",onError:u=>{const n=B(u,"No se puede obtener la lista de tarjetas. Intente nuevamente o reporte a sistemas");l(n)},...s}),error:o||null}},Lt=(t,s={})=>{const[o,l]=c.useState(null);return{...L([O.CARD_INFO,t],({signal:u})=>We(t,u),{staleTime:6e4,onError:u=>{const n=B(u,"No se puede obtener la informacion de la tarjeta. Intente nuevamente o reporte a sistemas");l(n)},refetchOnWindowFocus:!1,...s}),error:o||null}};function Bt({disabledExpand:t=!1}){const s=p(i=>i.card),[o,l]=c.useState(t),[d,u]=c.useState(!1),[n,a]=c.useState(!1),r=p(i=>i.setOpenFundingOrder),h=p(i=>i.setFundingCard),b=p(i=>i.isMainCardSelected);return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{sx:{p:3},children:[e.jsxs(x,{display:"flex",flexDirection:"row",alignItems:"center",children:[e.jsx(C,{variant:"h6",children:b?"Fondear Comercio":"Fondear Tarjeta"}),e.jsx(y,{sx:{flex:"1 1 auto"}}),!t&&e.jsx(W,{onClick:()=>{l(i=>!i)},children:o?e.jsx(tt,{sx:{color:"text.disabled"}}):e.jsx(st,{sx:{color:"text.disabled"}})})]}),e.jsx(nt,{in:o,timeout:"auto",children:e.jsxs(x,{spacing:2,children:[e.jsxs(x,{flexDirection:"column",justifyContent:"space-between",alignItems:"baseline",gap:1,sx:{display:"flex",flexWrap:"wrap"},children:[e.jsxs(x,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{flexGrow:1,flexWrap:"wrap"},gap:1,children:[e.jsx(C,{variant:"subtitle1",sx:{color:"text.secondary"},children:"SPEI"}),e.jsx(W,{variant:"outlined",color:d?"success":"inherit",onClick:()=>{u(!0),je(s==null?void 0:s.SPEI),setTimeout(()=>{u(!1)},1e3)},children:d?e.jsx(at,{sx:{color:"success"}}):e.jsx(lt,{sx:{color:"text.disabled"}})})]}),e.jsx(C,{variant:"body1",children:s==null?void 0:s.SPEI})]}),e.jsxs(x,{flexDirection:"row",flexWrap:"wrap",gap:3,alignItems:"center",children:[e.jsx(D,{fullWidth:!0,color:"primary",variant:"outlined",startIcon:e.jsx($e,{}),onClick:()=>a(!0),children:"Compartir"}),e.jsx(D,{fullWidth:!0,color:"primary",variant:"contained",startIcon:e.jsx(ct,{}),onClick:()=>{r(!0),h(s)},children:"Orden Fondeo"})]})]})})]}),e.jsx(Ye,{card:s,open:n,onClose:()=>{a(!1)}})]})}function Nt(){const t=p(o=>o.card),{assignUser:s}=t;return e.jsxs(ae,{sx:{p:3},children:[e.jsx(C,{variant:"h6",gutterBottom:!0,children:"Asignado a:"}),e.jsxs(x,{spacing:3,children:[e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},textTransform:"capitalize",children:"Nombre"}),e.jsx(C,{variant:"body2",children:s==null?void 0:s.name})]}),(s==null?void 0:s.phone)&&e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Telefono"}),e.jsx(C,{variant:"body2",children:(s==null?void 0:s.phone)||"-"})]}),e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Correo"}),e.jsx(C,{variant:"body2",children:s==null?void 0:s.email})]})]})]})}const Tt=se(t=>e.jsx(ut,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...t}))(({theme:t})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:t.palette.mode==="dark"?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:t.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:t.palette.error.main,opacity:1,transition:t.transitions.create(["background-color"],{duration:500})}}));function le({card:t}){const[s,o]=c.useState(!1),[l,d]=c.useState(!1),{mutate:u,isLoading:n}=dt(),a=ft([O.CARD_INFO,t==null?void 0:t.id])===1;c.useEffect(()=>{o(!1),d(!1)},[t==null?void 0:t.id]);const r=h=>{u({...t,cardON:!(t!=null&&t.cardON)})};return e.jsx(ne,{sx:h=>({borderRadius:1,position:"relative",zIndex:1,backgroundColor:h.palette.primary.light,color:"white",minHeight:"auto!important",height:{xs:1,sm:"auto"},py:{xs:0,sm:2}}),children:e.jsxs(x,{flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",sx:{width:1},gap:2,alignItems:"center",children:[e.jsxs(x,{flexDirection:"column",spacing:0,alignItems:{xs:"center",md:"start"},children:[e.jsxs(x,{flexDirection:"row",gap:1,alignItems:"center",children:[e.jsx(C,{variant:"subtitle2",children:"Disponible"}),n||a?e.jsx(ge,{size:30,containerProps:{display:"flex",ml:1}}):e.jsx(Tt,{disabled:n,color:t!=null&&t.cardON?"success":"error",checked:(t==null?void 0:t.cardON)||!1,onChange:r,sx:{m:1},inputProps:{"aria-label":"controlled"}})]}),e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(C,{variant:"h3",children:t==null?void 0:t.balanceFormatted}),e.jsx(C,{variant:"caption",children:"MXN"})]})]}),e.jsxs(x,{justifyContent:"flex-end",spacing:1,alignItems:{xs:"center",md:"end"},children:[e.jsx(xt,{card:t,color:"#fff"}),e.jsxs(x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:1,divider:e.jsx(Se,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),children:[e.jsx(C,{color:"#fff",variant:"subtitle2",children:t==null?void 0:t.expiration}),e.jsx(D,{startIcon:s?e.jsx(G,{handleFinish:()=>o(!1)}):e.jsx(te,{}),color:"inherit",onClick:()=>o(h=>!h),sx:{px:0,mx:0},children:s?e.jsx(x,{px:1,children:t==null?void 0:t.cvv}):"CVV"}),e.jsx(D,{startIcon:l?e.jsx(G,{handleFinish:()=>d(!1)}):e.jsx(te,{}),color:"inherit",onClick:()=>d(h=>!h),children:l?e.jsx(x,{px:1,children:t==null?void 0:t.nip}):"NIP"})]})]})]})})}le.propTypes={card:f.shape({balanceFormatted:f.any,cardON:f.bool,cvv:f.any,expiration:f.any,id:f.any,nip:f.any})};function G({handleFinish:t,duration:s=10}){const[o,l]=c.useState(100);return c.useEffect(()=>{let d;return o>0?d=setInterval(()=>{l(u=>u-100/s)},1e3):t(),()=>clearInterval(d)},[o,s]),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(be,{variant:"determinate",value:o}),e.jsx(y,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{variant:"caption",component:"div",color:"text.primary",children:`${Math.ceil(s*o/100)} `})})]})}G.propTypes={duration:f.number,handleFinish:f.func};function Ht(){const t=p(r=>r.card),s=p(r=>r.addInfoCard),{data:o,isLoading:l,isError:d,error:u,refetch:n}=Lt(t==null?void 0:t.id,{enabled:!!(t!=null&&t.id)}),{isCollapse:a}=ye();return c.useEffect(()=>{o&&s(o)},[o]),e.jsx(x,{sx:r=>({pl:{xs:0,sm:2,lg:2},overflow:"hidden",flexDirection:"column",flexGrow:1}),children:e.jsxs(Ct,{children:[l&&t&&e.jsx(re,{}),d&&!o&&!l&&e.jsx($,{sx:{justifyContent:"flex-start"},errorMessage:u,handleButton:n}),t&&!l&&!d&&o&&e.jsxs(e.Fragment,{children:[e.jsx(F.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:e.jsxs(x,{sx:r=>({overflow:"hidden",flexDirection:"column",flexGrow:1}),children:[e.jsx(le,{card:t}),e.jsx(qe,{})]})}),e.jsx(y,{sx:{overflowY:"auto"},children:e.jsx(F.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:e.jsx(x,{pt:2,pb:4,px:2,children:e.jsxs(V,{container:!0,spacing:3,sx:{p:0,pb:3},children:[e.jsx(V,{item:!0,xs:12,sm:12,md:12,lg:a?4:12,xl:4,children:e.jsxs(x,{spacing:3,children:[e.jsx(Xe,{card:t}),e.jsx(Bt,{}),e.jsx(Nt,{})]})}),e.jsx(V,{item:!0,xs:12,sm:12,md:12,lg:a?8:12,xl:8,children:e.jsx(Ke,{})})]})})})})]}),!t&&e.jsx(F.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:e.jsxs(x,{spacing:3,sx:{height:"100%",width:"100%"},children:[e.jsx(we,{variant:"filled",severity:"info",children:"Debe seleccionar una tarjeta para ver sus detalles!"}),e.jsx(x,{alignItems:"center",children:e.jsx(pt,{sx:{width:"30%"}})})]})})]})})}const _t=se(ve)(({theme:t})=>({borderRadius:"8px!important",width:1,justifyContent:"center",display:"flex",alignItems:"center",mb:1}));ce.propTypes={isOpenSidebar:f.bool,selected:f.bool,card:f.object,onSelectRow:f.func,onOpenDetails:f.func};function ce({isOpenSidebar:t,card:s,selected:o,onSelectRow:l,onOpenDetails:d}){const{id:u,cardUserNumber:n,cardType:a}=s,r=p(j=>j.setCard),h=p(j=>j.card),b=p(j=>j.addInfoCard),i=oe(),w=(i==null?void 0:i.permissions)??[],M=u===(h==null?void 0:h.id)&&h?(h==null?void 0:h.cardON)===!0?"online":"offline":"invisible",P=u===(h==null?void 0:h.id),N=j=>{var E;!((E=j.target)==null?void 0:E.type)&&!P&&(r(s),b({movements:[],expenses:"$0.00",income:"$0.00",balanceMovements:"$0.00"}),d())};return e.jsx(Ie,{title:t?"":n,arrow:!0,placement:"right",children:e.jsx(jt,{sx:{mb:1,padding:0,borderRadius:1,"& :hover":{color:"text.primary"}},secondaryAction:t&&w.includes(ie.COMMERCE_CARDS)&&e.jsx(St,{edge:"start",checked:o,onClick:l,inputProps:{"aria-labelledby":u}}),disablePadding:!0,children:e.jsxs(_t,{onClick:N,sx:{...P&&{bgcolor:"secondary.light",color:"black","& :hover":{color:"text.primary"}},"& :hover":{color:"text.primary"},width:1,py:1,gap:1},children:[e.jsx(bt,{sx:{ml:2,m:0},children:e.jsxs(y,{sx:{position:"relative"},children:[e.jsx(Me,{sx:j=>({width:30,height:30,m:0,color:j.palette.primary.contrastText,backgroundColor:j.palette.primary.main}),children:a==="Carnet"?e.jsx(rt,{sx:{width:20},color:"white"}):e.jsx(gt,{sx:{width:20}})}),e.jsx(Ee,{status:M,sx:{right:0,bottom:0,position:"absolute"}})]})}),t&&e.jsx(e.Fragment,{children:e.jsx(x,{sx:{width:1},children:e.jsx(C,{noWrap:!0,variant:"subtitle2",children:n})})})]})})})}const Vt=c.memo(ce);de.propTypes={cards:f.array,isOpenSidebar:f.bool,onOpenDetails:f.func,isLoading:f.bool,sx:f.object};function de({cards:t,isOpenSidebar:s,isLoading:o,sx:l,onOpenDetails:d,...u}){const n=p(i=>i.setSelectedCards),a=p(i=>i.selectedCards,It),{selected:r,onSelectRow:h,resetSelected:b}=Rt();return c.useEffect(()=>{n(r)},[r]),c.useEffect(()=>{(a==null?void 0:a.length)===0&&b()},[a]),e.jsx(De,{disablePadding:!0,sx:l,...u,children:(o?[...Array(5)]:t).map((i,w)=>i!=null&&i.id?e.jsx(Vt,{isOpenSidebar:s,card:i,selected:r==null?void 0:r.some(M=>(M==null?void 0:M.id)===(i==null?void 0:i.id)),onSelectRow:()=>h(i),onOpenDetails:d},i==null?void 0:i.id):e.jsx(yt,{isOpenSideBar:s},w))})}function xe({cardTypes:t,isLoading:s,isError:o,refetch:l}){const d=p(r=>r.setCardTypeSelected),u=p(r=>r.cardTypeSelected),n=p(r=>r.setSelectedCards),a=r=>{d(r==null?void 0:r.id),n([])};return e.jsxs(y,{display:"flex",children:[s&&e.jsx(re,{}),o&&!s&&e.jsx($,{errorMessage:"No existen tipos de tarjetas para este comercio",handleButton:l}),!s&&!o&&(t==null?void 0:t.map(r=>{const h=u===(r==null?void 0:r.id);return e.jsx(ht,{variant:h?"ghost":"filled",color:Oe((r==null?void 0:r.name)||"inherit"),sx:{textTransform:"uppercase",marginRight:1,marginBottom:2,cursor:"pointer",border:h?3:0,borderColor:h?b=>b.palette.primary.main:"inherit"},children:e.jsx(F.div,{onClick:()=>a(r),whileHover:{scale:1.03},whileTap:{scale:.8},children:r==null?void 0:r.name},r==null?void 0:r.id)},r==null?void 0:r.id)}))]})}xe.propTypes={cardTypes:f.array,isError:f.any,isLoading:f.any,refetch:f.any};const zt=(t={})=>{const[s,o]=c.useState(null),l=p(n=>n.setCardTypeSelected),d=p(n=>n.cardTypeSelected);return{...L([O.PAYMENT_PROCESSORS],Ge,{staleTime:6e4,refetchOnMount:"always",onError:n=>{const a=B(n,"No se puede obtener la lista de los tipos de tarjetas. Intente nuevamente o reporte a sistemas");o(a)},onSuccess:n=>{const a=(n==null?void 0:n.find(r=>(r==null?void 0:r.id)==="2"))||Array.isArray(n)&&(n==null?void 0:n.length)>0&&n[0]||null;a&&!d&&l(a==null?void 0:a.id)},...t}),error:s||null}},Wt=(t,s={})=>{const[o,l]=c.useState(null),d=p(n=>n.setMainCard);return{...L([O.MAIN_CARD],({signal:n})=>Qe(t,n),{staleTime:6e4,refetchOnWindowFocus:!1,onError:n=>{const a=B(n,"No se puede obtener la informacion de la tarjeta principal");l(a),d(null),Pe.error(a,{type:Re(n)})},onSuccess:n=>{d(n)},...s}),error:o||null}};function Gt(){const t=p(v=>{var I;return(I=v.card)==null?void 0:I.id}),s=p(v=>v.cardTypeSelected),{data:o,isLoading:l,isError:d,refetch:u}=zt(),{data:n,isLoading:a,isRefetching:r,isError:h,error:b,refetch:i,isSuccess:w}=Ft(s,{enabled:!1}),{data:M,refetch:P,isLoading:N}=Wt(s,{enabled:!1}),j=oe(),T=(j==null?void 0:j.permissions)??[],E=a||r,Y=Ae(),[m,g]=c.useState(!0),[S,q]=c.useState(""),[A,k]=c.useState(n||[]),[ue,H]=c.useState(!1),R=ke("up","md"),he=S&&ue,X=R&&!m;c.useEffect(()=>{s&&i(),s&&T.includes(ie.COMMERCE_CARDS)&&P()},[s]),c.useEffect(()=>{if(!R)return _()},[R,t]),c.useEffect(()=>{if(!m)return H(!1)},[m]),c.useEffect(()=>{n&&k(n)},[n]);const _=()=>{g(!1)},K=()=>{g(v=>(v&&(q(""),k(n)),!v))},me=()=>{H(!1)},fe=async v=>{try{const{value:I}=v.target;if(q(I),I){const Ce=Mt(n,I)||[];k(Ce)}else k(n)}catch(I){console.error(I)}},pe=()=>{H(!0)},J=e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[m&&e.jsx(xe,{cardTypes:o,isLoading:l,isError:d,refetch:u}),!s&&m&&!l&&e.jsx(U,{pt:2.5,message:"Seleccione un tipo de tarjeta para obtener la lista de tarjetas"})]}),s&&!l&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(y,{sx:{p:2,px:0},children:e.jsxs(x,{direction:"row",justifyContent:m?"flex-end":"center",alignItems:"center",spacing:2,children:[!X&&e.jsx(Pt,{onClickAway:me,children:e.jsx(mt,{fullWidth:!0,size:"small",value:S,onFocus:pe,onChange:fe,placeholder:"Buscar Tarjetas...",InputProps:{startAdornment:e.jsx(Et,{position:"start",children:e.jsx(Dt,{sx:{color:"text.disabled",width:20,height:20}})})}})}),e.jsx(x,{direction:"row",alignItems:"center",justifyContent:"center",children:e.jsx(wt,{size:"small",sx:{...!m&&{transform:"rotate(180deg)"}},onClick:K,children:Fe})})]})}),h&&m&&!n&&!E&&e.jsx($,{errorMessage:b,handleButton:i}),n&&m&&(n==null?void 0:n.length)===0&&!E&&e.jsx(U,{pt:2.5,message:"No hay tarjetas activas en este tipo de tarjeta"}),e.jsx(Le,{sx:{height:.98},children:e.jsxs(e.Fragment,{children:[e.jsx(de,{isOpenSidebar:m,cards:A||[],isLoading:E,onOpenDetails:_}),he&&(A==null?void 0:A.length)===0&&(n==null?void 0:n.length)>0&&e.jsx(Be,{sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center"},searchQuery:S})]})})]})]});return e.jsxs(e.Fragment,{children:[!R&&!m&&e.jsx(vt,{onClick:K,children:e.jsx(Ot,{sx:{width:16,height:16}})}),R?e.jsx(ee,{open:m,variant:"persistent",PaperProps:{sx:{height:1,borderRightStyle:"none",bgcolor:"background.default"}},sx:{height:1,width:z,transition:Y.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",backgroundColor:"transparent!important",width:z},...X&&{width:Z,"& .MuiDrawer-paper":{width:Z,backgroundColor:"transparent!important",position:"static",transform:"none !important",visibility:"visible !important"}}},children:J}):e.jsx(ee,{ModalProps:{keepMounted:!0},open:m,onClose:_,sx:{height:1,"& .MuiDrawer-paper":{width:z,p:2}},children:J})]})}function Qt(){const[t,s]=c.useState(!1),[o,l]=c.useState(!1),d=p(a=>a.mainCard),u=p(a=>a.setSelectedCards),n=()=>{u([])};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{sx:a=>({position:"sticky",borderRadius:1,py:4,top:0,boxShadow:a.customShadows.z8,backgroundColor:a.palette.info.lighter,color:"white"}),children:e.jsxs(x,{flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",sx:{width:1},gap:2,alignItems:"center",children:[e.jsxs(x,{flexDirection:"row",alignItems:"center",gap:1,children:[e.jsx(W,{"aria-label":"close",size:"small",onClick:n,children:e.jsx(At,{width:20,height:20,fontSize:"inherit",color:"primary"})}),e.jsx(C,{variant:"subtitle2",color:"info.main",children:"Acciones:"})]}),e.jsxs(x,{flexDirection:"row",gap:2,justifyContent:"space-between",children:[e.jsx(D,{startIcon:e.jsx(kt,{}),variant:"outlined",color:"info",onClick:()=>{s(!0),l(!1)},children:"Mensaje"}),d&&e.jsx(D,{startIcon:e.jsx(Je,{}),variant:"outlined",color:"info",onClick:()=>{l(!0),s(!1)},children:"Fondear"})]})]})}),e.jsx(Ze,{isOpenCompose:t,onCloseCompose:()=>s(!1)}),e.jsx(Ue,{open:o,setOpen:l,isFundingCard:!0})]})}function Hs(){const t=p(o=>o==null?void 0:o.selectedCards),s=Ne();return c.useEffect(()=>()=>{const o=Object.values(O);s.cancelQueries(o)},[]),e.jsx(Te,{title:"Lista de Tarjetas",children:e.jsxs(ot,{children:[e.jsxs(y,{display:"flex",overflow:"hidden",sx:{height:"100vH",maxHeight:"100%",flexDirection:"column"},children:[e.jsx(y,{px:1,children:e.jsx(it,{name:"Lista de Tarjetas",links:[{name:"Inicio",href:He.root},{name:"Viabo Card",href:_e.cards},{name:Ve.cards.name}]})}),e.jsx(x,{flexDirection:"row",sx:{display:"flex"},children:e.jsx(x,{sx:o=>({overflow:"hidden",flexDirection:"column",flexGrow:1,pb:2}),children:(t==null?void 0:t.length)>0&&e.jsx(Qt,{})})}),e.jsxs(y,{display:"flex",overflow:"hidden",sx:{flex:"1 1 0%"},children:[e.jsx(y,{display:"block",width:1,position:"absolute"}),e.jsx(Gt,{}),e.jsx(Ht,{})]})]}),e.jsx(et,{})]})})}export{Hs as default};
