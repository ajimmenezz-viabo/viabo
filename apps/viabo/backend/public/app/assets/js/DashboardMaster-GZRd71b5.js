import{r as p,P as f,i as s,V as g,T as M,m as X,O as Is,bZ as Ss,a0 as xs,aZ as Ts,x as m,bj as hs,I as cs,aQ as Q,B as $,b_ as gs,X as Ps,aM as z,aw as Z,e as v,a9 as H,aN as ps,aO as us,aF as ws,aP as Es,a4 as K}from"./vendor-_TWOdD6q.js";import{L as U,_ as Y,z as Ds,O as Fs,e as ds,f as Rs,C as Os,q as ss,g as es,a as ts,R as Bs,P as As,o as _s}from"./index-nqwTldEB.js";import{f as b}from"./fade-FopuCQlG.js";import{u as J,e as ks,D as ns}from"./useToggleStatusCard-tgrs2wTg.js";import{u as _}from"./masterGlobalsStore-9YMITiIW.js";import{g as Ls}from"./cardTypes-Qdi247wS.js";import{a as Ns}from"./TextMaxLine-Gfx5-7AO.js";import{g as ys}from"./crypto-4w0xa2KF.js";import{f as zs}from"./formatTime-6Hp-6rfJ.js";import{a as Ws}from"./cardsAdapter-AGEHEOqC.js";import{B as Gs,a as Hs}from"./index.esm-OyXyu5Te.js";import{M as Vs,L as qs,F as Ks}from"./FundingOrder-C-sRoSYq.js";import{C as Xs}from"./CardMovementsHeader-244xj1yo.js";import{g as $s}from"./operationTypes-iYKJEwW2.js";import{M as Us}from"./MaterialDataTable-BTvjxTEd.js";import{u as Ys}from"./useMaterialTable-YFDO3MZ_.js";import{C as Qs,H as Zs}from"./HeaderPage-uZxPZWsy.js";import"./transition-Uc7vb3zK.js";import"./cardMovementsAdapter-8Omoo-W_.js";import"./AmexLogo-Q1iP8idz.js";import"./CarnetLogo-YZnWVrub.js";import"./MasterCardLogo-hSHfVJgz.js";import"./VisaLogo-n7L9rAXg.js";import"./formik.esm-x3Ufw1qH.js";import"./UploadSingleFile-hU4ONxup.js";import"./matchTypes--uN0rjmL.js";import"./iconBase-l64xCUfC.js";import"./index.esm-wEzUF-or.js";import"./Link-zrt1mfXA.js";import"./viabo-card-zH8OCAbq.js";import"./viabo-pay-zEF68lUW.js";const Js=U(p.lazy(()=>Y(()=>import("./TransactionForm-TiFSGHHq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])))),ms=U(p.lazy(()=>Y(()=>import("./ResumeTransactionForm-AyRxM6Nm.js"),__vite__mapDeps([18,1,7,2,3,9,10,6,8,11,12,13,19,20,21,22,23])))),fs=({open:e,setOpen:o,card:r,cardList:c=[]})=>{const[n,i]=p.useState(0),x=p.useMemo(()=>r==null?void 0:r.balance,[r==null?void 0:r.balance]),[t,h]=p.useState(!1),[I,C]=p.useState(null),[y,w]=p.useState(!1),B=p.useMemo(()=>(parseFloat(x)-n).toFixed(2)<0,[n,x]),D=()=>{o(!1),i(0),h(!1),C(null),w(!1)},u=T=>{const W=r==null?void 0:r.id;C({cardOriginId:W,paymentProcessor:r==null?void 0:r.paymentProcessor,isGlobal:!1,transactions:(T==null?void 0:T.transactions)||[],concept:T==null?void 0:T.concept,balance:x,currentBalance:n}),h(!0)},E=()=>{h(!1)},F=s.jsx(M,{variant:"h6",children:" Revisión - Fondeo Tarjetas"}),A=s.jsxs(s.Fragment,{children:[s.jsxs(g,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",spacing:0,px:3,pt:2,children:[s.jsx(M,{variant:"subtitle1",children:"Saldo"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"h3",color:"success.main",children:b(x)}),s.jsx(M,{variant:"caption",color:"success.main",children:"MXN"})]}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsxs(M,{variant:"subtitle1",color:"error",children:["- ",b(n)]}),s.jsx(M,{variant:"caption",color:"error",children:"MXN"})]}),B&&s.jsx(M,{variant:"caption",color:"warning.main",textAlign:"center",children:"Saldo insuficiente para realizar la(s) operacion(es)"})]}),s.jsx(Js,{cards:c,setCurrentBalance:i,insufficient:B,isBinCard:!1,onSuccess:u})]});return s.jsx(Ds,{open:e,handleClose:D,titleElement:F,children:e&&s.jsxs(s.Fragment,{children:[s.jsx(X.div,{initial:{opacity:1},animate:{opacity:t?0:1},transition:{duration:.5},style:{display:t?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:A}),s.jsx(X.div,{initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.5},style:{display:t?"flex":"none",flexDirection:"column",flex:1,overflow:"hidden"},children:s.jsx(ms,{data:I,onBack:E,setTransactionLoading:w,transactionLoading:y,onClose:D})})]})})};fs.propTypes={card:f.shape({balance:f.any,id:f.any,paymentProcessor:f.any}),cardList:f.array,open:f.any,setOpen:f.func};function Cs({isRefetchingCards:e,commerceCards:o,card:r}){const{isCollapse:c}=Fs(),n=J(h=>h.setOpenFundingOrder),i=J(h=>h.setFundingCard),[x,t]=p.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(g,{px:2,py:1,gap:1,flexDirection:{lg:c?"row":"column",xl:"row"},justifyContent:"space-between",children:[s.jsx(Is,{color:"primary",variant:"text",startIcon:s.jsx(Ss,{}),size:"small",onClick:()=>{n(!0),i(r)},children:"Orden Fondeo"}),s.jsx(xs,{size:"small",variant:"text",color:"primary",startIcon:s.jsx(Ts,{}),loading:e,onClick:()=>{t(!0)},children:"Fondear Tarjetas"})]}),s.jsx(fs,{setOpen:t,open:x,card:r,cardList:o})]})}Cs.propTypes={card:f.any,commerceCards:f.any,isRefetchingCards:f.any};const js=({card:e,cardSelected:o,isRefetchingCards:r,commerceCards:c,disableFilter:n=!1})=>{const[i,x]=p.useState(!1),[t,h]=p.useState(!1),I=Ls(e==null?void 0:e.paymentProcessor),C=I==null?void 0:I.component,y=(o==null?void 0:o.id)===(e==null?void 0:e.id),{setGlobalCard:w,setIsMaster:B,setFilterPaymentProcessor:D}=_(R=>R),{mutate:u,isLoading:E}=ks(),[F,A]=p.useState(null),T=p.useMemo(()=>c&&c[e==null?void 0:e.paymentProcessorId]||[],[c]),L=(T==null?void 0:T.length)||0,W=R=>is=>{n||(D(R==null?void 0:R.paymentProcessor),B(!1),w(R))},V=E&&F===(e==null?void 0:e.id)||r;return s.jsx(g,{children:s.jsxs(m,{sx:{minWidth:{xs:300,md:"auto"},border:y?3:0,borderColor:R=>y?R.palette.mode==="dark"?R.palette.secondary.main:R.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsxs(g,{flexDirection:"row",gap:1,alignItems:"center",justifyContent:"space-between",children:[s.jsx(M,{variant:"caption",children:L===0?"":L+" Tarjetas"}),s.jsxs(g,{flexDirection:"row",alignItems:"center",sx:{flexWrap:"wrap"},gap:0,children:[I&&s.jsx(cs,{variant:"outlined",title:`Copiar Tarjeta - ${e==null?void 0:e.cardNumber}`,color:t?"success":"inherit",onClick:R=>{h(!0),ds(e==null?void 0:e.cardNumber),setTimeout(()=>{h(!1)},1e3)},size:"small",sx:{width:40,height:40},children:t?s.jsx(Q,{sx:{color:"success"}}):s.jsx(C,{})}),s.jsx(cs,{variant:"outlined",title:`Copiar SPEI - ${e==null?void 0:e.SPEI}`,color:i?"success":"inherit",size:"small",onClick:R=>{x(!0),ds(e==null?void 0:e.SPEI),setTimeout(()=>{x(!1)},1e3)},sx:{width:40,height:40},children:i?s.jsx(Q,{sx:{color:"success"}}):s.jsx(Rs,{})}),s.jsx(g,{ml:1,children:V?s.jsx(Os,{size:15,containerProps:{display:"flex",ml:1}}):s.jsx(Ns,{disabled:V,size:"sm",color:e!=null&&e.cardON?"success":"error",checked:(e==null?void 0:e.cardON)||!1,inputProps:{"aria-label":"controlled"},onChange:()=>{A(e==null?void 0:e.id),u({...e,cardON:!(e!=null&&e.cardON)},{onSuccess:()=>{A(null)},onError:()=>{A(null)}})}})})]})]}),sx:{px:2,py:2}}),s.jsx($,{component:n?"div":X.div,onClick:W(e),...n?{}:{whileTap:{scale:.8},style:{cursor:"pointer"}},children:s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h6",children:e==null?void 0:e.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(gs,{sx:{width:20,height:20,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body2",children:e==null?void 0:e.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})}),s.jsx(Ps,{sx:{borderStyle:"dashed"}}),s.jsx(Cs,{isRefetchingCards:r,commerceCards:T,card:e})]})},e==null?void 0:e.cardId)};js.propTypes={card:f.shape({SPEI:f.any,balanceFormatted:f.any,cardId:f.any,id:f.any,inTransitFormatted:f.any,paymentProcessor:f.any,paymentProcessorId:f.any,cardNumber:f.any}),cardSelected:f.shape({id:f.any}),commerceCards:f.any,disableFilter:f.bool,isRefetchingCards:f.any};const vs={"MASTER CARD":"1",MASTERCARD:"1",CARNET:"2"},se=e=>{const o=ys(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0;const n=o==null?void 0:o.map(i=>{var x;return r+=parseFloat(i==null?void 0:i.balance),c+=parseFloat(i==null?void 0:i.inTransit),{...i,paymentProcessorId:vs[(x=i==null?void 0:i.paymentProcessor)==null?void 0:x.toUpperCase()]??null,id:i==null?void 0:i.cardId,SPEI:i==null?void 0:i.spei,balanceFormatted:b(i==null?void 0:i.balance),inTransitFormatted:b(i==null?void 0:i.inTransit),cardNumber:(i==null?void 0:i.cardNumber)||"",cardON:(i==null?void 0:i.block)!=="Blocked"}});return{master:{balance:r,inTransit:c,balanceFormatted:b(r),inTransitFormatted:b(c)},globals:n}},ee=e=>{const o=ys(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0,n=0,i=0,x=0;return{movements:(o==null?void 0:o.map(t=>{var u,E,F;const h=parseFloat((t==null?void 0:t.amount)||"0");(t==null?void 0:t.type.toLowerCase())==="gasto"&&(r+=h),(t==null?void 0:t.type.toLowerCase())==="ingreso"&&(c+=h);const I=t!=null&&t.receiptFiles?(u=t==null?void 0:t.receiptFiles)==null?void 0:u.split(","):[],C=I==null?void 0:I.reduce((A,T)=>(T.endsWith(".xml")?A.xml=T:T.endsWith(".pdf")&&(A.pdf=T),A),{xml:null,pdf:null}),y=(C==null?void 0:C.xml)!==null&&(C==null?void 0:C.pdf)!==null,w=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"dd MMM yyyy",{locale:Z}):"",B=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"p"):"",D=((E=t==null?void 0:t.operationType)==null?void 0:E.toLowerCase())==="otros cargos";return D&&(t!=null&&t.checked)&&y&&(i+=h),D&&(t!=null&&t.checked)&&!y&&(n+=h),D&&!(t!=null&&t.checked)&&(x+=h),{id:t==null?void 0:t.transactionId,fullDate:zs(t==null?void 0:t.date),date:w,time:B,serverDate:t==null?void 0:t.date,description:t==null?void 0:t.description,amount:h,amountFormat:b(h),paymentProcessor:t==null?void 0:t.cardPaymentProcessor,type:t==null?void 0:t.type.toLowerCase(),operationType:(F=t==null?void 0:t.operationType)==null?void 0:F.toUpperCase(),concept:(t==null?void 0:t.concept)??"",cardId:t==null?void 0:t.cardId,commerceId:t==null?void 0:t.cardCommerceId,verified:!!(t!=null&&t.checked),isMainCard:!!(t!=null&&t.cardMain),expensesControl:{id:t==null?void 0:t.receiptId,isInvoice:y,invoiceFiles:C,otherFiles:y?[]:I},original:t}}))??[],income:b(c),expenses:b(r),balanceMovements:b(c-r),expensesWithInvoice:b(i),expensesWithoutInvoice:b(n),expensesWithoutChecked:b(x),totalExpensesOtherCharges:b(i+n+x)}},te=async()=>{const{data:e}=await ss.get("/api/main-cards/information");return se(e)},ne=async(e,o,r)=>{const c=new URL("/api/master-cards/movements",window.location.origin);c.searchParams.set("startDate",e),c.searchParams.set("endDate",o);const{data:n}=await ss.get(c.href);return ee(n)},ie=async e=>{const o={},r=e.map(c=>ss.get(`/api/enabled-cards/commerce?paymentProcessorId=${c}`).then(n=>Ws(n.data)).then(n=>{o[c]=n}));return await Promise.all(r),o},re=(e,o={})=>{const[r,c]=p.useState(null),n=v({queryKey:[ns.COMMERCE_CARDS],queryFn:({signal:i})=>ie(e),staleTime:6e4,...o});return p.useEffect(()=>{if(n!=null&&n.isError){const i=es(n.error,"No se puede obtener la lista de tarjetas del comercio. Intente nuevamente o reporte a sistemas");c(i),H.error(i,{type:ts(n.error)})}},[n.isError,n.error]),{...n,error:r||null}},ae=(e={})=>{const[o,r]=p.useState(null),c=J(i=>i.setMainCard);return{...v([ns.GLOBAL_CARDS],te,{staleTime:6e4,refetchOnWindowFocus:!1,onError:i=>{const x=es(i,"No se puede obtener la información de las tarjetas principales");r(x),c(null),H.error(x,{type:ts(i)})},onSuccess:i=>{c(i)},...e}),error:o||null}},oe=(e,o,r={})=>{if(!e||!o)return null;const c=z(ps(e),"yyyy-MM-dd"),n=z(us(o),"yyyy-MM-dd"),[i,x]=p.useState(null),{setMovements:t,setFilterDate:h}=_(C=>C);return{...v([ns.MOVEMENTS],({signal:C})=>ne(c,n),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:C=>{const y=es(C,"No se puede obtener la lista de movimientos. Intente nuevamente o reporte a sistemas");x(y),H.error(y,{type:ts(C)}),t(null)},onSuccess:C=>{h({startDate:ps(e),endDate:us(o),text:`${z(e,"dd MMMM yyyy",{locale:Z})} - ${z(o,"dd MMMM yyyy",{locale:Z})}`})},...r}),error:i||null}};function le(){var D;const{data:e,isLoading:o,isFetching:r}=ae(),c=_(u=>u.card),n=_(u=>u.resetGlobalCard),i=_(u=>u.setIsMaster),x=_(u=>u.setFilterPaymentProcessor),t=_(u=>u.isMaster),h=p.useMemo(()=>{var u;return((u=e==null?void 0:e.globals)==null?void 0:u.reduce((E,F)=>(E.push(F.paymentProcessorId),E),[]))||null},[e==null?void 0:e.globals]),{data:I,isRefetching:C}=re(h,{enabled:!!h}),y=e==null?void 0:e.master,w=e==null?void 0:e.globals,B=o||(w==null?void 0:w.length)>0;return s.jsx(g,{minWidth:B?300:"auto",mr:{md:B?3:0},mb:{xs:B?3:0,md:0},children:s.jsx(ws,{children:s.jsxs(g,{spacing:2,flex:1,children:[o&&s.jsx(Bs,{sx:{zIndex:1}}),!o&&s.jsxs(s.Fragment,{children:[((D=e==null?void 0:e.globals)==null?void 0:D.length)>1&&s.jsx(X.div,{onClick:()=>{i(!0),n(),x(null)},whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(m,{sx:{p:0,cursor:"pointer",border:t?3:0,borderColor:u=>t?u.palette.mode==="dark"?u.palette.secondary.main:u.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsx(g,{flexDirection:"row",gap:1,alignItems:"center",children:s.jsx(M,{variant:"subtitle2",children:"Global [Master]"})}),sx:{px:2,py:2}}),s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h3",children:y==null?void 0:y.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(gs,{sx:{width:30,height:30,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body1",children:y==null?void 0:y.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})]})}),w==null?void 0:w.map(u=>{var E;return s.jsx(js,{card:u,cardSelected:c,isRefetchingCards:C||r,commerceCards:I,disableFilter:((E=e==null?void 0:e.globals)==null?void 0:E.length)<=1},u==null?void 0:u.id)})]})]})})})}const ce=U(p.lazy(()=>Y(()=>import("./VerifyExpensesDrawer-cE2K_e8g.js"),__vite__mapDeps([24,2,1,3])))),pe=U(p.lazy(()=>Y(()=>import("./BalanceDrawer-CbdMtmUY.js"),__vite__mapDeps([25,1,2,3]))));function ue(){var rs;const e=new Date,o=_(d=>d.filterPaymentProcessor),{setMovements:r,getBalance:c}=_(d=>d),n=_(d=>d.filterDate),i=_(d=>d.movements),x=p.useMemo(()=>n!=null&&n.startDate?new Date(n==null?void 0:n.startDate):Es(e,{days:30}),[n==null?void 0:n.startDate]),t=p.useMemo(()=>n!=null&&n.endDate?new Date(n==null?void 0:n.endDate):e,[n==null?void 0:n.endDate]),h=p.useMemo(()=>c(),[i]),[I,C]=p.useState(x),[y,w]=p.useState(t),[B,D]=p.useState(!1),[u,E]=p.useState(!1),{data:F,isError:A,isLoading:T,isFetching:L,error:W,refetch:V}=oe(I,y);p.useEffect(()=>{I&&y&&V()},[I,y]),p.useEffect(()=>{var d;if(o){let S=0,j=0,l=0,O=0,P=0;const q=(d=F==null?void 0:F.movements)==null?void 0:d.filter(a=>{var N;return((N=a==null?void 0:a.paymentProcessor)==null?void 0:N.toLowerCase())===(o==null?void 0:o.toLowerCase())});q==null||q.forEach(a=>{var as,os,ls;(a==null?void 0:a.type.toLowerCase())==="gasto"?S+=a==null?void 0:a.amount:j+=a==null?void 0:a.amount;const N=((as=a==null?void 0:a.operationType)==null?void 0:as.toLowerCase())==="otros cargos";N&&(a!=null&&a.verified)&&((os=a==null?void 0:a.expensesControl)!=null&&os.isInvoice)&&(O+=a==null?void 0:a.amount),N&&(a!=null&&a.verified)&&!((ls=a==null?void 0:a.expensesControl)!=null&&ls.isInvoice)&&(l+=a==null?void 0:a.amount),N&&!(a!=null&&a.verified)&&(P+=a==null?void 0:a.amount)}),r({movements:q,income:b(j),expenses:b(S),balanceMovements:b(j-S),expensesWithInvoice:b(O),expensesWithoutInvoice:b(l),expensesWithoutChecked:b(P),totalExpensesOtherCharges:b(O+l+P)})}else r(F)},[o,F]);const R=d=>{const{startDate:S,endDate:j}=d;j!==null&&S!==null&&(w(j),C(S))},is=d=>()=>{var O;const S=((O=d==null?void 0:d.getSelectedRowModel().flatRows)==null?void 0:O.map(P=>P.original))??[],j=S==null?void 0:S.some(P=>P==null?void 0:P.verified),l=S==null?void 0:S.some(P=>(P==null?void 0:P.operationType)!=="OTROS CARGOS");return j?H.warn("Existen movimientos que ya se encuentran comprobados, verifique los movimientos seleccionados."):l?H.warn("Existen movimientos que no se pueden comprobar, verifique el tipo de movimiento."):D(!0)},bs=p.useMemo(()=>[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(Vs,{row:l})}},{accessorKey:"serverDate",header:"Fecha",size:120,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{children:s.jsx(M,{variant:"subtitle2",children:l==null?void 0:l.fullDate})})}},{accessorKey:"operationType",header:"Tipo",filterVariant:"multi-select",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,O=$s(l==null?void 0:l.operationType),P=O==null?void 0:O.component;return s.jsx($,{children:O?s.jsx(P,{sx:{width:25,height:25}}):s.jsx(qs,{size:22})})}},{accessorKey:"amount",header:"Monto",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,O=(l==null?void 0:l.type)==="ingreso",P=(l==null?void 0:l.type)==="terminal";return s.jsx(M,{variant:"subtitle2",fontWeight:"bold",color:O||P?"success.main":"error",children:O||P?`+ ${l==null?void 0:l.amountFormat}`:`- ${l==null?void 0:l.amountFormat}`})}},{accessorKey:"verified",header:"Comprobación",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{flexDirection:"row",width:1,justifyContent:"center",alignItems:"center",gap:1,mr:2,color:"primary",children:l!=null&&l.verified?s.jsx(Gs,{color:"green",fontWeight:"bold",fontSize:"18px"}):s.jsx(Hs,{fontSize:"18px",color:"red"})})}}],[]),k=Ys(A,W,{columns:bs,data:i||[],enableColumnPinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowActions:!0,enableRowSelection:!0,enableDensityToggle:!1,positionActionsColumn:"last",selectAllMode:"all",initialState:{density:"compact",sorting:[{id:"serverDate",desc:!0}]},state:{isLoading:T,showAlertBanner:A,showProgressBars:L},displayColumnDefOptions:{"mrt-row-select":{maxSize:10},"mrt-row-actions":{header:"Acciones",maxSize:80}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbarCustomActions:({table:d})=>s.jsx($,{sx:{display:"flex",gap:"1rem"},children:s.jsx(xs,{loading:L,onClick:is(d),disabled:Ms(),startIcon:s.jsx(Q,{width:24,height:24}),variant:"outlined",children:"Comprobar"})}),renderRowActionMenuItems:({row:d})=>[s.jsx(K,{onClick:()=>console.info("conciliation"),children:"Conciliación"},"conciliation"),s.jsx(K,{onClick:()=>console.info("incidence"),children:"Incidencia"},"incidence"),s.jsx(K,{onClick:()=>console.info("communication"),children:"Comunicación"},"communication"),s.jsx(K,{onClick:()=>console.info("tag"),children:"Tag"},"tag")]}),G=((rs=k==null?void 0:k.getSelectedRowModel().flatRows)==null?void 0:rs.map(d=>d.original))??[],Ms=p.useCallback(()=>{var j;const d=G.length>0?(j=G[0])==null?void 0:j.paymentProcessor:null;return!!!(G.every(l=>l.paymentProcessor===d)&&(k!=null&&k.getIsSomeRowsSelected()))},[G,k]);return s.jsxs(s.Fragment,{children:[s.jsxs(m,{children:[s.jsx(Xs,{startDate:I,endDate:y,onChangeDateRange:R,onOpenBalance:()=>E(!0),loading:L}),s.jsx(Us,{table:k})]}),s.jsx(ce,{open:B,setOpen:D,movements:G??[]}),s.jsx(pe,{open:u,card:h,dateRange:n==null?void 0:n.text,onClose:()=>{E(!1)}})]})}function qe(){return s.jsx(As,{title:"Dashboard Master",children:s.jsxs(Qs,{children:[s.jsx(Zs,{name:"Dashboard Master",links:[{name:"Inicio",href:_s.root},{name:"Dashboard Master"}]}),s.jsx($,{pb:4,children:s.jsxs(g,{flexDirection:{md:"row"},children:[s.jsx(le,{}),s.jsx(g,{flex:1,children:s.jsx(ue,{})})]})}),s.jsx(Ks,{})]})})}export{qe as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/TransactionForm-TiFSGHHq.js","assets/js/vendor-_TWOdD6q.js","assets/js/index-nqwTldEB.js","assets/css/build-K0YT2apu.css","assets/js/formik.esm-x3Ufw1qH.js","assets/js/index.esm-wEzUF-or.js","assets/js/useToggleStatusCard-tgrs2wTg.js","assets/js/crypto-4w0xa2KF.js","assets/js/cardsAdapter-AGEHEOqC.js","assets/js/fade-FopuCQlG.js","assets/js/transition-Uc7vb3zK.js","assets/js/formatTime-6Hp-6rfJ.js","assets/js/matchTypes--uN0rjmL.js","assets/js/cardMovementsAdapter-8Omoo-W_.js","assets/js/masterGlobalsStore-9YMITiIW.js","assets/js/TextMaxLine-Gfx5-7AO.js","assets/js/UploadSingleFile-hU4ONxup.js","assets/js/RFSelect-ObsMjYtv.js","assets/js/ResumeTransactionForm-AyRxM6Nm.js","assets/js/cardTypes-Qdi247wS.js","assets/js/AmexLogo-Q1iP8idz.js","assets/js/CarnetLogo-YZnWVrub.js","assets/js/MasterCardLogo-hSHfVJgz.js","assets/js/VisaLogo-n7L9rAXg.js","assets/js/VerifyExpensesDrawer-cE2K_e8g.js","assets/js/BalanceDrawer-CbdMtmUY.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=DashboardMaster-GZRd71b5.js.map
