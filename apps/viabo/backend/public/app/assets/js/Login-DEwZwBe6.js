import{r as d,aE as L,f as F,e as A,i as e,aF as C,m as T,T as p,S as t,p as g,R as k,aG as y,a0 as R,aH as H,a5 as M,c as W,B as E,k as P}from"./vendor-CEMfbhOc.js";import{u as U}from"./formik.esm-Dshy1xjd.js";import{c as q,a as S}from"./index.esm-C2GVbld4.js";import{u as B,A as w,s as f,g as b,a as v,b as G,c as N,M as O,P as z,F as _}from"./index-BxvL1HP2.js";import{A as D}from"./AlertWithFocus-C3lYN0Ke.js";import{v as j}from"./fade-CViozI82.js";import{F as Q,R as $}from"./TextMaxLine-iGSgfpVZ.js";import{R as V}from"./RFPasswordField-B7h5Zvin.js";import"./transition-anLY3gj9.js";import"./formatTime-mlJJpQBT.js";import"./matchTypes-BFKCRNnN.js";import"./UploadSingleFile-CP5cFJ4A.js";import"./formatNumber-Df8NwpjV.js";import"./index-BtYJ4qg-.js";import"./iconBase-D_ql85QS.js";const Y=(a={})=>{const[i,r]=d.useState(null),[h,o]=d.useState(!1),{login:m}=B(),l=L([w.USER_MODULES]),n=F(G,{onSuccess:s=>{r(null),f(s==null?void 0:s.token),o(!0)},onError:s=>{o(!1),f(null),r({message:b(s,"Ocurrio un error inesperado. Intente nuevamente o reportelo al área de sistemas"),code:v(s)})},...a}),c=A([w.USER_MODULES],N,{onSuccess:s=>{m(),r(null),o(!1)},onError:s=>{o(!1),f(null),r({message:b(s,"Ocurrio un error inesperado. Intente nuevamente o reportelo al área de sistemas"),code:v(s)})},enabled:!!h,retry:!1});return{...n,setCustomError:r,isError:n.isError||c.isError,isSuccess:n.isSuccess&&c.isSuccess,isLoading:n.isLoading||l===1,error:i??null}},J=({text:a,variant:i,loop:r,...h})=>{const[o,m]=d.useState(""),[l,n]=d.useState(0);return d.useEffect(()=>{const c=setInterval(()=>{l<a.length?(m(s=>s+a[l]),n(s=>s+1)):r&&(m(""),n(0))},100);return()=>clearInterval(c)},[l,a,r]),e.jsx(C,{children:e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{minHeight:"15px"},children:e.jsx(p,{variant:i,...h,children:o})})})};function K(){const{mutate:a,error:i,isError:r,isLoading:h,isSuccess:o,setCustomError:m}=Y(),l=q().shape({email:S().email("Ingrese un correo valido").required("El correo es requerido"),password:S().required("La contraseña es requerida")}),n=U({initialValues:{email:"",password:""},validationSchema:l,onSubmit:(u,{setSubmitting:Z})=>{m(null);const I={username:u==null?void 0:u.email,password:u==null?void 0:u.password};a(I)}}),{isSubmitting:c,setSubmitting:s}=n,x=h||c;return d.useEffect(()=>{(o||r)&&s(!1)},[r,o]),e.jsx(O,{children:e.jsxs(t,{spacing:3,p:4,justifyContent:"center",height:1,children:[e.jsxs(t,{children:[e.jsx(g.div,{variants:j().inRight,children:e.jsx(p,{align:"center",variant:"h3",sx:{color:"primary.main",fontWeight:"fontWeightMedium"},children:"Aquí Comienza"})}),e.jsx(g.div,{variants:j().inRight,children:e.jsx(p,{align:"center",variant:"h3",sx:{color:"primary.light",fontWeight:"fontWeightMedium"},children:"tu agilidad en pagos"})})]}),e.jsx(J,{color:"common",text:"¡Es tiempo de transformar tu negocio!",variant:"h6",align:"center"}),i&&e.jsxs(D,{listenElement:i,sx:{mt:3,textAlign:"initial"},severity:i==null?void 0:i.code,children:[e.jsx(k,{sx:{textAlign:"initial"},children:"Inicio de Sesión"}),i==null?void 0:i.message]}),e.jsx(g.div,{...j().in,children:e.jsx(Q,{formik:n,children:e.jsxs(t,{spacing:2,flex:1,children:[e.jsxs(t,{spacing:1,children:[e.jsx(y,{htmlFor:"email",children:"Email"}),e.jsx($,{id:"email",disabled:x,name:"email",placeholder:"usuario@dominio.com",type:"email",fullWidth:!0,InputLabelProps:{shrink:!0}})]}),e.jsxs(t,{spacing:1,children:[e.jsx(y,{htmlFor:"password",children:"Contraseña"}),e.jsx(V,{id:"password",InputLabelProps:{shrink:!0},disabled:x,name:"password",placeholder:"********",fullWidth:!0})]}),e.jsx(t,{pt:1,children:e.jsx(R,{loading:x,variant:"contained",color:"primary",fullWidth:!0,type:"submit",size:"large",disabled:c,children:"Accesar a mi cuenta"})}),e.jsxs(p,{variant:"body2",fontWeight:600,align:"center",sx:{color:"text.secondary"},children:["¿No tienes una cuenta?  ",e.jsx(H,{color:"primary",component:M,to:"/registro",children:"Inscribete."})]})]})})})]})})}const X="/app/assets/webp/build-BEdJGll8.webp",xe=()=>{const a=W();return d.useEffect(()=>{a.removeQueries()},[]),e.jsx(z,{title:"Inicio de Sesión",children:e.jsx(t,{alignItems:"center",justifyContent:"center",minHeight:"100dvH",children:e.jsxs(t,{px:{sm:10,xl:20},width:1,height:1,direction:"row",children:[e.jsxs(t,{flexGrow:1,width:1,height:1,minHeight:"70vh",maxHeight:"90vH",position:"relative",sx:{overflowX:"hidden",overflowY:"auto"},justifyContent:"space-between",children:[e.jsxs(t,{direction:"row",spacing:1,alignItems:"center",px:{xs:5,sm:0},children:[e.jsx(_,{sx:{width:100}}),e.jsx(p,{fontWeight:"600",variant:"subtitle1",children:"Agilidad en pagos"})]}),e.jsx(E,{flexGrow:1}),e.jsx(t,{flex:1,px:{xs:0,sm:5,xl:15},children:e.jsx(K,{})})]}),e.jsx(t,{width:1,justifyContent:"center",height:1,flexGrow:1,sx:{display:{xs:"none",sm:"none",lg:"flex"}},children:e.jsx(E,{component:P.LazyLoadImage,placeholderSrc:"https://zone-assets-api.vercel.app/assets/img_placeholder.svg",wrapperClassName:"wrapper",effect:"blur",height:1,maxHeight:"90vH",sx:{objectFit:"fill"},borderRadius:4,src:X})})]})})})};export{xe as default};
//# sourceMappingURL=Login-DEwZwBe6.js.map
