import{ay as n,as as p}from"./index-66cb75df.js";import{g as u}from"./build-6d8fb990.js";import{f as M,a as T,h as U}from"./build-6421e956.js";import{f}from"./build-f58640b5.js";import{c as k}from"./build-1340cc8b.js";const H=e=>{const t=u(e==null?void 0:e.ciphertext,e==null?void 0:e.iv),s=parseFloat((t==null?void 0:t.balance)===""?"0":t==null?void 0:t.balance.replace(/,/g,""));if(t)return{SPEI:t==null?void 0:t.spei,PAYNET:t==null?void 0:t.paynet,cardON:(t==null?void 0:t.block)==="UnBlocked",nip:t==null?void 0:t.nip,balance:s,balanceFormatted:M(s)};throw new Error("Algo fallo al obtenerla informacion")};function x(e){const{id:t,number:s,CVV:m,register:a,expirationDate:g,paymentProcessorName:b,paymentProcessorId:D,statusId:N,statusName:h,commerceId:w,commerceName:A,ownerId:C,ownerName:i,ownerLastname:l,ownerPhone:I,ownerEmail:V,recorderId:v,recorderName:y,assignmentDate:r,active:P}=e,E=s==null?void 0:s.slice(-4);let o=i??"";return(o==null?void 0:o.length)>10&&(o=o.slice(0,13)+"..."),{id:t,cardTypeId:D,cardType:b,assignCommerce:{id:w,name:A},assignUser:{id:C,fullName:i!==""?n.startCase(n.camelCase(`${i==null?void 0:i.trim()} ${l==null?void 0:l.trim()} `)):"-",name:i===""?"-":n.startCase(n.camelCase(i)),lastName:n.startCase(n.camelCase(l)),phone:I,email:V,dateTime:r===""?"-":f(r),date:r===""?"-":p(new Date(a),"dd MMM yyyy"),time:r===""?"-":p(new Date(a),"p"),lastLogged:e!=null&&e.sessionLastDate&&(e==null?void 0:e.sessionLastDate)!==""?f(e==null?void 0:e.sessionLastDate):null},staffRegister:{id:v,name:y},cardNumber:s,cardNumberHidden:T(s),cardNumberMoreDigits:U(s),cardUserNumber:(o==null?void 0:o.toUpperCase())+" "+E,expiration:g,register:f(a),registerDate:a?p(new Date(a),"dd MMM yyyy"):"",registerTime:a?p(new Date(a),"p"):"",cvv:m,emptyCVV:m===""||!m?"SIN CVV":"CON CVV",status:{id:N,name:h},cardStatus:{isActive:(e==null?void 0:e.block)==="UnBlocked",name:(e==null?void 0:e.block)==="UnBlocked"?"Encendida":"Apagada"}}}const O=e=>{const t=u(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);if(t&&Array.isArray(t)){const s=t==null?void 0:t.map(m=>x(m));return k(s,"id","cardUserNumber")||[]}throw new Error("No se pueden obtener las tarjetas")};export{x as C,O as a,H as b};
