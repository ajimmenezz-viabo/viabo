import{e as T,w as s,F as R,j as r,T as q,E,C as P}from"./index-21571737.js";import{c as B,a as h,e as N,u as F}from"./index.esm-c4b3badb.js";import{S as b,p as I}from"./CommerceRegister-43a2c944.js";import{a as j}from"./servicesList-51303f67.js";import{T as n}from"./TextField-7ca732a0.js";import{M,F as x,C as y}from"./MenuItem-2294c2ea.js";import{L as A}from"./LoadingButton-b882bc74.js";import"./useId-a16d032f.js";import"./dividerClasses-0b1fbde2.js";const W=["Pago compensaciones a colaboradores","Pago servicios","Control de gastos ","Otro"],C=B({fiscalName:h().required("El nombre fiscal es requerido"),rfc:h().required("El RFC es requerido"),commercialName:h().required("El nombre comercial es requerido"),employeesNumber:N().min(1,"Al menos debe exisitir un empleado").required("El número de empleados es requerido"),branchesNumber:N().min(1,"Al menos debe existir una sucursal").required("El número de sucursales es requerido"),tpvsNumber:N().min(1,"Al menos debe seleccionar una terminal punto de venta").required("El número de terminales de punto de venta es requerido")}),U=e=>{var t;const d={fiscalName:(e==null?void 0:e.fiscalName)||"",rfc:(e==null?void 0:e.rfc)||"",commercialName:(e==null?void 0:e.commercialName)||"",employeesNumber:(e==null?void 0:e.employeesNumber)||"",branchesNumber:(e==null?void 0:e.branchesNumber)||"",tpvsNumber:(e==null?void 0:e.tpvsNumber)||"",apiRequired:(e==null?void 0:e.apiRequired)||!1,cardsUse:(e==null?void 0:e.cardsUse)||"",cardsNumber:(e==null?void 0:e.cardsNumber)||"",customCardsRequired:(e==null?void 0:e.customCardsRequired)||!1};let m=C;const p=!!((t=e==null?void 0:e.services)!=null&&t.includes(j.VIABO_CARD));return p&&(m={...C,cardsUse:h().required("El uso de la tarjetas es requerido"),cardsNumber:N().min(1,"Al menos debe seleccionar una tarjeta").required("El número de tarjetas es requerido")}),{initialValues:d,schema:m,allInfoIsRequired:p}};V.propTypes={store:P.shape(I)};function V({store:e}){const{resume:d}=e,{schema:m,initialValues:p,allInfoIsRequired:t}=T.useMemo(()=>U(d),[d]),v=F({initialValues:p,validationSchema:m,onSubmit:u=>{}}),{handleSubmit:S,values:a,errors:o,touched:i,handleChange:c,isSubmitting:g,setSubmitting:k,getFieldProps:f,setFieldValue:w}=v,l=g;return s(R,{children:[s(b,{direction:"column",width:1,spacing:1,children:[r(q,{variant:"h4",color:"textPrimary",align:"center",children:"Información del Comercio"}),r(q,{paragraph:!0,align:"center",variant:"body1",color:"text.secondary",whiteSpace:"pre-line",children:"Ingrese la información del comercio para continuar con el proceso"})]}),r(E,{width:1,py:4,component:"form",onSubmit:S,children:s(b,{spacing:3,children:[r(n,{fullWidth:!0,name:"fiscalName",label:"Nombre Fiscal",autoFocus:!0,value:a.fiscalName,error:i.fiscalName&&!!o.fiscalName,helperText:i.fiscalName&&o.fiscalName,onChange:c,disabled:l}),r(n,{fullWidth:!0,name:"rfc",label:"RFC",value:a.rfc,error:i.rfc&&!!o.rfc,helperText:i.rfc&&o.rfc,onChange:c,disabled:l}),r(n,{fullWidth:!0,name:"commercialName",label:"Nombre Comercial",value:a.commercialName,error:i.commercialName&&!!o.commercialName,helperText:i.commercialName&&o.commercialName,onChange:c,disabled:l}),s(b,{direction:{xs:"column",md:"row"},spacing:3,children:[r(n,{fullWidth:!0,name:"employeesNumber",label:"No. Empleados",type:"number",inputProps:{inputMode:"numeric",min:"1"},value:a.employeesNumber,error:i.employeesNumber&&!!o.employeesNumber,helperText:i.employeesNumber&&o.employeesNumber,onChange:c,disabled:l}),r(n,{fullWidth:!0,name:"branchesNumber",label:"No. Sucursales",type:"number",inputProps:{inputMode:"numeric",min:"1"},value:a.branchesNumber,error:i.branchesNumber&&!!o.branchesNumber,helperText:i.branchesNumber&&o.branchesNumber,onChange:c,disabled:l})]}),s(b,{direction:{xs:"column",md:"row"},spacing:3,children:[r(n,{fullWidth:!0,name:"tpvsNumber",label:"No. Terminales TPV's",type:"number",inputProps:{inputMode:"numeric",min:"1"},value:a.tpvsNumber,error:i.tpvsNumber&&!!o.tpvsNumber,helperText:i.tpvsNumber&&o.tpvsNumber,onChange:c,disabled:l}),t&&r(n,{fullWidth:!0,name:"cardsNumber",label:"No. de Tarjetas",type:"number",inputProps:{inputMode:"numeric",min:"1"},value:a.cardsNumber,error:i.cardsNumber&&!!o.cardsNumber,helperText:i.cardsNumber&&o.cardsNumber,onChange:c,disabled:l})]}),t&&r(n,{...f("cardUses"),value:a==null?void 0:a.cardUses,disabled:g,fullWidth:!0,select:!0,label:"Uso de las tarjetas viabo",placeholder:"Seleccionar",SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize"},children:W.map(u=>r(M,{value:u,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"uppercase"},children:u},u))}),r(x,{control:r(y,{...f("apiRequired"),disabled:l,checked:a==null?void 0:a.apiRequired,value:a==null?void 0:a.apiRequired}),label:"¿Se requiere API para ligas de cobro? (Pagos a distancia sin tarjeta física, protegido con 3D secure)"}),t&&r(x,{control:r(y,{...f("apiRequired"),disabled:l,checked:a==null?void 0:a.apiRequired,value:a==null?void 0:a.apiRequired}),label:"¿Desea que las tarjetas fisicas esten personalizadas? (Grabadas)"}),r(A,{loading:l,color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{textTransform:"uppercase"},children:"Continuar"})]})})]})}export{V as default};
