import{r as y,s as z,g as F,a as g,p as C,_ as I,u as G,b as j,c as J,j as E,B as h,d as k,S as B,e as H,C as W,f as L,h as $,P as q,i as K,k as X}from"./index-eb88d5db.js";import{G as b,I as Q}from"./integracion-tecnologica-98d23ebe.js";const A=e=>{let t;const n=new Set,o=(p,O)=>{const r=typeof p=="function"?p(t):p;if(!Object.is(r,t)){const f=t;t=O??typeof r!="object"?r:Object.assign({},t,r),n.forEach(v=>v(t,f))}},s=()=>t,c={setState:o,getState:s,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{({BASE_URL:"/react/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(o,s,c),c},Y=e=>e?A(e):A;var w={},Z={get exports(){return w},set exports(e){w=e}},U={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=y,ee=z;function te(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ne=typeof Object.is=="function"?Object.is:te,oe=ee.useSyncExternalStore,se=T.useRef,re=T.useEffect,ae=T.useMemo,ce=T.useDebugValue;U.useSyncExternalStoreWithSelector=function(e,t,n,o,s){var m=se(null);if(m.current===null){var S={hasValue:!1,value:null};m.current=S}else S=m.current;m=ae(function(){function p(a){if(!O){if(O=!0,r=a,a=o(a),s!==void 0&&S.hasValue){var d=S.value;if(s(d,a))return f=d}return f=a}if(d=f,ne(r,a))return d;var u=o(a);return s!==void 0&&s(d,u)?d:(r=a,f=u)}var O=!1,r,f,v=n===void 0?null:n;return[function(){return p(t())},v===null?void 0:function(){return p(v())}]},[t,n,o,s]);var c=oe(e,m[0],m[1]);return re(function(){S.hasValue=!0,S.value=c},[c]),ce(c),c};(function(e){e.exports=U})(Z);const ie=F(w),{useSyncExternalStoreWithSelector:ue}=ie;function le(e,t=e.getState,n){const o=ue(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return y.useDebugValue(o),o}const V=e=>{({BASE_URL:"/react/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Y(e):e,n=(o,s)=>le(t,o,s);return Object.assign(n,t),n},de=e=>e?V(e):V,pe={TOKEN_COMMERCE:"tokenCommerce",VALIDATION_CODE:"validationCode",COMMERCE_PROCESS:"commerceProcess"},me=e=>{const{Id:t,FiscalPersonType:n,TaxName:o,TradeName:s,RFC:m,Employees:S,BranchOffices:c,PaymentAPI:p,RegisterStep:O,LegalRepresentative:r,Services:f,PointSaleTerminal:v,Documents:a}=e,d=f.find(_=>_.type==="2"),u=(d==null?void 0:d.cardNumbers)||0,R=(d==null?void 0:d.cardUse)||"",i=(d==null?void 0:d.personalized)==="1"||!1;return{id:t,idUser:r,services:f,fiscalTypePerson:n,fiscalName:o,rfc:m,commercialName:s,employeesNumber:S,branchesNumber:c,tpvsNumber:v,apiRequired:p===1,cardsNumber:Number(u),cardsUse:R,customCardsRequired:i,files:a,step:O}},be=async e=>{const{data:t}=await g.post("/api/security/legalRepresentative/new",e);return t},De=async e=>{const{data:t}=await g.get("/api/legal-representative/verificate",{headers:{Username:`${e}`}});return t},Ne=async()=>{const{data:e}=await g.post("/api/code/verification/resend");return e},ke=async e=>{const{data:t}=await g.post("/api/code/verificate",e);return t},fe=async()=>{const{data:e}=await g.get("/api/commerce/legal-representative");return me(e)},we=async e=>{const{data:t}=await g.put("/api/commerce/update",e);return t},Me=async e=>{const{data:t}=await g.post("/api/commerce/documents/create",e);return t},Le=async e=>{const{data:t}=await g.post("/api/commerce/documents/delete",e);return t},l={REGISTER:"REGISTRO",VALIDATION_CODE:"CODIGO DE VALIDACIÓN",CONTINUE_PROCESS:"CONTINUAR PROCESO",SERVICES_SELECTION:"SELECCION DE SERVICIOS",COMMERCE_INFO:"INFORMACIÓN DEL COMERCIO",COMMERCE_DOCUMENTATION:"DOCUMENTOS DEL COMERCIO",FINISHED_PROCESS:"PROCESO FINALIZADO"},Ae=[{name:l.SERVICES_SELECTION,step:1},{name:l.COMMERCE_INFO,step:2},{name:l.COMMERCE_DOCUMENTATION,step:3},{name:l.FINISHED_PROCESS,step:4}],M=new Map,P=e=>{const t=M.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,o])=>[n,o.getState()])):{}},Ee=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const o=M.get(n.name);if(o)return{type:"tracked",store:e,...o};const s={connection:t.connect(n),stores:{}};return M.set(n.name,s),{type:"tracked",store:e,...s}},Se=(e,t={})=>(n,o,s)=>{const{enabled:m,anonymousActionType:S,store:c,...p}=t;let O;try{O=(m??({BASE_URL:"/react/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!O)return({BASE_URL:"/react/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&m&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,o,s);const{connection:r,...f}=Ee(c,O,p);let v=!0;s.setState=(u,R,i)=>{const _=n(u,R);if(!v)return _;const x=i===void 0?{type:S||"anonymous"}:typeof i=="string"?{type:i}:i;return c===void 0?(r==null||r.send(x,o()),_):(r==null||r.send({...x,type:`${c}/${x.type}`},{...P(p.name),[c]:s.getState()}),_)};const a=(...u)=>{const R=v;v=!1,n(...u),v=R},d=e(s.setState,o,s);if(f.type==="untracked"?r==null||r.init(d):(f.stores[f.store]=s,r==null||r.init(Object.fromEntries(Object.entries(f.stores).map(([u,R])=>[u,u===f.store?d:R.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let u=!1;const R=s.dispatch;s.dispatch=(...i)=>{({BASE_URL:"/react/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&i[0].type==="__setState"&&!u&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),u=!0),R(...i)}}return r.subscribe(u=>{var R;switch(u.type){case"ACTION":if(typeof u.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return D(u.payload,i=>{if(i.type==="__setState"){if(c===void 0){a(i.state);return}Object.keys(i.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=i.state[c];if(_==null)return;JSON.stringify(s.getState())!==JSON.stringify(_)&&a(_);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(i)});case"DISPATCH":switch(u.payload.type){case"RESET":return a(d),c===void 0?r==null?void 0:r.init(s.getState()):r==null?void 0:r.init(P(p.name));case"COMMIT":if(c===void 0){r==null||r.init(s.getState());return}return r==null?void 0:r.init(P(p.name));case"ROLLBACK":return D(u.state,i=>{if(c===void 0){a(i),r==null||r.init(s.getState());return}a(i[c]),r==null||r.init(P(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return D(u.state,i=>{if(c===void 0){a(i);return}JSON.stringify(s.getState())!==JSON.stringify(i[c])&&a(i[c])});case"IMPORT_STATE":{const{nextLiftedState:i}=u.payload,_=(R=i.computedStates.slice(-1)[0])==null?void 0:R.state;if(!_)return;a(c===void 0?_:_[c]),r==null||r.send(null,i);return}case"PAUSE_RECORDING":return v=!v}return}}),d},Oe=Se,D=(e,t)=>{let n;try{n=JSON.parse(e)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&t(n)},Ve={actualProcess:C.string,token:C.string,resume:C.object,lastProcess:C.shape({name:C.any,info:C.any}),getComponent:C.func,getBackProcess:C.func,setLastProcess:C.func,setActualProcess:C.func,setToken:C.func,setResume:C.func},ve=(e,t)=>({actualProcess:l.REGISTER,token:null,resume:null,lastProcess:{name:null,info:null},processList:[{name:l.REGISTER,component:()=>I(()=>import("./CommerceRegisterForm-d5db93f4.js"),["assets/js/CommerceRegisterForm-d5db93f4.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/formik.esm-e529335e.js","assets/js/index.esm-4f526a47.js","assets/js/TextField-ebaea117.js","assets/js/InputAdornment-cc1b7148.js","assets/js/AlertWithFocus-94093cf1.js","assets/js/Alert-55a24115.js","assets/js/EmailOutlined-dd8848de.js","assets/js/VisibilityOff-ec22fd12.js","assets/js/FormControlLabel-8fd50580.js","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.REGISTER},{name:l.CONTINUE_PROCESS,component:()=>I(()=>import("./ProcessContinue-d1dadc9f.js"),["assets/js/ProcessContinue-d1dadc9f.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/formik.esm-e529335e.js","assets/js/index.esm-4f526a47.js","assets/js/useSendValidationCode-97d35d31.js","assets/js/TextField-ebaea117.js","assets/js/InputAdornment-cc1b7148.js","assets/js/EmailOutlined-dd8848de.js","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.REGISTER},{name:l.VALIDATION_CODE,component:()=>I(()=>import("./ValidationCode-a4642613.js"),["assets/js/ValidationCode-a4642613.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/TextField-ebaea117.js","assets/js/useSendValidationCode-97d35d31.js","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.REGISTER},{name:l.SERVICES_SELECTION,component:()=>I(()=>import("./ServicesSelection-44633df4.js"),["assets/js/ServicesSelection-44633df4.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/AlertWithFocus-94093cf1.js","assets/js/Alert-55a24115.js","assets/js/commerceUpdateAdapter-2d2da599.js","assets/js/Card-bae0649b.js","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.REGISTER},{name:l.COMMERCE_INFO,component:()=>I(()=>import("./CommerceInfo-bdaf6efa.js"),["assets/js/CommerceInfo-bdaf6efa.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/formik.esm-e529335e.js","assets/js/index.esm-4f526a47.js","assets/js/commerceUpdateAdapter-2d2da599.js","assets/js/TextField-ebaea117.js","assets/js/FormControlLabel-8fd50580.js","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.SERVICES_SELECTION},{name:l.COMMERCE_DOCUMENTATION,component:()=>I(()=>import("./CommerceDocumentation-9e427bed.js"),["assets/js/CommerceDocumentation-9e427bed.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/formik.esm-e529335e.js","assets/js/commerceUpdateAdapter-2d2da599.js","assets/js/integracion-tecnologica-98d23ebe.js","assets/js/Card-bae0649b.js","assets/js/Alert-55a24115.js"]),backProcess:l.COMMERCE_INFO},{name:l.FINISHED_PROCESS,component:()=>I(()=>import("./FinishProcess-fb1ba4ec.js"),["assets/js/FinishProcess-fb1ba4ec.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/integracion-tecnologica-98d23ebe.js"]),backProcess:l.COMMERCE_DOCUMENTATION}],getComponent:()=>{const{processList:n,actualProcess:o}=t(),s=()=>I(()=>import("./ValidationCode-a4642613.js"),["assets/js/ValidationCode-a4642613.js","assets/js/index-eb88d5db.js","assets/css/index-1aacc170.css","assets/js/TextField-ebaea117.js","assets/js/useSendValidationCode-97d35d31.js","assets/js/integracion-tecnologica-98d23ebe.js"]);return n.find(m=>m.name===o).component??s},getBackProcess:()=>{const{processList:n,actualProcess:o}=t();return n.find(s=>s.name===o).backProcess??l.REGISTER},setLastProcess:n=>{e(o=>({lastProcess:{name:(n==null?void 0:n.name)||null,info:(n==null?void 0:n.info)||null}}))},setActualProcess:n=>{e(o=>({actualProcess:n})),n===l.REGISTER&&(localStorage.removeItem("token"),delete g.defaults.headers.common.Authorization)},setToken:n=>{e(o=>({token:n})),window.localStorage.setItem("token",n),g.defaults.headers.common.Authorization=`Bearer ${n}`},setResume:n=>{e(o=>({resume:n}))}}),N=de(Oe(ve));function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Object.is(e[n[o]],t[n[o]]))return!1;return!0}const Re=(e={})=>{const{enqueueSnackbar:t}=G();return j([pe.COMMERCE_PROCESS],fe,{staleTime:60*5e3,onError:n=>{const o=J(n,"😟 Error al obtener el proceso del comercio");t(o,{variant:"error",autoHideDuration:5e3})},...e})},Ce=()=>{const e=N(a=>a.getComponent),t=N(a=>a.getBackProcess),n=N(a=>a,_e),{actualProcess:o,setToken:s,setActualProcess:m,setResume:S,token:c,resume:p}=n,{data:O,isSuccess:r}=Re({enabled:!!c});y.useEffect(()=>{S(O&&r?O:null)},[O,r]),y.useEffect(()=>{o===l.REGISTER&&(s(null),S(null))},[o,s]);const f=()=>{const a=t();m(a)},v=y.useMemo(()=>y.lazy(e()),[o]);return E(h,{sx:{height:{xs:"100%",sm:"100%",md:"100%",lg:"100vh",xl:"calc(100vh - 100px)"},minHeight:{xs:"100vH",sm:"100vh",md:"100vh",lg:"100vh",xl:"600px"},display:"flex",flexDirection:"column",overflow:"auto",zIndex:1},className:"animate__animated animate__fadeIn",children:k(y.Suspense,{fallback:E(ge,{}),children:[o!==l.REGISTER&&E(B,{m:5,mb:0,direction:"row",children:E(H,{onClick:f,children:"< Regresar"})}),E(h,{m:5,height:1,children:E(v,{store:n})})]})})},ge=()=>E(h,{sx:{position:"relative",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(1px)",zIndex:e=>e.zIndex.modal-1},children:E(W,{})}),Ie=L("div")(({theme:e})=>({top:0,left:0,right:0,bottom:0,zIndex:8,position:"absolute",backgroundColor:$(e.palette.grey[900],.1)})),ye=L("div")(({theme:e})=>({display:"flex",maxWidth:e.breakpoints.values.lg,[e.breakpoints.down("xl")]:{maxWidth:"100%"},margin:"0 auto",height:"100%",overflow:"auto",zIndex:"100000",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.paper,borderRadius:"0px",[e.breakpoints.up("xl")]:{borderRadius:"16px",boxShadow:"0 0 60px 10px rgb(85 44 44 / 20%)"}})),he=L("div")(({theme:e})=>({padding:"0px",height:"100%",[e.breakpoints.up("sm")]:{padding:"0px"},[e.breakpoints.up("md")]:{padding:"0px"},[e.breakpoints.up("lg")]:{padding:"0px"},[e.breakpoints.up("xl")]:{padding:"100px"}}));function Pe(){return E(q,{title:"Registro Comercio",children:E(he,{className:"animate__animated animated__fadeIn",children:E(ye,{children:k(b,{container:!0,spacing:0,component:"main",justifyContent:"center",children:[E(b,{item:!0,elevation:0,xs:!1,sm:!1,md:6,children:k(h,{sx:{position:"relative",display:"flex",height:1,backgroundColor:"#161C24"},children:[E(Ie,{}),E(h,{component:K.LazyLoadImage,wrapperClassName:"wrapper",effect:"blur",placeholderSrc:"https://zone-assets-api.vercel.app/assets/img_placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},src:Q})]})}),E(b,{item:!0,xs:12,sm:12,md:6,alignItems:"center",justify:"center",component:X,elevation:10,sx:{overflow:"auto",borderRadius:{md:0,xl:"0px 16px 16px 0px"}},children:E(Ce,{})})]})})})})}const Ue=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"}));export{pe as C,l as P,Ae as a,we as b,be as c,Le as d,Ue as e,De as g,Ve as p,Ne as s,Me as u,ke as v};
