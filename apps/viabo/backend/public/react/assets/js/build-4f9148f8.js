import{a8 as r}from"./index-ead3f9df.js";import{g as m}from"./build-c5107058.js";import{a as c,b as C}from"./build-f9fa8ae7.js";import{f}from"./build-829758c5.js";import{C as g}from"./build-66873ba5.js";const P={CARDS_COMMERCE_LIST:"cardsCommerce",CARD_INFO:"cardInfo",CARD_MOVEMENTS:"cardMovements",MAIN_CARD:"mainCard",TRANSIT_BALANCE:"transitBalance",PAYMENT_PROCESSORS:"paymentProcessors"},R=(t,a)=>{var e,i;const n=(e=t==null?void 0:t.processorTypes)==null?void 0:e.find(s=>(s==null?void 0:s.value)==="1"),o=(i=t==null?void 0:t.processorTypes)==null?void 0:i.find(s=>(s==null?void 0:s.value)==="2");return{cardId:a==null?void 0:a.id,amount:t==null?void 0:t.amount.toString(),spei:n?a==null?void 0:a.SPEI:"",payCash:o?"1":"",emails:t==null?void 0:t.emails}},A=t=>{const a=m(t==null?void 0:t.ciphertext,t==null?void 0:t.iv);if(a)return{reference:a==null?void 0:a.referenceNumber};throw new Error("Algo fallo al obtener la informaciÃ³n")},w=t=>{const a=m(t==null?void 0:t.ciphertext,t==null?void 0:t.iv);return(a==null?void 0:a.map(o=>{var e;return{id:o==null?void 0:o.id,name:(e=o==null?void 0:o.name)==null?void 0:e.toUpperCase()}}))||[]},I=t=>{const a=m(t==null?void 0:t.ciphertext,t==null?void 0:t.iv),n=parseFloat((a==null?void 0:a.balance)===""?"0":a==null?void 0:a.balance.replace(/,/g,""));if(a)return{id:a==null?void 0:a.cardId,SPEI:a==null?void 0:a.spei,balance:n,balanceFormatted:f(n),cardNumberHidden:"GLOBAL"};throw new Error("Algo fallo al obtenerla informacion")},p=async()=>{const{data:t}=await r.get("/api/payment-processors/of/commerce");return w(t)},O=async t=>{const{data:a}=await r.get(`/api/enabled-cards/commerce?paymentProcessorId=${t}`);return c(a)},l=async(t,a)=>{const{data:n}=await r.get(`/api/card/information/${t}`,{signal:a});return C(n)},d=async t=>(await r.put(`/api/card/${t==null?void 0:t.id}/block/${t!=null&&t.cardON?"unblocked":"blocked"}`),t),u=async t=>(await r.post("/api/card/transactions",t==null?void 0:t.data),t),N=async(t,a,n,o)=>{const e=new URL("/api/card/movements",window.location.origin);e.searchParams.set("cardId",t),e.searchParams.set("startDate",a),e.searchParams.set("endDate",n);const{data:i}=await r.get(e.href,{timeout:3e4,signal:o});return g(i)},_=async(t,a)=>{const{data:n}=await r.get(`/api/main-card/information?paymentProcessorId=${t}`,{signal:a});return I(n)},D=async t=>{const{data:a}=await r.post("/api/card/send/spei-key",t);return a},F=async t=>{const{data:a}=await r.post("/api/funding-order/new",t);return A(a)};export{P as C,p as a,_ as b,d as c,O as d,F as e,N as f,l as g,R as h,D as s,u as t};
