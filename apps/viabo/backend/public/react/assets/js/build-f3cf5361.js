import{r as A,j as e,S as l,B as o,T as i,O as R,C as E,K as _,d as I,a as m}from"./index-6ad460b4.js";import{u as V,h as D}from"./build-748d40fe.js";import{u as t,C as u}from"./build-76da712b.js";import{m as k}from"./build-ecaf0d13.js";import{u as B}from"./build-f944e319.js";import{m as T}from"./build-091f1fac.js";import"./build-636787f0.js";import"./build-4d96ee10.js";import"./build-caf88c1a.js";function $(){const s=t(r=>r.setStepAssignRegister),a=t(r=>r.user),n=t(r=>r.token),[x,c]=A.useState(""),{mutate:h,isLoading:p}=B(),{mutate:C,isLoading:g,isError:d,reset:j}=V(),f=r=>{c(r),j()},v=(r,b)=>k(r),S=r=>{m.defaults.headers.common.Authorization=`Bearer ${n}`,C({verificationCode:r,token:n},{onSuccess:()=>{s(u.CARD_REGISTER)},onError:()=>{c("")}})},y=()=>{m.defaults.headers.common.Authorization=`Bearer ${n}`,h()};return e.jsxs(l,{children:[e.jsx(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",my:4},children:e.jsx("img",{className:"animate__animated animate__pulse",src:T,width:"25%",alt:"Sent Mail"})}),e.jsx(i,{variant:"h4",color:"textPrimary",align:"center",children:"Verificación de Cuenta"}),e.jsxs(i,{paragraph:!0,sx:{mb:4,mt:2},align:"center",variant:"body2",color:"text.secondary",whiteSpace:"pre-line",children:["Enviamos un correo electrónico a ",(a==null?void 0:a.email)||"-"," con el código de verificacion de tu cuenta, ingrese el código en el cuadro a continuación para verificar su cuenta."]}),e.jsx(D,{length:6,value:x,onComplete:S,onChange:f,validateChar:v,sx:{gap:{xs:1.5,sm:2,md:3}},TextFieldsProps:{placeholder:"-",error:d,disabled:g}}),!!d&&e.jsx(o,{mt:1,children:e.jsx(i,{variant:"caption",color:"error",children:"Código incorrecto"})}),e.jsx(o,{children:e.jsx(R,{sx:{my:4},children:e.jsx(l,{direction:"row",spacing:1,justifyContent:"center",children:p?e.jsx(E,{wid:!0,sx:{mx:3}}):e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"body2",children:"¿No tengo un código?"}),e.jsx(_,{underline:"hover",sx:{cursor:"pointer"},onClick:y,children:e.jsx(i,{variant:"body2",color:"primary",children:"Reenviar código"})})]})})})}),e.jsx(I,{variant:"outlined",color:"inherit",onClick:()=>{s(u.CARD_VALIDATION)},children:"Cancelar"})]})}export{$ as default};
