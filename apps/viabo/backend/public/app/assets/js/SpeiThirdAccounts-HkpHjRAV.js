import{x,y as b,g as C,a as S,L as T,_ as g,P as f}from"./index-nqwTldEB.js";import{r as c,i as r,B as m,I as p,bH as A,e as y,a9 as j,T as l,x as E,bj as w,a3 as _,bq as P}from"./vendor-_TWOdD6q.js";import{u as h}from"./spei-third-accounts-store-Pq-gDe6L.js";import{a as I}from"./TextMaxLine-Gfx5-7AO.js";import{S as k,g as z}from"./SpeiThirdAccountsRepository-LGODxHWT.js";import{M as B}from"./MaterialDataTable-BTvjxTEd.js";import{u as O}from"./useMaterialTable-YFDO3MZ_.js";import{C as v,H as F}from"./HeaderPage-uZxPZWsy.js";import"./formik.esm-x3Ufw1qH.js";import"./UploadSingleFile-hU4ONxup.js";import"./fade-FopuCQlG.js";import"./transition-Uc7vb3zK.js";import"./matchTypes--uN0rjmL.js";const H=()=>({thirdAccounts:c.useMemo(()=>[{name:"Inicio",href:"/"},{name:x.root.name,href:b.third_accounts},{name:"Cuentas de Terceros"}],[])});function L(t){const{row:s,closeMenu:a}=t,{original:e}=s,{status:o}=e,{setOpenNewSpeiThirdAccount:u,setSpeiThirdAccount:d}=h();return r.jsxs(m,{sx:{display:"flex",flex:1,justifyContent:"flex-start",alignItems:"center",flexWrap:"nowrap",gap:"8px"},children:[r.jsx(I,{size:"sm",color:o?"success":"error",checked:o||!1,inputProps:{"aria-label":"controlled"},onChange:n=>{},onClick:n=>{n.stopPropagation()}}),o&&r.jsx(p,{size:"small",color:"primary",onClick:n=>{n.stopPropagation(),d(e),u(!0)},children:r.jsx(A,{size:"small",fontSize:"16px"})})]})}const M=(t={})=>{const[s,a]=c.useState(null),e=y({queryKey:[k.THIRD_ACCOUNTS_LIST],queryFn:z,refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...t});return c.useEffect(()=>{if(e!=null&&e.isError){const o=C(e.error,"No se puede obtener la lista de cuentas de terceros. Intente nuevamente o reporte a sistemas");a(o),j.error(o,{type:S(e.error)})}},[e.isError,e.error]),{...e,error:s||null}},N=()=>c.useMemo(()=>[{id:"name",accessorKey:"name",header:"Beneficiario",enableHiding:!1,size:150,Cell:({cell:t,column:s,row:a,renderedCellValue:e})=>r.jsx(l,{fontWeight:"bold",variant:"subtitle2",children:e})},{id:"clabe",accessorKey:"clabe",header:"CLABE",Cell:({cell:t,column:s,row:a,renderedCellValue:e})=>r.jsx(l,{variant:"subtitle2",children:e})},{id:"bank",header:"Banco",accessorFn:t=>{var s;return((s=t==null?void 0:t.bank)==null?void 0:s.name)||null},Cell:({cell:t,column:s,row:a,renderedCellValue:e})=>{const{original:o}=a;return r.jsx(l,{variant:"subtitle2",children:o==null?void 0:o.bank.name})}},{id:"email",accessorKey:"email",header:"Correo",minSize:100,Cell:({cell:t,column:s,row:a,renderedCellValue:e})=>r.jsx(l,{variant:"subtitle2",children:e})},{id:"phone",accessorKey:"phone",header:"TelÃ©fono",Cell:({cell:t,column:s,row:a,renderedCellValue:e})=>r.jsx(l,{variant:"subtitle2",children:e})}],[]),V=()=>{const{data:t,isLoading:s,isError:a,error:e,isFetching:o}=M(),{setOpenNewSpeiThirdAccount:u}=h(),d=N(),n=O(a,e,{columns:d,data:t||[],enableColumnPinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowActions:!0,enableRowSelection:!0,enableDensityToggle:!1,positionActionsColumn:"last",selectAllMode:"all",initialState:{density:"compact",sorting:[{id:"name",desc:!1}]},state:{isLoading:s,showAlertBanner:a,showProgressBars:o},displayColumnDefOptions:{"mrt-row-select":{maxSize:10},"mrt-row-actions":{header:"Acciones",maxSize:80}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},enableColumnResizing:!0,layoutMode:"grid",renderTopToolbarCustomActions:()=>r.jsx(m,{}),renderRowActions:i=>L(i)});return r.jsxs(E,{variant:"outlined",sx:i=>n.getState().isFullScreen?{}:{boxShadow:i.customShadows.z24,backgroundColor:i.palette.mode==="light"?"inherit":i.palette.grey[50012],backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[r.jsx(w,{sx:i=>({pb:2}),title:"Lista de Cuentas",subheader:`Tienes ${(t==null?void 0:t.length)||0} cuentas dadas de alta`,action:r.jsx(_,{title:"Nueva Cuenta",children:r.jsx(p,{color:"primary",size:"large",onClick:()=>u(!0),children:r.jsx(P,{})})})}),r.jsx(B,{table:n})]})},D=T(c.lazy(()=>g(()=>import("./NewSpeiThirdAccountDrawer-_7pijrnT.js"),__vite__mapDeps([0,1,2,3,4,5,6])))),re=()=>{const{thirdAccounts:t}=H();return r.jsx(f,{title:"Cuentas de Terceros - Viabo Spei",children:r.jsxs(v,{sx:{pb:3},children:[r.jsx(F,{name:"Cuentas de Terceros ",links:t}),r.jsx(V,{}),r.jsx(D,{})]})})};export{re as SpeiThirdAccounts};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/NewSpeiThirdAccountDrawer-_7pijrnT.js","assets/js/index-nqwTldEB.js","assets/js/vendor-_TWOdD6q.js","assets/css/build-K0YT2apu.css","assets/js/SpeiThirdAccountsRepository-LGODxHWT.js","assets/js/matchTypes--uN0rjmL.js","assets/js/spei-third-accounts-store-Pq-gDe6L.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=SpeiThirdAccounts-HkpHjRAV.js.map
