import{i as U,Q as X,D as K,L as g,_ as E}from"./index-Nopic_A6.js";import{r as n,i as e,T as a,B as Y,V as x,b$ as $,c0 as L,m as M,P as T}from"./vendor-StReGf79.js";import{u as O,C as q}from"./useToggleStatusCard-HYo7Ob5G.js";import{f as P}from"./formatNumber-D2wM-uoj.js";import{L as H}from"./TextMaxLine-5PEc0VIe.js";import"./crypto-DOZFMzid.js";import"./cardsAdapter-_lUOWhkN.js";import"./formatTime-j4oUQxO9.js";import"./matchTypes-VzXr5CmM.js";import"./cardMovementsAdapter-GtEo4vkS.js";import"./formik.esm-ayHIcoJR.js";import"./UploadSingleFile-5fFLviur.js";import"./fade-HpdRXKiE.js";import"./transition-Uc7vb3zK.js";const S=g(n.lazy(()=>E(()=>import("./TransactionForm-ERZ9PqA0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])))),J=g(n.lazy(()=>E(()=>import("./ResumeTransactionForm-6D8Q-sz8.js"),__vite__mapDeps([19,1,7,2,3,9,6,8,10,11,12,20,21,22,23,24])))),W=g(n.lazy(()=>E(()=>import("./TransferToGlobalForm-8vp7Ag49.js"),__vite__mapDeps([25,1,4,5,14,15,2,3,16,17,9]))));function Z({open:A,setOpen:C,isFundingCard:o}){var w;const f=U(),t=O(s=>s.card),i=O(s=>s.mainCard),r=X([q.CARDS_COMMERCE_LIST,t==null?void 0:t.cardTypeId])||[],[h,c]=n.useState(0),u=n.useMemo(()=>o?i==null?void 0:i.balance:t==null?void 0:t.balance,[i==null?void 0:i.balance,t==null?void 0:t.balance]),[m,z]=n.useState("1"),[d,b]=n.useState(!1),[G,v]=n.useState(null),[D,R]=n.useState(!1),p=n.useMemo(()=>(parseFloat(u)-h).toFixed(2)<0,[h,u]),_=n.useMemo(()=>{var s;return((s=f==null?void 0:f.profile)==null?void 0:s.toLowerCase())==="representante legal"},[f]),y=n.useMemo(()=>r==null?void 0:r.filter(s=>s.id!==(t==null?void 0:t.id)),[r,t==null?void 0:t.id]),B=()=>{C(!1),c(0),b(!1),v(null),R(!1)},V=(s,l)=>{l&&z(l)};n.useEffect(()=>{c(0)},[m]);const j=s=>{const l=m==="2";let I=o?i==null?void 0:i.id:t==null?void 0:t.id;l&&(I=t==null?void 0:t.id),v({cardOriginId:I,isGlobal:l,transactions:l?s:(s==null?void 0:s.transactions)||[],concept:s==null?void 0:s.concept,balance:u,currentBalance:h}),b(!0)},k=()=>{b(!1)},N=e.jsx(e.Fragment,{children:o?e.jsx(a,{variant:"h6",children:"Fondear"}):e.jsxs(Y,{children:[e.jsxs(x,{spacing:1,alignItems:"center",direction:"row",mb:.5,children:[e.jsx(a,{variant:"subtitle2",children:"Origen: "}),e.jsxs(a,{variant:"subtitle2",children:[t==null?void 0:t.cardNumberMoreDigits," "]})]}),e.jsx(H,{color:"info",children:(w=t==null?void 0:t.assignUser)==null?void 0:w.name})]})}),Q=e.jsxs(e.Fragment,{children:[!o&&_&&e.jsx(x,{alignItems:"flex-end",sx:{py:1,px:3},children:e.jsxs($,{size:"small",color:"primary",value:m,exclusive:!0,onChange:V,"aria-label":"Platform",disabled:D,children:[e.jsx(L,{value:"1",children:"Tarjetas"}),e.jsx(L,{value:"2",children:"Global"})]})}),e.jsxs(x,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",spacing:0,px:3,pt:o?2:1,children:[e.jsx(a,{variant:"subtitle1",children:"Saldo"}),e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(a,{variant:"h3",color:"success.main",children:P(u)}),e.jsx(a,{variant:"caption",color:"success.main",children:"MXN"})]}),e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsxs(a,{variant:"subtitle1",color:"error",children:["- ",P(h)]}),e.jsx(a,{variant:"caption",color:"error",children:"MXN"})]}),p&&e.jsx(a,{variant:"caption",color:"warning.main",textAlign:"center",children:"Saldo insuficiente para realizar la(s) operacion(es)"})]}),o&&e.jsx(S,{cards:o?r:y,setCurrentBalance:c,insufficient:p,isBinCard:o,onSuccess:j}),!o&&_&&e.jsxs(e.Fragment,{children:[m==="1"&&e.jsx(S,{cards:o?r:y,setCurrentBalance:c,insufficient:p,isBinCard:o,onSuccess:j}),m==="2"&&e.jsx(W,{mainCard:i,setCurrentBalance:c,insufficient:p,onSuccess:j})]}),!o&&!_&&e.jsx(S,{cards:o?r:y,setCurrentBalance:c,insufficient:p,isBinCard:o,onSuccess:j})]});return e.jsxs(K,{open:A,handleClose:B,titleElement:N,children:[e.jsx(M.div,{initial:{opacity:1},animate:{opacity:d?0:1},transition:{duration:.5},style:{display:d?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:Q}),e.jsx(M.div,{initial:{opacity:0},animate:{opacity:d?1:0},transition:{duration:.5},style:{display:d?"flex":"none",flexDirection:"column",flex:1,overflow:"hidden"},children:e.jsx(J,{data:G,onBack:k,setTransactionLoading:R,transactionLoading:D,onClose:B})})]})}Z.propTypes={isFundingCard:T.bool,open:T.bool,setOpen:T.func};export{Z as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/TransactionForm-ERZ9PqA0.js","assets/js/vendor-StReGf79.js","assets/js/index-Nopic_A6.js","assets/css/build-K0YT2apu.css","assets/js/formik.esm-ayHIcoJR.js","assets/js/index.esm-cYP9oANf.js","assets/js/useToggleStatusCard-HYo7Ob5G.js","assets/js/crypto-DOZFMzid.js","assets/js/cardsAdapter-_lUOWhkN.js","assets/js/formatNumber-D2wM-uoj.js","assets/js/formatTime-j4oUQxO9.js","assets/js/matchTypes-VzXr5CmM.js","assets/js/cardMovementsAdapter-GtEo4vkS.js","assets/js/masterGlobalsStore-uChlDzGt.js","assets/js/TextMaxLine-5PEc0VIe.js","assets/js/UploadSingleFile-5fFLviur.js","assets/js/fade-HpdRXKiE.js","assets/js/transition-Uc7vb3zK.js","assets/js/RFSelect-VFpQl01y.js","assets/js/ResumeTransactionForm-6D8Q-sz8.js","assets/js/cardTypes-ETuH3f9_.js","assets/js/AmexLogo-HKO7b419.js","assets/js/CarnetLogo-9N730tjt.js","assets/js/MasterCardLogo-31QJgBVq.js","assets/js/VisaLogo-WgMS-TBE.js","assets/js/TransferToGlobalForm-8vp7Ag49.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=TransferSideBar-oGrTqN-1.js.map
