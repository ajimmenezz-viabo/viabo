{"version":3,"file":"formatTime-_KBk1mxc.js","sources":["../../../../../frontend/src/shared/utils/formatTime.js"],"sourcesContent":["import {\r\n  addDays,\r\n  addMinutes,\r\n  addMonths,\r\n  addWeeks,\r\n  addYears,\r\n  differenceInHours,\r\n  differenceInMinutes,\r\n  eachDayOfInterval,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  endOfYear,\r\n  format,\r\n  formatDistanceToNow,\r\n  formatDistanceToNowStrict,\r\n  getTime,\r\n  isWeekend,\r\n  parseISO,\r\n  startOfMonth,\r\n  startOfWeek,\r\n  startOfYear\r\n} from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\n\r\nexport function fDate(date) {\r\n  return format(new Date(date), 'dd MMMM, yyyy', { locale: es })\r\n}\r\n\r\nexport function fDateTime(date) {\r\n  return format(new Date(date), 'dd MMM yyyy HH:mm', { locale: es })\r\n}\r\n\r\nexport function fTime(date) {\r\n  return format(new Date(date), 'hh:mm a', { locale: es })\r\n}\r\n\r\nexport function fTimestamp(date) {\r\n  return getTime(new Date(date))\r\n}\r\n\r\nexport function fDateTimeSuffix(date) {\r\n  return format(new Date(date), 'dd/MM/yyyy hh:mm p', { locale: es })\r\n}\r\n\r\nexport function fToNowStrict(date) {\r\n  return formatDistanceToNowStrict(new Date(date), {\r\n    addSuffix: true,\r\n    locale: es\r\n  })\r\n}\r\n\r\nexport function normalizeDateString(dateString) {\r\n  const dateObj = parseISO(dateString)\r\n\r\n  const timeZoneOffset = new Date().getTimezoneOffset()\r\n\r\n  const adjustedDateObj = addMinutes(dateObj, timeZoneOffset)\r\n\r\n  return adjustedDateObj\r\n}\r\n\r\nexport const monthOptions = [\r\n  'Enero',\r\n  'Febrero',\r\n  'Marzo',\r\n  'Abril',\r\n  'Mayo',\r\n  'Junio',\r\n  'Julio',\r\n  'Agosto',\r\n  'Septiembre',\r\n  'Octubre',\r\n  'Noviembre',\r\n  'Diciembre'\r\n]\r\n\r\nexport function fToNow(date) {\r\n  return formatDistanceToNow(new Date(date), {\r\n    addSuffix: true,\r\n    includeSeconds: true,\r\n    locale: es\r\n  })\r\n}\r\n\r\nexport const getDateRange = (date = new Date()) => [\r\n  {\r\n    label: 'Hoy',\r\n    startDate: date,\r\n    endDate: date\r\n  },\r\n  {\r\n    label: 'Ayer',\r\n    startDate: addDays(date, -1),\r\n    endDate: addDays(date, -1)\r\n  },\r\n  {\r\n    label: 'Esta Semana',\r\n    startDate: startOfWeek(date, { locale: es }),\r\n    endDate: endOfWeek(date, { locale: es })\r\n  },\r\n  {\r\n    label: 'Última Semana',\r\n    startDate: startOfWeek(addWeeks(date, -1), { locale: es }),\r\n    endDate: endOfWeek(addWeeks(date, -1), { locale: es })\r\n  },\r\n  {\r\n    label: 'Últimos 7 Días',\r\n    startDate: addWeeks(date, -1),\r\n    endDate: date\r\n  },\r\n  {\r\n    label: 'Este Mes',\r\n    startDate: startOfMonth(date),\r\n    endDate: endOfMonth(date)\r\n  },\r\n  {\r\n    label: 'Último Mes',\r\n    startDate: startOfMonth(addMonths(date, -1)),\r\n    endDate: endOfMonth(addMonths(date, -1))\r\n  },\r\n  {\r\n    label: 'Este Año',\r\n    startDate: startOfYear(date),\r\n    endDate: endOfYear(date)\r\n  },\r\n  {\r\n    label: 'Último Año',\r\n    startDate: startOfYear(addYears(date, -1)),\r\n    endDate: endOfYear(addYears(date, -1))\r\n  }\r\n]\r\n\r\nexport function calculateTimeWithoutWeekends(startDate, endDate = new Date()) {\r\n  const daysWithoutWeekends = eachDayOfInterval({ start: startDate, end: endDate }).filter(date => !isWeekend(date))\r\n\r\n  const adjustedEndDate = addDays(endDate, daysWithoutWeekends.length - 1)\r\n\r\n  if (adjustedEndDate > startDate) {\r\n    const totalMinutes = differenceInMinutes(adjustedEndDate, startDate)\r\n    return formatDistanceToNow(new Date(0, 0, 0, 0, totalMinutes))\r\n  } else {\r\n    const totalHours = differenceInHours(startDate, endDate)\r\n    return formatDistanceToNow(new Date(0, 0, 0, totalHours))\r\n  }\r\n}\r\n"],"names":["fDateTime","date","format","es","fToNowStrict","formatDistanceToNowStrict","normalizeDateString","dateString","dateObj","parseISO","timeZoneOffset","addMinutes","monthOptions","getDateRange","addDays","startOfWeek","endOfWeek","addWeeks","startOfMonth","endOfMonth","addMonths","startOfYear","endOfYear","addYears"],"mappings":"0JA4BO,SAASA,EAAUC,EAAM,CAC9B,OAAOC,EAAO,IAAI,KAAKD,CAAI,EAAG,oBAAqB,CAAE,OAAQE,EAAI,CACnE,CAcO,SAASC,EAAaH,EAAM,CACjC,OAAOI,EAA0B,IAAI,KAAKJ,CAAI,EAAG,CAC/C,UAAW,GACX,OAAQE,CACZ,CAAG,CACH,CAEO,SAASG,EAAoBC,EAAY,CAC9C,MAAMC,EAAUC,EAASF,CAAU,EAE7BG,EAAiB,IAAI,KAAM,EAAC,kBAAmB,EAIrD,OAFwBC,EAAWH,EAASE,CAAc,CAG5D,CAEY,MAACE,EAAe,CAC1B,QACA,UACA,QACA,QACA,OACA,QACA,QACA,SACA,aACA,UACA,YACA,WACF,EAUaC,EAAe,CAACZ,EAAO,IAAI,OAAW,CACjD,CACE,MAAO,MACP,UAAWA,EACX,QAASA,CACV,EACD,CACE,MAAO,OACP,UAAWa,EAAQb,EAAM,EAAE,EAC3B,QAASa,EAAQb,EAAM,EAAE,CAC1B,EACD,CACE,MAAO,cACP,UAAWc,EAAYd,EAAM,CAAE,OAAQE,CAAE,CAAE,EAC3C,QAASa,EAAUf,EAAM,CAAE,OAAQE,CAAE,CAAE,CACxC,EACD,CACE,MAAO,gBACP,UAAWY,EAAYE,EAAShB,EAAM,EAAE,EAAG,CAAE,OAAQE,EAAI,EACzD,QAASa,EAAUC,EAAShB,EAAM,EAAE,EAAG,CAAE,OAAQE,EAAI,CACtD,EACD,CACE,MAAO,iBACP,UAAWc,EAAShB,EAAM,EAAE,EAC5B,QAASA,CACV,EACD,CACE,MAAO,WACP,UAAWiB,EAAajB,CAAI,EAC5B,QAASkB,EAAWlB,CAAI,CACzB,EACD,CACE,MAAO,aACP,UAAWiB,EAAaE,EAAUnB,EAAM,EAAE,CAAC,EAC3C,QAASkB,EAAWC,EAAUnB,EAAM,EAAE,CAAC,CACxC,EACD,CACE,MAAO,WACP,UAAWoB,EAAYpB,CAAI,EAC3B,QAASqB,EAAUrB,CAAI,CACxB,EACD,CACE,MAAO,aACP,UAAWoB,EAAYE,EAAStB,EAAM,EAAE,CAAC,EACzC,QAASqB,EAAUC,EAAStB,EAAM,EAAE,CAAC,CACtC,CACH"}