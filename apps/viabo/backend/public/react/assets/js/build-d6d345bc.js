import{Q as xe,R as he,Z as L,U as V,r as l,V as me,W as fe,X as ge,j as e,Y as pe,$ as Ce,t as W,b as $,g as F,u as je,a0 as te,n as Se,o as be,T as C,S as x,a1 as se,a2 as we,a3 as ve,d as N,B as I,C as Ie,a4 as ye,a5 as G,a6 as ne,a7 as oe,a8 as Me,a9 as Ee,P as v,aa as Re,ab as ke,ac as Ae,ad as De,ae as Pe,af as Le,ag as Oe,ah as Ne,I as Q,k as Fe,l as Be,ai as Te,aj as He,ak as Y,f as ze,al as _e,am as Ve,an as We}from"./build-5885a497.js";import{C as D}from"./build-c7ce8ef2.js";import{g as $e,a as Ge,c as Qe,u as m,C as qe,b as Ue,d as Xe,e as Ye,f as Ke,G as Ze,h as Je,P as et,M as tt,F as st}from"./build-a3c1b3b6.js";import{C as nt}from"./build-23e0dc4d.js";import{S as ot,a as H}from"./build-6e151cd8.js";import{C as rt}from"./build-c914045d.js";import{u as it}from"./build-98a4c969.js";import{S as at}from"./build-6f07fea3.js";import{G as z}from"./build-8254f016.js";import{C as lt,M as ct,E as K,a as dt,H as ut}from"./build-a3405297.js";import{L as xt}from"./build-4ec2ea70.js";import{C as ht}from"./build-009a24e3.js";import{s as mt}from"./build-9563ddbe.js";import"./build-984b3412.js";import{L as ft,I as gt}from"./build-ebd5bc51.js";import{I as pt}from"./build-e08f604e.js";import{S as Ct}from"./build-fefa4769.js";import{C as jt}from"./build-9f068f25.js";import St from"./build-64c03a8f.js";import"./build-85f46b5d.js";import"./build-9f964f93.js";import"./build-026421cb.js";import"./build-8b042b43.js";import"./build-4c4ba0aa.js";import"./build-ecaf0d13.js";import"./build-90d696a1.js";import"./build-bee6630b.js";import"./build-85d049c1.js";import"./build-bf320aec.js";import"./build-325ec6b1.js";function bt(t){return xe("MuiListItemAvatar",t)}he("MuiListItemAvatar",["root","alignItemsFlexStart"]);const wt=["className"],vt=t=>{const{alignItems:n,classes:r}=t;return Ce({root:["root",n==="flex-start"&&"alignItemsFlexStart"]},bt,r)},It=L("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:r}=t;return[n.root,r.alignItems==="flex-start"&&n.alignItemsFlexStart]}})(({ownerState:t})=>V({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),yt=l.forwardRef(function(n,r){const a=me({props:n,name:"MuiListItemAvatar"}),{className:c}=a,i=fe(a,wt),s=l.useContext(ge),o=V({},a,{alignItems:s.alignItems}),u=vt(o);return e.jsx(It,V({className:pe(u.root,c),ownerState:o,ref:r},i))}),Mt=yt;function Et(t){const[n,r]=l.useState((t==null?void 0:t.defaultDense)||!1),[a,c]=l.useState((t==null?void 0:t.defaultOrderBy)||"name"),[i,s]=l.useState((t==null?void 0:t.defaultOrder)||"asc"),[o,u]=l.useState((t==null?void 0:t.defaultCurrentPage)||0),[h,E]=l.useState((t==null?void 0:t.defaultRowsPerPage)||5),[d,w]=l.useState((t==null?void 0:t.defaultSelected)||[]);return{dense:n,order:i,page:o,setPage:u,orderBy:a,rowsPerPage:h,selected:d,setSelected:w,resetSelected:()=>{w((t==null?void 0:t.defaultSelected)||[])},onSelectRow:f=>{const j=d.indexOf(f);let S=[];j===-1?S=S.concat(d,f):j===0?S=S.concat(d.slice(1)):j===d.length-1?S=S.concat(d.slice(0,-1)):j>0&&(S=S.concat(d.slice(0,j),d.slice(j+1))),w(S)},onSelectAllRows:(f,j)=>{if(f){w(j);return}w([])},onSort:f=>{f!==""&&(s(a===f&&i==="asc"?"desc":"asc"),c(f))},onChangePage:(f,j)=>{u(j)},onChangeDense:f=>{r(f.target.checked)},onChangeRowsPerPage:f=>{E(parseInt(f.target.value,10)),u(0)}}}const Rt=W(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined"),kt=W(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),Z=W(e.jsx("path",{d:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z"}),"PasswordTwoTone"),At=(t,n={})=>{const[r,a]=l.useState(null);return{...$([D.CARDS_COMMERCE_LIST],()=>$e(t),{staleTime:6e4,refetchOnMount:"always",onError:i=>{const s=F(i,"No se puede obtener la lista de tarjetas. Intente nuevamente o reporte a sistemas");a(s)},...n}),error:r||null}},Dt=(t,n={})=>{const[r,a]=l.useState(null);return{...$([D.CARD_INFO,t],({signal:i})=>Ge(t,i),{staleTime:6e4,onError:i=>{const s=F(i,"No se puede obtener la informacion de la tarjeta. Intente nuevamente o reporte a sistemas");a(s)},refetchOnWindowFocus:!1,...n}),error:r||null}},Pt=(t={})=>{const{enqueueSnackbar:n}=je(),[r,a]=l.useState(null),c=te();return{...Se(Qe,{onSuccess:s=>{a(null),c.refetchQueries([D.CARD_INFO,s==null?void 0:s.id]),n(s!=null&&s.cardON?"Se encendió la tarjeta con éxito":"Se apagó la tarjeta con éxito",{variant:"success",autoHideDuration:5e3})},onError:s=>{const o=F(s,"No se puede realizar esta operacion en este momento. Intente nuevamente o reporte a sistemas");n(o,{variant:be(s),autoHideDuration:5e3}),a(o)},...t}),error:r||null}};function Lt(){const t=m(r=>r.card),{assignUser:n}=t;return e.jsxs(nt,{sx:{p:3},children:[e.jsx(C,{variant:"h6",gutterBottom:!0,children:"Asignado a:"}),e.jsxs(x,{spacing:3,children:[e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},textTransform:"capitalize",children:"Nombre"}),e.jsx(C,{variant:"body2",children:n==null?void 0:n.name})]}),(n==null?void 0:n.phone)&&e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Telefono"}),e.jsx(C,{variant:"body2",children:(n==null?void 0:n.phone)||"-"})]}),e.jsxs(x,{justifyContent:"space-between",gap:1,children:[e.jsx(C,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Correo"}),e.jsx(C,{variant:"body2",children:n==null?void 0:n.email})]})]})]})}const Ot=L(t=>e.jsx(ot,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...t}))(({theme:t})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:t.palette.mode==="dark"?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:t.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:t.palette.error.main,opacity:1,transition:t.transitions.create(["background-color"],{duration:500})}}));function Nt({card:t}){const[n,r]=l.useState(!1),[a,c]=l.useState(!1),{mutate:i,isLoading:s}=Pt(),o=it([D.CARD_INFO,t==null?void 0:t.id])===1;l.useEffect(()=>{r(!1),c(!1)},[t==null?void 0:t.id]);const u=h=>{i({...t,cardON:!(t!=null&&t.cardON)})};return e.jsx(se,{sx:h=>({borderRadius:1,position:"relative",zIndex:1,backgroundColor:h.palette.primary.light,color:"white",minHeight:"auto!important",height:{xs:1,sm:"auto"},py:{xs:0,sm:2}}),children:e.jsxs(x,{flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",sx:{width:1},gap:2,alignItems:"center",children:[e.jsxs(x,{flexDirection:"column",spacing:0,alignItems:{xs:"center",md:"start"},children:[e.jsxs(x,{flexDirection:"row",gap:1,alignItems:"center",children:[e.jsx(C,{variant:"subtitle2",children:"Disponible"}),s||o?e.jsx(we,{size:30,containerProps:{display:"flex",ml:1}}):e.jsx(Ot,{disabled:s,color:t!=null&&t.cardON?"success":"error",checked:(t==null?void 0:t.cardON)||!1,onChange:u,sx:{m:1},inputProps:{"aria-label":"controlled"}})]}),e.jsxs(x,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(C,{variant:"h3",children:t==null?void 0:t.balanceFormatted}),e.jsx(C,{variant:"caption",children:"MXN"})]})]}),e.jsxs(x,{justifyContent:"flex-end",spacing:1,alignItems:{xs:"center",md:"end"},children:[e.jsx(rt,{card:t,color:"#fff"}),e.jsxs(x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:1,divider:e.jsx(ve,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),children:[e.jsx(C,{color:"#fff",variant:"subtitle2",children:t==null?void 0:t.expiration}),e.jsx(N,{startIcon:n?e.jsx(J,{handleFinish:()=>r(!1)}):e.jsx(Z,{}),color:"inherit",onClick:()=>r(h=>!h),children:n?`${t==null?void 0:t.cvv}`:"CVV"}),e.jsx(N,{startIcon:a?e.jsx(J,{handleFinish:()=>c(!1)}):e.jsx(Z,{}),color:"inherit",onClick:()=>c(h=>!h),children:a?t==null?void 0:t.nip:"NIP"})]})]})]})})}function J({handleFinish:t,duration:n=10}){const[r,a]=l.useState(100);return l.useEffect(()=>{let c;return r>0?c=setInterval(()=>{a(i=>i-100/n)},1e3):t(),()=>clearInterval(c)},[r,n]),e.jsxs(I,{sx:{position:"relative",display:"inline-flex",minWidth:60},children:[e.jsx(Ie,{variant:"determinate",value:r}),e.jsx(I,{sx:{top:0,left:0,bottom:0,right:20,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{variant:"caption",component:"div",color:"text.primary",children:`${Math.ceil(n*r/100)} `})})]})}function Ft(){const t=m(u=>u.card),n=m(u=>u.addInfoCard),{data:r,isLoading:a,isError:c,error:i,refetch:s}=Dt(t==null?void 0:t.id,{enabled:!!(t!=null&&t.id)}),{isCollapse:o}=ye();return l.useEffect(()=>{r&&n(r)},[r]),e.jsxs(x,{sx:u=>({pl:{xs:0,lg:2},overflow:"hidden",flexDirection:"column",flexGrow:1}),children:[c&&!r&&!a&&e.jsx(G,{sx:{justifyContent:"flex-start"},errorMessage:i,handleButton:s}),t&&a&&e.jsx(ne,{}),t&&r&&e.jsxs(e.Fragment,{children:[e.jsx(Nt,{card:t}),e.jsx(qe,{}),e.jsx(oe,{children:e.jsx(x,{pt:2,pb:4,px:2,children:e.jsxs(z,{container:!0,spacing:3,sx:{p:0,pb:3},children:[e.jsx(z,{item:!0,xs:12,sm:12,md:12,lg:o?4:12,xl:4,children:e.jsxs(x,{spacing:3,children:[e.jsx(Ue,{}),e.jsx(Xe,{}),e.jsx(Lt,{})]})}),e.jsx(z,{item:!0,xs:12,sm:12,md:12,lg:o?8:12,xl:8,children:e.jsx(Ye,{})})]})})})]}),!t&&e.jsxs(x,{spacing:3,sx:{height:"100%",width:"100%"},children:[e.jsx(Me,{variant:"filled",severity:"info",children:"Debe seleccionar una tarjeta para ver sus detalles!"}),e.jsx(x,{alignItems:"center",children:e.jsx(at,{sx:{width:"30%"}})})]})]})}const Bt=L(Ee)(({theme:t})=>({borderRadius:"8px!important",width:1,justifyContent:"center",display:"flex",alignItems:"center",mb:1}));re.propTypes={isOpenSidebar:v.bool,selected:v.bool,card:v.object,onSelectRow:v.func,onOpenDetails:v.func};function re({isOpenSidebar:t,card:n,selected:r,onSelectRow:a,onOpenDetails:c}){const{id:i,cardUserNumber:s,cardType:o}=n,u=m(g=>g.setCard),h=m(g=>g.card),E=m(g=>g.addInfoCard),d=m(g=>g.setSelectedMainCard),w=m(g=>g.isMainCardSelected),b=Re(),O=(b==null?void 0:b.permissions)??[],p=i===(h==null?void 0:h.id)&&h?(h==null?void 0:h.cardON)===!0?"online":"offline":"invisible",R=i===(h==null?void 0:h.id),k=g=>{var f;!((f=g.target)==null?void 0:f.type)&&!R&&(u(n),w&&d(!1),E({movements:[],expenses:"$0.00",income:"$0.00",balanceMovements:"$0.00"}),c())};return e.jsx(ke,{title:t?"":s,arrow:!0,placement:"right",children:e.jsx(xt,{sx:{mb:1,padding:0,borderRadius:1,"& :hover":{color:"text.primary"}},secondaryAction:t&&O.includes(Ae.COMMERCE_CARDS)&&e.jsx(ht,{edge:"start",checked:r,onClick:a,inputProps:{"aria-labelledby":i}}),disablePadding:!0,children:e.jsxs(Bt,{onClick:k,sx:{...R&&{bgcolor:"secondary.light",color:"black","& :hover":{color:"text.primary"}},"& :hover":{color:"text.primary"},width:1,py:1,gap:1},children:[e.jsx(Mt,{sx:{ml:2,m:0},children:e.jsxs(I,{sx:{position:"relative"},children:[e.jsx(De,{sx:g=>({width:30,height:30,m:0,color:g.palette.primary.contrastText,backgroundColor:g.palette.primary.main}),children:o==="Carnet"?e.jsx(lt,{sx:{width:20},color:"white"}):e.jsx(ct,{sx:{width:20}})}),e.jsx(Pe,{status:p,sx:{right:0,bottom:0,position:"absolute"}})]})}),t&&e.jsx(e.Fragment,{children:e.jsx(x,{sx:{width:1},children:e.jsx(C,{noWrap:!0,variant:"subtitle2",children:s})})})]})})})}const Tt=l.memo(re);function Ht({isOpenSideBar:t}){return e.jsxs(x,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1.5},children:[e.jsx(H,{variant:"circular",width:48,height:48}),t&&e.jsxs(x,{spacing:.5,sx:{flexGrow:1},children:[e.jsx(H,{variant:"text",sx:{width:.5,height:16}}),e.jsx(H,{variant:"text",sx:{width:.25,height:12}})]})]})}ie.propTypes={cards:v.array,isOpenSidebar:v.bool,onOpenDetails:v.func,isLoading:v.bool,sx:v.object};function ie({cards:t,isOpenSidebar:n,isLoading:r,sx:a,onOpenDetails:c,...i}){const s=m(d=>d.setSelectedCards),o=m(d=>d.selectedCards,mt),{selected:u,onSelectRow:h,resetSelected:E}=Et();return l.useEffect(()=>{s(u)},[u]),l.useEffect(()=>{(o==null?void 0:o.length)===0&&E()},[o]),e.jsx(Le,{disablePadding:!0,sx:a,...i,children:(r?[...Array(12)]:t).map((d,w)=>d!=null&&d.id?e.jsx(Tt,{isOpenSidebar:n,card:d,selected:o==null?void 0:o.some(b=>(b==null?void 0:b.id)===(d==null?void 0:d.id)),onSelectRow:()=>h(d),onOpenDetails:c},d==null?void 0:d.id):e.jsx(Ht,{isOpenSideBar:n},w))})}function zt({cardTypes:t,isLoading:n,isError:r,refetch:a}){const c=m(o=>o.setCardTypeSelected),i=m(o=>o.cardTypeSelected),s=o=>{c(o==null?void 0:o.id)};return e.jsxs(I,{display:"flex",children:[n&&e.jsx(ne,{}),r&&!n&&e.jsx(G,{errorMessage:"No existen tipos de tarjetas para este comercio",handleButton:a}),!n&&(t==null?void 0:t.map(o=>{const u=i===(o==null?void 0:o.id);return e.jsx(Oe.div,{onClick:()=>s(o),whileHover:{scale:1.03},whileTap:{scale:.8},children:e.jsx(ft,{variant:u?"ghost":"filled",color:Ne((o==null?void 0:o.name)||"inherit"),sx:{textTransform:"uppercase",marginRight:1,marginBottom:2,cursor:"pointer",border:u?3:0,borderColor:u?h=>h.palette.primary.main:"inherit"},children:o==null?void 0:o.name})},o==null?void 0:o.id)}))]})}const _t=L(t=>e.jsx(Q,{disableRipple:!0,...t}))(({theme:t})=>({left:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(21),borderRadius:"0 12px 12px 0",color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,boxShadow:t.customShadows.primary,"&:hover":{backgroundColor:t.palette.primary.darker}})),Vt=L(t=>e.jsx(Q,{disableRipple:!0,...t}))(({theme:t})=>({alignItems:"center",justifyContent:"center",boxSizing:"boder-box",display:"inline-flex",outline:"0px",margin:"0px",cursor:"pointer",userSelect:"none",textDecoration:"none",textAlign:"center",borderRadius:"50%",overflow:"visible",color:"rgb(145, 158, 171)",fontSize:"1.125rem",padding:"4px",zIndex:"1500",border:"1px dashed rgba(145, 158, 171, 0.24)",backdropFilter:"blur(6px)",lineHeight:0})),_=320,ee=96,Wt=(t={})=>{const[n,r]=l.useState(null),a=m(s=>s.setCardTypeSelected),c=m(s=>s.cardTypeSelected);return{...$([D.PAYMENT_PROCESSORS],Ke,{staleTime:6e4,refetchOnMount:"always",onError:s=>{const o=F(s,"No se puede obtener la lista de los tipos de tarjetas. Intente nuevamente o reporte a sistemas");r(o)},onSuccess:s=>{const o=(s==null?void 0:s.find(u=>(u==null?void 0:u.id)==="2"))||Array.isArray(s)&&(s==null?void 0:s.length)>0&&s[0]||null;o&&!c&&a(o==null?void 0:o.id)},...t}),error:n||null}};function $t(){const t=m(y=>{var M;return(M=y.card)==null?void 0:M.id}),n=m(y=>y.cardTypeSelected),{data:r,isLoading:a,isError:c,refetch:i}=Wt(),{data:s,isLoading:o,isRefetching:u,isError:h,error:E,refetch:d,isSuccess:w}=At(n,{enabled:!1}),b=o||u,O=Fe(),[p,R]=l.useState(!0),[k,g]=l.useState(""),[A,f]=l.useState(s||[]),[j,S]=l.useState(!1),P=Be("up","md"),ae=k&&j,q=P&&!p;l.useEffect(()=>{n&&d()},[n]),l.useEffect(()=>{if(!P)return B()},[P,t]),l.useEffect(()=>{if(!p)return S(!1)},[p]),l.useEffect(()=>{s&&f(s)},[s]);const B=()=>{R(!1)},U=()=>{R(y=>(y&&(g(""),f(s)),!y))},le=()=>{S(!1)},ce=async y=>{try{const{value:M}=y.target;if(g(M),M){const ue=(s==null?void 0:s.filter(T=>(T==null?void 0:T.cardNumber.toLowerCase().indexOf(M.toLowerCase()))!==-1))||[];f(ue)}else f(s)}catch(M){console.error(M)}},de=()=>{S(!0)},X=e.jsx(oe,{sx:{height:.98},children:e.jsxs(x,{px:p?1:0,children:[p&&e.jsx(zt,{cardTypes:r,isLoading:a,isError:c,refetch:i}),!n&&p&&!a&&e.jsx(K,{pt:2.5,message:"Seleccione un tipo de tarjeta para obtener la lista de tarjetas"}),n&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ze,{openSidebar:p}),e.jsx(I,{sx:{p:2,px:0},children:e.jsxs(x,{direction:"row",justifyContent:p?"flex-end":"center",alignItems:"center",spacing:2,children:[!q&&e.jsx(Je,{onClickAway:le,children:e.jsx(gt,{fullWidth:!0,size:"small",value:k,onFocus:de,onChange:ce,placeholder:"Buscar Tarjetas...",InputProps:{startAdornment:e.jsx(pt,{position:"start",children:e.jsx(Ct,{sx:{color:"text.disabled",width:20,height:20}})})}})}),e.jsx(x,{direction:"row",alignItems:"center",justifyContent:"center",children:e.jsx(Vt,{size:"small",sx:{...!p&&{transform:"rotate(180deg)"}},onClick:U,children:Te})})]})}),h&&p&&!s&&!b&&e.jsx(G,{errorMessage:E,handleButton:d}),s&&p&&(s==null?void 0:s.length)===0&&!b&&e.jsx(K,{pt:2.5,message:"No hay tarjetas activas en este tipo de tarjeta"}),e.jsx(ie,{isOpenSidebar:p,cards:A||[],isLoading:b,onOpenDetails:B}),ae&&(A==null?void 0:A.length)===0&&(s==null?void 0:s.length)>0&&e.jsx(He,{sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center"},searchQuery:k})]})]})});return e.jsxs(e.Fragment,{children:[!P&&e.jsx(_t,{onClick:U,children:e.jsx(jt,{sx:{width:16,height:16}})}),P?e.jsx(Y,{open:p,variant:"persistent",PaperProps:{sx:{height:1,borderRightStyle:"none",bgcolor:"background.default"}},sx:{height:1,width:_,transition:O.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",backgroundColor:"transparent!important",width:_},...q&&{width:ee,"& .MuiDrawer-paper":{width:ee,backgroundColor:"transparent!important",position:"static",transform:"none !important",visibility:"visible !important"}}},children:X}):e.jsx(Y,{ModalProps:{keepMounted:!0},open:p,onClose:B,sx:{height:1,"& .MuiDrawer-paper":{width:_,p:2}},children:X})]})}function Gt(){const[t,n]=l.useState(!1),[r,a]=l.useState(!1),c=m(o=>o.mainCard),i=m(o=>o.setSelectedCards),s=()=>{i([])};return e.jsxs(e.Fragment,{children:[e.jsx(se,{sx:o=>({position:"sticky",borderRadius:1,py:4,top:0,boxShadow:o.customShadows.z8,backgroundColor:o.palette.info.lighter,color:"white"}),children:e.jsxs(x,{flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",sx:{width:1},gap:2,alignItems:"center",children:[e.jsxs(x,{flexDirection:"row",alignItems:"center",gap:1,children:[e.jsx(Q,{"aria-label":"close",size:"small",onClick:s,children:e.jsx(Rt,{width:20,height:20,fontSize:"inherit",color:"primary"})}),e.jsx(C,{variant:"subtitle2",color:"info.main",children:"Acciones:"})]}),e.jsxs(x,{flexDirection:"row",gap:2,justifyContent:"space-between",children:[e.jsx(N,{startIcon:e.jsx(kt,{}),variant:"outlined",color:"info",onClick:()=>{n(!0),a(!1)},children:"Mensaje"}),c&&e.jsx(N,{startIcon:e.jsx(et,{}),variant:"outlined",color:"info",onClick:()=>{a(!0),n(!1)},children:"Fondear"})]})]})}),e.jsx(tt,{isOpenCompose:t,onCloseCompose:()=>n(!1)}),e.jsx(St,{open:r,setOpen:a,isFundingCard:!0})]})}function ws(){const t=m(i=>i==null?void 0:i.selectedCards),n=m(i=>i.isMainCardSelected),r=m(i=>i.setSelectedMainCard),a=m(i=>i.resetCard),c=te();return l.useEffect(()=>()=>{const i=Object.values(D);c.cancelQueries(i)},[]),l.useEffect(()=>{n&&(a(),r(!1))},[n]),e.jsx(ze,{title:"Lista de Tarjetas",children:e.jsxs(dt,{children:[e.jsxs(I,{display:"flex",overflow:"hidden",sx:{height:"100vH",maxHeight:"100%",flexDirection:"column"},children:[e.jsx(I,{px:1,children:e.jsx(ut,{name:"Lista de Tarjetas",links:[{name:"Inicio",href:_e.root},{name:"Administracion",href:Ve.cards},{name:We.cards.name}]})}),e.jsx(x,{flexDirection:"row",sx:{display:"flex"},children:e.jsx(x,{sx:i=>({overflow:"hidden",flexDirection:"column",flexGrow:1,pb:2}),children:(t==null?void 0:t.length)>0&&e.jsx(Gt,{})})}),e.jsxs(I,{display:"flex",overflow:"hidden",sx:{flex:"1 1 0%"},children:[e.jsx(I,{display:"block",width:1,position:"absolute"}),e.jsx($t,{}),e.jsx(Ft,{})]})]}),e.jsx(st,{})]})})}export{ws as default};
