import{U as N,r as R,i as a,S as p,T as V,d$ as P,P as t}from"./vendor-5lkxkETF.js";import{u as T}from"./formik.esm-CTTSENmf.js";import{d as h,B as I}from"./AdminDashboardViaboSpei-UZToPwGD.js";import{F as k,R as x,M as B}from"./TextMaxLine-Cweu1ZMD.js";import{S as E}from"./index-D5oZe3QV.js";import"./formatNumber-dGNhWwxT.js";import"./matchTypes-mENztEWg.js";import"./formatTime-jCgU2sMR.js";import"./viabo-spei-paths-CscWQyNa.js";import"./filterSearch-NGUmCbyG.js";import"./fade-CViozI82.js";import"./transition-anLY3gj9.js";import"./usePagination-Xa7qo0UK.js";import"./HeaderPage-BXF44eOm.js";import"./UploadSingleFile-D4e1QNmZ.js";const M=({selectedAccount:o,setCurrentBalance:f,insufficient:b,onSuccess:g,initialValues:y})=>{const m=T({initialValues:y||{transactions:[],amount:"",concept:""},validateOnChange:!1,onSubmit:(n,{setFieldValue:i,setSubmitting:e})=>{var s;return b?(N.warning("Saldo insuficiente para realizar esta operación"),e(!1)):(e(!1),i("amount",""),g({...n,origin:(s=o==null?void 0:o.account)==null?void 0:s.number}))}}),{isSubmitting:S,setFieldValue:u,values:r,handleSubmit:z}=m,l=S,j=window.crypto||window.msCrypto,C=new Uint32Array(1),F=j.getRandomValues(C)[0],w=(r==null?void 0:r.amount)===""||Number(r==null?void 0:r.amount)<=0;return R.useEffect(()=>{var e;const i=((e=r.transactions)==null?void 0:e.reduce((s,c)=>{const d=c.amount.trim()!==""?parseFloat(c.amount.replace(/,/g,"")):0;return isNaN(d)?s:s+d},0)).toFixed(2);f(i)},[r.transactions]),a.jsx(E,{containerProps:{sx:{flexGrow:0,height:"auto"}},children:a.jsx(k,{formik:m,children:a.jsxs(p,{sx:{p:3},spacing:3,children:[a.jsxs(p,{spacing:.5,children:[a.jsx(V,{variant:"caption",fontWeight:"bold",children:"Monto:"}),a.jsx(x,{size:"large",name:"amount",placeholder:"0.00",disabled:l,autoComplete:"off",InputProps:{startAdornment:a.jsx("span",{style:{marginRight:"5px"},children:"$"}),endAdornment:a.jsx("span",{style:{marginRight:"5px"},children:"MXN"}),inputComponent:B,inputProps:{mask:Number,radix:".",thousandsSeparator:",",padFractionalZeros:!0,min:0,scale:2,value:r.amount,onAccept:n=>{var i;u("amount",n),u("transactions",[{id:F,account:{clabe:(i=o==null?void 0:o.concentrator)==null?void 0:i.number,name:"ENVIÓ A CONCENTRADORA"},amount:r==null?void 0:r.amount}])}},sx:{borderRadius:n=>1,borderColor:h}}})]}),a.jsx(x,{fullWidth:!0,name:"concept",multiline:!0,disabled:l,rows:2,label:"Concepto",placeholder:"Transferencia ..",InputProps:{sx:{borderRadius:n=>1,borderColor:h}}}),a.jsx(p,{sx:{pt:3},children:a.jsx(I,{variant:"contained",size:"large",color:"primary",disabled:w,fullWidth:!0,type:"submit",startIcon:a.jsx(P,{}),children:"Siguiente"})})]})})})};M.propTypes={initialValues:t.shape({transactions:t.array,amount:t.string,concept:t.string}),insufficient:t.any,onSuccess:t.func,selectedAccount:t.shape({account:t.shape({number:t.any}),concentrator:t.shape({number:t.any})}),setCurrentBalance:t.func};export{M as default};
//# sourceMappingURL=SpeiOutConcentratorForm-BM5liQ8X.js.map
