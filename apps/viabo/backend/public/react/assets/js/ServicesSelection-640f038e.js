import{n as y,v as b,W as x,r as C,B as M,g as E,_ as l,j as s,i as R,l as w,ab as P,a7 as A,p as S,aa as O,av as h,G as v,ac as _,A as U}from"./index-f7bc3d6b.js";import{c as V,u as $,d as L,a as j,p as B,S as N,A as F,e as W,L as H,P as T}from"./CommerceRegister-06086fff.js";function z(e){return y("MuiCard",e)}b("MuiCard",["root"]);const D=["className","raised"],G=e=>{const{classes:a}=e;return w({root:["root"]},z,a)},q=x(V,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),X=C.forwardRef(function(a,o){const t=M({props:a,name:"MuiCard"}),{className:i,raised:d=!1}=t,c=E(t,D),r=l({},t,{raised:d}),p=G(r);return s(q,l({className:R(p.root,i),elevation:d?8:void 0,ref:o,ownerState:r},c))}),J=X;function K(e){return y("MuiCardContent",e)}b("MuiCardContent",["root"]);const Q=["className","component"],Y=e=>{const{classes:a}=e;return w({root:["root"]},K,a)},Z=x("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ee=C.forwardRef(function(a,o){const t=M({props:a,name:"MuiCardContent"}),{className:i,component:d="div"}=t,c=E(t,Q),r=l({},t,{component:d}),p=Y(r);return s(Z,l({as:d,className:R(p.root,i),ownerState:r,ref:o},c))}),te=ee;function ae(e){return y("MuiCardMedia",e)}b("MuiCardMedia",["root","media","img"]);const oe=["children","className","component","image","src","style"],se=e=>{const{classes:a,isMediaComponent:o,isImageComponent:t}=e;return w({root:["root",o&&"media",t&&"img"]},ae,a)},ne=x("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e,{isMediaComponent:t,isImageComponent:i}=o;return[a.root,t&&a.media,i&&a.img]}})(({ownerState:e})=>l({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),re=["video","audio","picture","iframe","img"],ie=["picture","img"],ce=C.forwardRef(function(a,o){const t=M({props:a,name:"MuiCardMedia"}),{children:i,className:d,component:c="div",image:r,src:p,style:g}=t,f=E(t,oe),n=re.indexOf(c)!==-1,u=!n&&r?l({backgroundImage:`url("${r}")`},g):g,m=l({},t,{component:c,isMediaComponent:n,isImageComponent:ie.indexOf(c)!==-1}),I=se(m);return s(ne,l({className:R(I.root,d),as:c,role:!n&&r?"img":void 0,ref:o,style:u,ownerState:m,src:n?r||p:void 0},f,{children:i}))}),de=ce,le=(e={})=>{const{enqueueSnackbar:a}=P();return $({mutationFn:L,onSuccess:()=>{a("Servicios agregados al comercio!",{variant:"success"})},onError:o=>{const t=j(o,"No se puede agregar los servicios al comercio");a(t,{variant:(o==null?void 0:o.status)===500?"error":"warning",autoHideDuration:5e3})},...e})},pe="/react/assets/img/viabo-card-be5013bb.png",me="/react/assets/img/viabo-pay-c2518fc8.png";Ce.propTypes={store:A.shape(B)};const ue=[{name:"Viabo Card",description:"Tarjeta CARNET X VIABO para control de gastos, pago de compensaciones, cash-back y fidelización por perfiles.",image:pe},{name:"Viabo Pay",description:"Herramienta de cobro/pago por pefiles,transparencia transaccional y alertas.",image:me}],k={selected:{backgroundColor:e=>U(e.palette.primary.main,.08),borderColor:e=>e.palette.primary.main},unselected:{backgroundColor:e=>e.palette.background.neutral,borderColor:"transparent"}};function Ce({store:e}){const{setActualProcess:a,setLastProcess:o}=e,[t,i]=C.useState([]),[d,c]=C.useState(!1),{mutate:r,isLoading:p}=le(),g=n=>{if(!t.includes(n.name))return i([...t,n.name]);const u=t.filter(m=>m!==n.name);return i(u)},f=()=>t.length===0?c(!0):r({services:t},{onSuccess:()=>{a(T.COMMERCE_INFO),o({info:t,name:T.SERVICES_SELECTION}),c(!1)}});return S(O,{children:[s(N,{direction:"column",width:1,spacing:1,children:S(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s(v,{variant:"h4",color:"textPrimary",align:"center",children:"¡Bienvenido a Viabo!"}),s(v,{paragraph:!0,align:"center",variant:"body1",color:"text.secondary",whiteSpace:"pre-line",children:"Seleccione los servicios para habilitar su ecosistema."})]})}),d&&S(F,{listenElement:d,sx:{mb:5,mx:2,textAlign:"initial"},severity:"warning",children:[s(W,{sx:{textAlign:"initial"},children:"Servicios"}),"Se debe seleccionar al menos un servicio para continuar con el proceso"]}),s(h.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:s(_,{my:3,px:2,sx:{display:"grid",gap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(2, 1fr)"}},children:ue.map((n,u)=>{const m=t.includes(n.name);return s(h.div,{whileHover:{scale:1.05},whileTap:{scale:.9},children:S(J,{onClick:()=>g(n),sx:{backgroundColor:"transparent",cursor:"pointer",height:"100%",...m?k.selected:k.unselected},children:[s(de,{sx:{px:{xs:10,sm:5},pt:3},component:"img",image:n.image}),s(te,{children:s(v,{variant:"caption",color:"text.disabled",children:n.description})})]})},u)})})}),s(N,{mt:7,px:2,children:s(H,{onClick:f,loading:p,color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{textTransform:"uppercase"},children:"Continuar"})})]})}export{Ce as ServicesSelection,Ce as default};
