{"version":3,"file":"CancelFundingOrder-Pc7RnYS_.js","sources":["../../../../../frontend/src/app/business/funding-orders/hooks/useCancelFundingOrder.js"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { FUNDING_ORDERS_KEYS } from '../adapters'\r\nimport { cancelFundingOrder } from '../services'\r\n\r\nimport { getErrorAPI, getNotificationTypeByErrorCode } from '@/shared/interceptors'\r\nimport { isFunction } from '@/shared/utils'\r\n\r\nexport const useCancelFundingOrder = (options = {}) => {\r\n  const client = useQueryClient()\r\n  const cancelOrder = useMutation(cancelFundingOrder, options)\r\n  const cancel = async (formData, options = {}) => {\r\n    const { onSuccess, onError, mutationOptions } = options\r\n\r\n    try {\r\n      await toast.promise(cancelOrder.mutateAsync(formData, mutationOptions), {\r\n        pending: 'Cancelando orden de fondeo ...',\r\n        success: {\r\n          render({ data }) {\r\n            client.invalidateQueries([FUNDING_ORDERS_KEYS.LIST])\r\n            isFunction(onSuccess) && onSuccess(data)\r\n            return 'Se canceló la orden de fondeo con éxito'\r\n          }\r\n        }\r\n      })\r\n    } catch (error) {\r\n      const errorFormatted = getErrorAPI(\r\n        error,\r\n        `No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas`\r\n      )\r\n      isFunction(onError) && onError(errorFormatted)\r\n      toast.error(errorFormatted, {\r\n        type: getNotificationTypeByErrorCode(error)\r\n      })\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...cancelOrder,\r\n    mutate: cancel\r\n  }\r\n}\r\n"],"names":["useCancelFundingOrder","options","client","useQueryClient","cancelOrder","useMutation","cancelFundingOrder","formData","onSuccess","onError","mutationOptions","toast","data","FUNDING_ORDERS_KEYS","isFunction","error","errorFormatted","getErrorAPI","getNotificationTypeByErrorCode"],"mappings":"k5BASO,MAAMA,EAAwB,CAACC,EAAU,KAAO,CACrD,MAAMC,EAASC,EAAgB,EACzBC,EAAcC,EAAYC,EAAoBL,CAAO,EA2B3D,MAAO,CACL,GAAGG,EACH,OA5Ba,MAAOG,EAAUN,EAAU,CAAA,IAAO,CAC/C,KAAM,CAAE,UAAAO,EAAW,QAAAC,EAAS,gBAAAC,CAAiB,EAAGT,EAEhD,GAAI,CACF,MAAMU,EAAM,QAAQP,EAAY,YAAYG,EAAUG,CAAe,EAAG,CACtE,QAAS,iCACT,QAAS,CACP,OAAO,CAAE,KAAAE,GAAQ,CACf,OAAAV,EAAO,kBAAkB,CAACW,EAAoB,IAAI,CAAC,EACnDC,EAAWN,CAAS,GAAKA,EAAUI,CAAI,EAChC,yCACR,CACF,CACT,CAAO,CACF,OAAQG,EAAO,CACd,MAAMC,EAAiBC,EACrBF,EACA,8FACD,EACDD,EAAWL,CAAO,GAAKA,EAAQO,CAAc,EAC7CL,EAAM,MAAMK,EAAgB,CAC1B,KAAME,EAA+BH,CAAK,CAClD,CAAO,CACF,CACF,CAKA,CACH"}