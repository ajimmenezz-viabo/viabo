import{g as E,a as F,L as w,_ as I,G as M,S as T,R as O,E as R}from"./index-s6HyWPbs.js";import{r as t,e as f,a9 as U,i as o,S as u,T as v}from"./vendor-FSZoD0Ty.js";import{u as q}from"./useFindSpeiCostCenters-lZikHkQ4.js";import{S as C,g as K,a as V,u as d}from"./ViaboSpeiCompanies-iDdaLjsf.js";import"./matchTypes-_pBEYOAq.js";import"./useViaboSpeiBreadCrumbs-vDfIDA2Q.js";import"./TextMaxLine-PpgibfDP.js";import"./formik.esm--ft-gNTR.js";import"./UploadSingleFile-RRpuU-ga.js";import"./fade-HpdRXKiE.js";import"./transition-Uc7vb3zK.js";import"./formatNumber-IeezKRXK.js";import"./HeaderPage-iSujr2v1.js";import"./useMaterialTable-nTpJPdva.js";const Y=(s={})=>{const[a,n]=t.useState(null),e=f({queryKey:[C.USERS_ADMIN_COMPANY_LIST],queryFn:({signal:r})=>K(),refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...s});return t.useEffect(()=>{if(e!=null&&e.isError){const r=E(e.error,"No se puede obtener la lista de usuarios. Intente nuevamente o reporte a sistemas");n(r)}},[e.isError,e.error]),{...e,error:a||null}},B=(s,a={})=>{const[n,e]=t.useState(null),r=f({queryKey:[C.COMPANY_DETAILS,s],queryFn:()=>V(s),refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...a});return t.useEffect(()=>{if(r!=null&&r.isError){const i=E(r.error,"No se puede obtener la información de la empresa. Intente nuevamente o reporte a sistemas");e(i),U.error(i,{type:F(r.error)})}},[r.isError,r.error]),{...r,error:n||null}},G=w(t.lazy(()=>I(()=>import("./SpeiNewCompanyForm-fk-hqbgl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])))),ae=()=>{const{openNewCompany:s,setOpenNewSpeiCompany:a,setSpeiCompany:n}=d(),e=d(A=>A.company),{data:r,isLoading:i,isError:S,error:g,refetch:l}=Y({enabled:!1}),{data:y,isLoading:h,isError:x,error:_,refetch:N}=q({enabled:!1}),{data:L,isError:b,error:D,isFetching:P}=B(e==null?void 0:e.id,{enabled:!!(e!=null&&e.id)});t.useEffect(()=>{s&&(l(),N())},[s]);const m=()=>{a(!1),n(null)},c=S||x||b,p=i||h||P,j=g||_||D;return o.jsx(M,{open:s,handleClose:m,titleElement:o.jsx(u,{children:o.jsx(v,{variant:"h6",children:e?"Editar Empresa":"Nueva Empresa"})}),children:o.jsx(T,{containerProps:{sx:{flexGrow:0,height:"auto"}},children:o.jsxs(u,{spacing:3,p:3,children:[p&&o.jsx(O,{}),c&&!p&&o.jsx(R,{errorMessage:j,titleMessage:"Error al obtener información",handleButton:()=>l()}),!c&&!p&&s&&o.jsx(G,{adminCompanyUsers:r,costCenters:y,company:L,onSuccess:m})]})})})};export{ae as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/SpeiNewCompanyForm-fk-hqbgl.js","assets/js/vendor-FSZoD0Ty.js","assets/js/formik.esm--ft-gNTR.js","assets/js/index.esm-ZMwb309P.js","assets/js/index-s6HyWPbs.js","assets/css/build-K0YT2apu.css","assets/js/ViaboSpeiCompanies-iDdaLjsf.js","assets/js/useViaboSpeiBreadCrumbs-vDfIDA2Q.js","assets/js/TextMaxLine-PpgibfDP.js","assets/js/UploadSingleFile-RRpuU-ga.js","assets/js/fade-HpdRXKiE.js","assets/js/transition-Uc7vb3zK.js","assets/js/formatNumber-IeezKRXK.js","assets/js/matchTypes-_pBEYOAq.js","assets/js/HeaderPage-iSujr2v1.js","assets/js/useMaterialTable-nTpJPdva.js","assets/js/viabo-card-zH8OCAbq.js","assets/js/RFSelect-r0md_kbC.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=SpeiNewCompanyDrawer-f0mJBaa4.js.map
