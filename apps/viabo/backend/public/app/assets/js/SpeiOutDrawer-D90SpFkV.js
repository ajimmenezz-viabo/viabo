import{L as h,_ as f,j as te,a7 as re,R as ne,E as ae}from"./index-D5oZe3QV.js";import{r as t,i as s,S as v,bK as ie,bL as oe,q as _,T as ce}from"./vendor-5lkxkETF.js";import{g as le,u as z,S as E}from"./AdminDashboardViaboSpei-UZToPwGD.js";import{u as ue}from"./useFindSpeiThirdAccountsList-Dfj1-fXL.js";import{R as N}from"./RightPanel-CslEBAnY.js";import{v as j}from"./fade-CViozI82.js";import"./formatNumber-dGNhWwxT.js";import"./matchTypes-mENztEWg.js";import"./TextMaxLine-Cweu1ZMD.js";import"./formik.esm-CTTSENmf.js";import"./formatTime-jCgU2sMR.js";import"./UploadSingleFile-D4e1QNmZ.js";import"./viabo-spei-paths-CscWQyNa.js";import"./filterSearch-NGUmCbyG.js";import"./usePagination-Xa7qo0UK.js";import"./HeaderPage-BXF44eOm.js";import"./transition-anLY3gj9.js";const de=h(t.lazy(()=>f(()=>import("./SpeiOutForm-blr_QDvs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])))),me=h(t.lazy(()=>f(()=>import("./SpeiOutConcentratorForm-BM5liQ8X.js"),__vite__mapDeps([19,1,4,6,2,3,7,8,9,10,11,12,13,14,15,16,17])))),he=h(t.lazy(()=>f(()=>import("./SpeiOutResume-DQDGNYp0.js"),__vite__mapDeps([20,1,7,2,3,6,8,9,4,10,11,12,13,14,15,16,17])))),fe=h(t.lazy(()=>f(()=>import("./SpeiOutSuccess-BQbB5U46.js"),__vite__mapDeps([21,1,6,2,3,7,8,9,4,10,11,12,13,14,15,16,17])))),ye=()=>{const{twoAuth:A,permissions:L}=te(),[a,R]=t.useState(null),n=t.useMemo(()=>le(L),[L]),c=t.useMemo(()=>n==null?void 0:n.find(e=>e==null?void 0:e.default),[n]),k=a===E.COMPANIES.id,C=a===E.THIRD_ACCOUNTS.id,q=a===E.CONCENTRATOR.id,{setOpenSpeiOut:U,openSpeiOut:i,selectedAccount:r}=z(),[S,p]=t.useState(0),[b,x]=t.useState(null),T=t.useMemo(()=>{var e;return(e=r==null?void 0:r.balance)==null?void 0:e.number},[r==null?void 0:r.balance]),[l,u]=t.useState(!1),[G,O]=t.useState(null),[d,D]=t.useState(null),[F,P]=t.useState(!1),{data:y,isLoading:H,isError:K,error:J,refetch:Q}=ue({enabled:!!(i&&A)}),w=z(e=>e.companies),I=t.useMemo(()=>(parseFloat(T)-S).toFixed(2)<0,[S,T]),M=s.jsx(ce,{variant:"h6",children:"SPEI Out"}),o=H,m=K,W=J,X=t.useMemo(()=>k?w:C?y:[],[a,y,w]),g=()=>{U(!1),p(0),u(!1),O(null),P(!1),x(null),D(null)},V=e=>{x(e),O({transactions:(e==null?void 0:e.transactions)||[],concept:e==null?void 0:e.concept,balance:T,origin:e==null?void 0:e.origin,internal:!C,currentBalance:S}),u(!0)},Y=()=>{u(!1)},Z=e=>{u(!1),D(e)},$=(e,B)=>{B&&(R(B),x(null))},ee=()=>{Q()};t.useEffect(()=>{R(c==null?void 0:c.id)},[c]);const se=s.jsxs(s.Fragment,{children:[s.jsx(v,{alignItems:"flex-end",sx:{py:1,px:3},children:s.jsx(ie,{size:"small",color:"primary",value:a,exclusive:!0,onChange:$,"aria-label":"Platform",disabled:F,children:n==null?void 0:n.map(e=>s.jsx(oe,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))})}),q?s.jsx(me,{insufficient:I,onSuccess:V,setCurrentBalance:p,initialValues:b,selectedAccount:r}):s.jsx(de,{accounts:X||[],insufficient:I,onSuccess:V,setCurrentBalance:p,initialValues:b,selectedAccount:r},a)]});return A?s.jsxs(N,{open:i,handleClose:g,titleElement:M,children:[o&&s.jsx(ne,{}),m&&!o&&s.jsx(ae,{errorMessage:W,titleMessage:"Lista de Cuentas",handleButton:()=>ee()}),!m&&!o&&i&&!l&&!d&&s.jsx(_.div,{variants:j().in,style:{display:l?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:se}),!m&&!o&&i&&l&&!d&&s.jsx(_.div,{variants:j().in,children:s.jsx(he,{data:G,onBack:Y,setTransactionLoading:P,transactionLoading:F,onSuccess:Z})}),!m&&!o&&i&&!l&&d&&s.jsx(_.div,{variants:j().in,children:s.jsx(fe,{transactions:d,onFinish:g})})]}):s.jsx(N,{open:i,handleClose:g,titleElement:M,children:s.jsx(v,{p:3,children:s.jsx(re,{titleMessage:"Google Authenticator",errorMessage:"Para realizar esta operación debe activar y configurar el Doble Factor de Autentificación (2FA) desde su perfil."})})})};export{ye as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/SpeiOutForm-blr_QDvs.js","assets/js/vendor-5lkxkETF.js","assets/js/index-D5oZe3QV.js","assets/css/build-Bl0dWaDY.css","assets/js/formik.esm-CTTSENmf.js","assets/js/index.esm-gIIytEq8.js","assets/js/AdminDashboardViaboSpei-UZToPwGD.js","assets/js/formatNumber-dGNhWwxT.js","assets/js/matchTypes-mENztEWg.js","assets/js/TextMaxLine-Cweu1ZMD.js","assets/js/formatTime-jCgU2sMR.js","assets/js/UploadSingleFile-D4e1QNmZ.js","assets/js/fade-CViozI82.js","assets/js/transition-anLY3gj9.js","assets/js/viabo-spei-paths-CscWQyNa.js","assets/js/filterSearch-NGUmCbyG.js","assets/js/usePagination-Xa7qo0UK.js","assets/js/HeaderPage-BXF44eOm.js","assets/js/RFSelect-DSsw7uR8.js","assets/js/SpeiOutConcentratorForm-BM5liQ8X.js","assets/js/SpeiOutResume-DQDGNYp0.js","assets/js/SpeiOutSuccess-BQbB5U46.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=SpeiOutDrawer-D90SpFkV.js.map
