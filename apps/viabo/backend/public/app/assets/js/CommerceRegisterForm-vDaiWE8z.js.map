{"version":3,"file":"CommerceRegisterForm-vDaiWE8z.js","sources":["../../../../../frontend/src/app/business/commerce/adapters/newCommerceAdapter.js","../../../../../frontend/src/app/business/commerce/hooks/useRegisterCommerce.js","../../../../../frontend/src/app/business/commerce/validations/commerceRegisterValidation.js"],"sourcesContent":["export const NewCommerceAdapter = commerce => {\r\n  const { name, lastName, phone, email, password, confirmPassword } = commerce\r\n\r\n  return {\r\n    name,\r\n    lastname: lastName,\r\n    phone,\r\n    email,\r\n    password,\r\n    confirmPassword\r\n  }\r\n}\r\n","import { useState } from 'react'\r\n\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { COMMERCE_KEYS } from '@/app/business/commerce/adapters'\r\nimport { createNewCommerce } from '@/app/business/commerce/services'\r\nimport { getErrorAPI } from '@/shared/interceptors'\r\n\r\nexport const useRegisterCommerce = (options = {}) => {\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [customError, setCustomError] = useState(null)\r\n  const client = useQueryClient()\r\n\r\n  const register = useMutation(createNewCommerce, {\r\n    onSuccess: () => {\r\n      setCustomError(null)\r\n      client.removeQueries([COMMERCE_KEYS.TOKEN_COMMERCE])\r\n      enqueueSnackbar('Se creo el comercio', {\r\n        variant: 'success',\r\n        autoHideDuration: 5000\r\n      })\r\n    },\r\n    onError: error => {\r\n      setCustomError(getErrorAPI(error, 'No se puede crear el comercio'))\r\n    },\r\n    ...options\r\n  })\r\n\r\n  return {\r\n    ...register,\r\n    error: customError || null\r\n  }\r\n}\r\n","import * as Yup from 'yup'\r\n\r\nexport const commerceRegisterValidation = store => {\r\n  const registerValidation = Yup.object({\r\n    name: Yup.string().required('El nombre es requerido'),\r\n    lastName: Yup.string().required('Los apellidos son requeridos'),\r\n    email: Yup.string().email('Ingresa un correo valido').required('El correo es requerido'),\r\n    phone: Yup.string()\r\n      .required('El telefono es requerido')\r\n      .test('longitud', 'El telefono es muy corto', value => !(value && value.replace(/[\\s+]/g, '').length < 10)),\r\n    password: Yup.string()\r\n      .required('La contraseña es requerida')\r\n      .matches(\r\n        '^(?=(?:.*\\\\d))(?=.*[A-Z])(?=.*[a-z])(?=.*[_\\\\-.\\\\@])\\\\S{8,16}$',\r\n        'La contraseña debe contener al menos 8 caracteres, una mayúscula, una minúscula , un número y un caracter especial [ - _ . @]'\r\n      ),\r\n    confirmPassword: Yup.string()\r\n      .oneOf([Yup.ref('password'), null], 'Las contraseñas no coinciden')\r\n      .required('La confirmación de la contraseña es requerida'),\r\n    terms: Yup.bool().oneOf([true], 'Debe aceptar los acuerdos y condiciones')\r\n  })\r\n\r\n  const initRegister = {\r\n    name: '',\r\n    lastName: '',\r\n    phone: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    terms: false\r\n  }\r\n\r\n  return {\r\n    schema: registerValidation,\r\n    initialValues: initRegister\r\n  }\r\n}\r\n"],"names":["NewCommerceAdapter","commerce","name","lastName","phone","email","password","confirmPassword","useRegisterCommerce","options","enqueueSnackbar","useSnackbar","customError","setCustomError","useState","client","useQueryClient","useMutation","createNewCommerce","COMMERCE_KEYS","error","getErrorAPI","commerceRegisterValidation","store","Yup.object","Yup.string","value","Yup.ref","Yup.bool"],"mappings":"+jBAAO,MAAMA,GAAqBC,GAAY,CAC5C,KAAM,CAAE,KAAAC,EAAM,SAAAC,EAAU,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,gBAAAC,CAAe,EAAKN,EAEpE,MAAO,CACL,KAAAC,EACA,SAAUC,EACV,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,gBAAAC,CACD,CACH,ECFaC,GAAsB,CAACC,EAAU,KAAO,CACnD,KAAM,CAAE,gBAAAC,CAAiB,EAAGC,EAAa,EACnC,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,IAAI,EAC7CC,EAASC,EAAgB,EAiB/B,MAAO,CACL,GAhBeC,EAAYC,GAAmB,CAC9C,UAAW,IAAM,CACfL,EAAe,IAAI,EACnBE,EAAO,cAAc,CAACI,GAAc,cAAc,CAAC,EACnDT,EAAgB,sBAAuB,CACrC,QAAS,UACT,iBAAkB,GAC1B,CAAO,CACF,EACD,QAASU,GAAS,CAChBP,EAAeQ,GAAYD,EAAO,+BAA+B,CAAC,CACnE,EACD,GAAGX,CACP,CAAG,EAIC,MAAOG,GAAe,IACvB,CACH,EC/BaU,GAA6BC,IA8BjC,CACL,OA9ByBC,GAAW,CACpC,KAAMC,EAAU,EAAG,SAAS,wBAAwB,EACpD,SAAUA,EAAU,EAAG,SAAS,8BAA8B,EAC9D,MAAOA,EAAU,EAAG,MAAM,0BAA0B,EAAE,SAAS,wBAAwB,EACvF,MAAOA,EAAY,EAChB,SAAS,0BAA0B,EACnC,KAAK,WAAY,2BAA4BC,GAAS,EAAEA,GAASA,EAAM,QAAQ,SAAU,EAAE,EAAE,OAAS,GAAG,EAC5G,SAAUD,EAAY,EACnB,SAAS,4BAA4B,EACrC,QACC,iEACA,+HACD,EACH,gBAAiBA,EAAY,EAC1B,MAAM,CAACE,GAAQ,UAAU,EAAG,IAAI,EAAG,8BAA8B,EACjE,SAAS,+CAA+C,EAC3D,MAAOC,GAAQ,EAAG,MAAM,CAAC,EAAI,EAAG,yCAAyC,CAC7E,CAAG,EAcC,cAZmB,CACnB,KAAM,GACN,SAAU,GACV,MAAO,GACP,MAAO,GACP,SAAU,GACV,gBAAiB,GACjB,MAAO,EACR,CAKA"}