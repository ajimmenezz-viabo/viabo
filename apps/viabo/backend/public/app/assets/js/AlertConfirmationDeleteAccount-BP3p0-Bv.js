import{c as g,f as y,U as x,i as n,cB as C,cC as j,S as h,B as A,aj as S,T as l,dY as b,cE as T,Q as D,K as v}from"./vendor-B39b6gT1.js";import{g as k,b as B}from"./index-Kl2QvVyT.js";import{i as f}from"./matchTypes-E5vQDj-t.js";import{d as E,S as I}from"./SpeiThirdAccountsRepository-De8BnwG8.js";import{u as m}from"./spei-third-accounts-store-CxAZWAjk.js";const w=(d={})=>{const u=g(),s=y(E,d);return{...s,mutate:async(p,i)=>{const{onSuccess:o,onError:a,mutationOptions:c}=i;try{await x.promise(s.mutateAsync(p,c),{pending:"Dando de baja cuenta ...",success:{render({data:t}){return u.invalidateQueries([I.THIRD_ACCOUNTS_LIST]),f(o)&&o(t),"Se dio de baja la cuenta con éxito"}}})}catch(t){const r=k(t,"No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas");f(a)&&a(r),x.error(r,{type:B(t)})}}}},W=()=>{var c;const{setSpeiThirdAccount:d,setOpenDeleteSpeiThirdAccount:u}=m(),s=m(t=>t.openDeleteAccount),e=m(t=>t.account),{mutate:p,isLoading:i}=w(),o=(t,r)=>{r&&r==="backdropClick"||r&&r==="escapeKeyDown"||(d(null),u(!1))},a=()=>{const t={externalAccountId:e==null?void 0:e.id};p(t,{onSuccess:()=>{o()}})};return n.jsxs(C,{open:s,fullWidth:!0,maxWidth:"xs",onClose:o,children:[n.jsx(j,{children:"Baja de Cuenta"}),n.jsx(j,{sx:{textWrap:"pretty",textAlign:"center",typography:"subtitle1"},children:"¿Está seguro de que quiere dar de baja la cuenta de tercero?"}),n.jsx(h,{spacing:3,sx:{p:3,pb:0},children:n.jsxs(A,{component:S,elevation:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"justify-between",spacing:2,flex:1,p:2,sx:{backgroundColor:t=>t.palette.error.lighter,color:t=>t.palette.error.dark},children:[n.jsxs(h,{flex:1,children:[n.jsx(l,{fontWeight:"bold",variant:"subtitle2",children:e==null?void 0:e.name}),n.jsx(l,{variant:"body2",children:(c=e==null?void 0:e.bank)==null?void 0:c.name}),n.jsx(l,{variant:"body2",children:e==null?void 0:e.email}),n.jsx(l,{variant:"body2",children:e==null?void 0:e.phone})]}),n.jsx(h,{children:n.jsx(b,{color:"error",sx:{width:30,height:30}})})]})}),n.jsxs(T,{children:[n.jsx(D,{loading:i,variant:"contained",onClick:a,children:"Confirmar"}),!i&&n.jsx(v,{onClick:o,children:"Cancelar"})]})]})};export{W as default};
//# sourceMappingURL=AlertConfirmationDeleteAccount-BP3p0-Bv.js.map
