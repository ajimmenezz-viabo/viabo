import{g as E,b as F,L as w,_ as I,S as M,R,E as T}from"./index-D5oZe3QV.js";import{r as t,e as f,U,i as o,S as u,T as O}from"./vendor-5lkxkETF.js";import{u as v}from"./useFindSpeiCostCenters-BShEgyw6.js";import{S as C,g as q,a as B,u as d}from"./ViaboSpeiCompanies-ZF33vAZl.js";import{R as K}from"./RightPanel-CslEBAnY.js";import"./matchTypes-mENztEWg.js";import"./useViaboSpeiBreadCrumbs-CuTNH0FV.js";import"./viabo-spei-paths-CscWQyNa.js";import"./TextMaxLine-Cweu1ZMD.js";import"./formik.esm-CTTSENmf.js";import"./formatTime-jCgU2sMR.js";import"./UploadSingleFile-D4e1QNmZ.js";import"./fade-CViozI82.js";import"./transition-anLY3gj9.js";import"./formatNumber-dGNhWwxT.js";import"./MaterialDataTable-D4JD1893.js";import"./ModalAlert-Ju1kumTl.js";import"./useMaterialTable-8QQmzXWd.js";import"./HeaderPage-BXF44eOm.js";const V=(s={})=>{const[a,i]=t.useState(null),r=f({queryKey:[C.USERS_ADMIN_COMPANY_LIST],queryFn:({signal:e})=>q(),refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...s});return t.useEffect(()=>{if(r!=null&&r.isError){const e=E(r.error,"No se puede obtener la lista de usuarios. Intente nuevamente o reporte a sistemas");i(e)}},[r.isError,r.error]),{...r,error:a||null}},Y=(s,a={})=>{const[i,r]=t.useState(null),e=f({queryKey:[C.COMPANY_DETAILS,s],queryFn:()=>B(s),refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...a});return t.useEffect(()=>{if(e!=null&&e.isError){const n=E(e.error,"No se puede obtener la información de la empresa. Intente nuevamente o reporte a sistemas");r(n),U.error(n,{type:F(e.error)})}},[e.isError,e.error]),{...e,error:i||null}},W=w(t.lazy(()=>I(()=>import("./SpeiNewCompanyForm-CIDLImHx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])))),lr=()=>{const{openNewCompany:s,setOpenNewSpeiCompany:a,setSpeiCompany:i}=d(),r=d(A=>A.company),{data:e,isLoading:n,isError:S,error:g,refetch:m}=V({enabled:!1}),{data:y,isLoading:h,isError:x,error:_,refetch:N}=v({enabled:!1}),{data:b,isError:L,error:D,isFetching:P}=Y(r==null?void 0:r.id,{enabled:!!(r!=null&&r.id)});t.useEffect(()=>{s&&(m(),N())},[s]);const l=()=>{a(!1),i(null)},c=S||x||L,p=n||h||P,j=g||_||D;return o.jsx(K,{open:s,handleClose:l,titleElement:o.jsx(u,{children:o.jsx(O,{variant:"h6",children:r?"Editar Empresa":"Nueva Empresa"})}),children:o.jsx(M,{containerProps:{sx:{flexGrow:0,height:"auto"}},children:o.jsxs(u,{spacing:3,p:3,children:[p&&o.jsx(R,{}),c&&!p&&o.jsx(T,{errorMessage:j,titleMessage:"Error al obtener información",handleButton:()=>m()}),!c&&!p&&s&&o.jsx(W,{adminCompanyUsers:e,costCenters:y,company:b,onSuccess:l})]})})})};export{lr as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/SpeiNewCompanyForm-CIDLImHx.js","assets/js/vendor-5lkxkETF.js","assets/js/formik.esm-CTTSENmf.js","assets/js/index.esm-gIIytEq8.js","assets/js/index-D5oZe3QV.js","assets/css/build-Bl0dWaDY.css","assets/js/ViaboSpeiCompanies-ZF33vAZl.js","assets/js/useViaboSpeiBreadCrumbs-CuTNH0FV.js","assets/js/viabo-spei-paths-CscWQyNa.js","assets/js/TextMaxLine-Cweu1ZMD.js","assets/js/formatTime-jCgU2sMR.js","assets/js/matchTypes-mENztEWg.js","assets/js/UploadSingleFile-D4e1QNmZ.js","assets/js/fade-CViozI82.js","assets/js/transition-anLY3gj9.js","assets/js/formatNumber-dGNhWwxT.js","assets/js/MaterialDataTable-D4JD1893.js","assets/js/ModalAlert-Ju1kumTl.js","assets/js/useMaterialTable-8QQmzXWd.js","assets/js/HeaderPage-BXF44eOm.js","assets/js/viabo-card-CcTpX9JZ.js","assets/js/RFSelect-DSsw7uR8.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=SpeiNewCompanyDrawer-CQtlejNf.js.map
