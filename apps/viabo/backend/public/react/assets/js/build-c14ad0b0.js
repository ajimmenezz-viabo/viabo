import{z as ce,j as e,aa as U,r as x,ab as X,D as M,S as p,T as d,m as N,a9 as pe,B as _,I as de,C as xe,p as k,R as ue,a2 as he,H as J,L as fe,as as V,at as ge,a8 as v,d as ee,g as se,Z as H,b as te,au as je,av as ye,aw as z,K as Ce,P as be,a4 as Me}from"./index-a047affd.js";import{a as we}from"./build-bff0b082.js";import{f as w,A as Te}from"./build-7efe98ef.js";import"./build-232a1646.js";import{u as K,M as Se,a as Ie,d as Ee,b as Pe,e as De,f as Fe,L as Re,F as me}from"./build-51479131.js";import{C as W}from"./build-63a958f6.js";import{C as ne}from"./build-4152b7ca.js";import{C as Ae}from"./build-65a6ee31.js";import{R as Oe}from"./build-83845992.js";import"./build-8293f91c.js";import"./build-3ed52cce.js";import"./build-f26afd33.js";import{g as Le,B as Be,a as _e}from"./build-9a7ff251.js";import{C as Y}from"./build-3ee17b63.js";import{D as re}from"./build-49ab0b2d.js";import{g as ie}from"./build-7aab8da4.js";import{f as ke,b as Ge,H as ze}from"./build-bcb90f6b.js";import{g as Ne}from"./build-d97556eb.js";import{M as Ve}from"./build-95579a04.js";import{b as He}from"./build-f4cfa8ef.js";import{M as Q}from"./build-bba5f8ec.js";import{G as q}from"./build-3146bd8f.js";import"./build-ab0df4ed.js";import"./build-bee6630b.js";import"./build-1d1632da.js";import"./build-813029bf.js";import"./build-2ec18099.js";import"./build-2251add0.js";import"./build-790666fb.js";import"./build-1d891237.js";import"./build-fd15e878.js";import"./build-b400356a.js";import"./build-553de6b1.js";import"./build-a524677b.js";import"./build-2535668e.js";import"./build-e016c969.js";import"./build-8f64463c.js";import"./build-c89a286d.js";import"./build-1b5e218d.js";import"./build-a0870c4d.js";import"./build-cb012aef.js";import"./build-6c0e5d69.js";import"./build-83d17a75.js";import"./build-899176f2.js";import"./build-f91b49ee.js";const Z=ce(e.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update"),We=U(x.lazy(()=>X(()=>import("./build-bc7ea7e0.js"),["assets/js/build-bc7ea7e0.js","assets/js/index-a047affd.js","assets/css/build-f63bc8fe.css","assets/js/build-fd15e878.js","assets/js/build-8293f91c.js","assets/js/build-51479131.js","assets/js/build-813029bf.js","assets/js/build-7aab8da4.js","assets/js/build-2ec18099.js","assets/js/build-7efe98ef.js","assets/js/build-bee6630b.js","assets/js/build-1d1632da.js","assets/js/build-bcb90f6b.js","assets/js/build-6c0e5d69.js","assets/js/build-c89a286d.js","assets/js/build-2251add0.js","assets/js/build-790666fb.js","assets/js/build-1d891237.js","assets/js/build-63a958f6.js","assets/js/build-3ed52cce.js","assets/js/build-1b5e218d.js","assets/js/build-f4cfa8ef.js","assets/js/build-f26afd33.js","assets/js/build-95579a04.js","assets/js/build-f91b49ee.js","assets/js/build-3146bd8f.js","assets/js/build-8f64463c.js","assets/js/build-9a7ff251.js","assets/js/build-b400356a.js","assets/js/build-a0870c4d.js","assets/js/build-cb012aef.js","assets/js/build-553de6b1.js","assets/js/build-d97556eb.js","assets/js/build-83d17a75.js","assets/js/build-899176f2.js","assets/js/build-bba5f8ec.js","assets/js/build-4152b7ca.js","assets/js/build-a524677b.js","assets/js/build-bff0b082.js","assets/js/build-ab0df4ed.js","assets/js/build-232a1646.js","assets/js/build-2535668e.js","assets/js/build-e016c969.js","assets/js/build-65a6ee31.js","assets/js/build-e8a4a5bd.js"]))),$e=U(x.lazy(()=>X(()=>import("./build-c1c0732c.js"),["assets/js/build-c1c0732c.js","assets/js/index-a047affd.js","assets/css/build-f63bc8fe.css","assets/js/build-7aab8da4.js","assets/js/build-7efe98ef.js","assets/js/build-bee6630b.js","assets/js/build-1d1632da.js","assets/js/build-813029bf.js","assets/js/build-2ec18099.js","assets/js/build-bcb90f6b.js","assets/js/build-6c0e5d69.js","assets/js/build-c89a286d.js","assets/js/build-2251add0.js","assets/js/build-790666fb.js","assets/js/build-95579a04.js","assets/js/build-f91b49ee.js","assets/js/build-1b5e218d.js","assets/js/build-f4cfa8ef.js","assets/js/build-3146bd8f.js","assets/js/build-8f64463c.js","assets/js/build-3ed52cce.js","assets/js/build-fd15e878.js","assets/js/build-4a60a95f.js"]))),ae=({open:i,setOpen:a,card:n,cardList:o=[]})=>{const[s,r]=x.useState(0),h=x.useMemo(()=>n==null?void 0:n.balance,[n==null?void 0:n.balance]),[f,g]=x.useState(!1),[j,T]=x.useState(null),[E,D]=x.useState(!1),S=x.useMemo(()=>(parseFloat(h)-s).toFixed(2)<0,[s,h]),F=()=>{a(!1),r(0),g(!1),T(null),D(!1)},G=P=>{const R=n==null?void 0:n.id;T({cardOriginId:R,isGlobal:!1,transactions:(P==null?void 0:P.transactions)||[],balance:h,currentBalance:s}),g(!0)},m=()=>{g(!1)},A=e.jsx(e.Fragment,{children:e.jsx(d,{variant:"h6",children:"Fondear Tarjetas"})}),O=e.jsxs(e.Fragment,{children:[e.jsxs(p,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",spacing:0,px:3,pt:2,children:[e.jsx(d,{variant:"subtitle1",children:"Saldo"}),e.jsxs(p,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(d,{variant:"h3",color:"success.main",children:w(h)}),e.jsx(d,{variant:"caption",color:"success.main",children:"MXN"})]}),e.jsxs(p,{direction:"row",spacing:1,alignItems:"center",children:[e.jsxs(d,{variant:"subtitle1",color:"error",children:["- ",w(s)]}),e.jsx(d,{variant:"caption",color:"error",children:"MXN"})]}),S&&e.jsx(d,{variant:"caption",color:"warning.main",textAlign:"center",children:"Saldo insuficiente para realizar la(s) operacion(es)"})]}),e.jsx(We,{cards:o,setCurrentBalance:r,insufficient:S,isBinCard:!1,onSuccess:G})]});return e.jsxs(we,{open:i,handleClose:F,titleElement:A,children:[e.jsx(N.div,{initial:{opacity:1},animate:{opacity:f?0:1},transition:{duration:.5},style:{display:f?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:O}),e.jsx(N.div,{initial:{opacity:0},animate:{opacity:f?1:0},transition:{duration:.5},style:{display:f?"flex":"none",flexDirection:"column",flex:1,overflow:"hidden"},children:e.jsx($e,{data:j,onBack:m,setTransactionLoading:D,transactionLoading:E,onClose:F})})]})};ae.propTypes={card:M.shape({balance:M.any,id:M.any}),cardList:M.array,open:M.any,setOpen:M.func};const qe={card:null,isMaster:!0,movements:[],balanceMovements:"$0.00",income:"$0.00",expenses:"$0.00",filterPaymentProcessor:null},Ke=(i,a)=>({...qe,setGlobalCard:n=>{a(),i(o=>({card:n}),!1,"SET_GLOBAL_CARD")},resetGlobalCard:()=>{i(n=>({card:null}),!1,"RESET_GLOBAL_CARD")},setIsMaster:n=>{i(o=>({isMaster:n}),!1,"SET_IS_MASTER")},setMovements:n=>{i(o=>({movements:(n==null?void 0:n.movements)||[],balanceMovements:(n==null?void 0:n.balanceMovements)||"$0.00",expenses:(n==null?void 0:n.expenses)||"$0.00",income:(n==null?void 0:n.income)||"$0.00"}),!1,"SET_MASTER_MOVEMENTS")},getBalance:()=>{const{balanceMovements:n,income:o,expenses:s}=a();return{balanceMovements:n,income:o,expenses:s}},setFilterPaymentProcessor:n=>{i(o=>({filterPaymentProcessor:n}),!1,"SET_FILTER_PAYMENT_PROCESSOR")}}),b=pe(Ke);function oe({actions:i}){var g;const a=b(j=>j.card),[n,o]=x.useState(!1),[s,r]=x.useState(!1),h=K(j=>j.setOpenFundingOrder),f=K(j=>j.setFundingCard);return e.jsxs(e.Fragment,{children:[e.jsxs(W,{sx:{p:3},children:[e.jsxs(p,{display:"flex",flexDirection:"row",alignItems:"center",children:[e.jsx(d,{variant:"h6",textTransform:"capitalize",children:`Fondear Tarjeta ${(g=a==null?void 0:a.paymentProcessor)==null?void 0:g.toLowerCase()}`}),e.jsx(_,{sx:{flex:"1 1 auto"}})]}),e.jsxs(p,{spacing:2,children:[e.jsxs(p,{flexDirection:"column",justifyContent:"space-between",alignItems:"baseline",gap:1,sx:{display:"flex",flexWrap:"wrap"},children:[e.jsxs(p,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{flexGrow:1,flexWrap:"wrap"},gap:1,children:[e.jsx(d,{variant:"subtitle1",sx:{color:"text.secondary"},children:"SPEI"}),e.jsx(de,{variant:"outlined",color:n?"success":"inherit",onClick:()=>{o(!0),xe(a==null?void 0:a.SPEI),setTimeout(()=>{o(!1)},1e3)},children:n?e.jsx(ne,{sx:{color:"success"}}):e.jsx(Ae,{sx:{color:"text.disabled"}})})]}),e.jsx(d,{variant:"body1",children:a==null?void 0:a.SPEI})]}),e.jsxs(p,{flexDirection:"row",flexWrap:"wrap",gap:3,alignItems:"center",children:[e.jsx(k,{fullWidth:!0,color:"primary",variant:"outlined",startIcon:e.jsx(Se,{}),onClick:()=>r(!0),children:"Compartir"}),e.jsx(k,{fullWidth:!0,color:"primary",variant:"contained",startIcon:e.jsx(Oe,{}),onClick:()=>{h(!0),f(a)},children:"Orden Fondeo"}),i]})]})]}),e.jsx(Ie,{open:s,card:a,onClose:()=>{r(!1)}})]})}oe.propTypes={actions:M.any};function le({data:i,isLoading:a}){var B;const[n,o]=x.useState("1"),s=b(t=>t.card),r=b(t=>t.setGlobalCard),h=b(t=>t.resetGlobalCard),f=b(t=>t.setIsMaster),g=b(t=>t.setFilterPaymentProcessor),j=b(t=>t.getBalance),T=b(t=>t.movements),E=b(t=>t.isMaster),{data:D,isLoading:S,isRefetching:F,refetch:G,isSuccess:m}=Ee(s==null?void 0:s.paymentProcessorId,{enabled:!!(s!=null&&s.paymentProcessorId)}),A=x.useMemo(()=>j(),[T]),[O,P]=x.useState(!1),I=i==null?void 0:i.master,R=i==null?void 0:i.globals,$=t=>()=>{g(t==null?void 0:t.paymentProcessor),f(!1),r(t),o("1")},L=(t,u)=>()=>{g(t==null?void 0:t.paymentProcessor),r(t),o(u),f(!1)};return e.jsx(Te,{children:e.jsxs(p,{spacing:2,flex:1,children:[e.jsx(N.div,{onClick:()=>{f(!0),o("1"),h(),g(null)},whileHover:{scale:1.03},whileTap:{scale:.8},children:e.jsxs(W,{sx:{p:0,cursor:"pointer",border:E?3:0,borderColor:t=>E?t.palette.mode==="dark"?t.palette.secondary.main:t.palette.primary.main:"inherit"},children:[e.jsx(Y,{title:e.jsx(p,{flexDirection:"row",gap:1,alignItems:"center",children:e.jsx(d,{variant:"subtitle2",children:"Global [Master]"})}),sx:{px:2,py:2}}),a?e.jsx(ue,{mb:3}):e.jsxs(p,{alignItems:"center",pb:2,px:2,children:[e.jsxs(p,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(d,{variant:"h3",children:I==null?void 0:I.balanceFormatted}),e.jsx(d,{variant:"caption",children:"MXN"})]}),e.jsxs(p,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Z,{sx:{width:30,height:30,color:"text.secondary"}}),e.jsxs(p,{alignItems:"center",children:[e.jsx(d,{variant:"subtitle2",children:"En transito"}),e.jsxs(p,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(d,{variant:"body1",children:I==null?void 0:I.inTransitFormatted}),e.jsx(d,{variant:"caption",children:"MXN"})]})]})]})]})]})}),e.jsx(_,{children:e.jsx(he,{children:e.jsx(p,{direction:{xs:"column",md:"row"},spacing:2,pb:2,children:R==null?void 0:R.map(t=>{const u=Le(t==null?void 0:t.paymentProcessor),y=u==null?void 0:u.component,l=(s==null?void 0:s.id)===(t==null?void 0:t.id);return e.jsx(p,{flexGrow:1,position:"relative",children:e.jsxs(W,{sx:{minWidth:{xs:300,md:"auto"},border:l?3:0,borderColor:c=>l?c.palette.mode==="dark"?c.palette.secondary.main:c.palette.primary.main:"inherit"},children:[e.jsxs(N.div,{onClick:$(t),whileTap:{scale:.8},style:{cursor:"pointer"},children:[e.jsx(Y,{title:e.jsxs(p,{flexDirection:"row",gap:1,alignItems:"center",justifyContent:"space-between",children:[e.jsx(d,{variant:"caption",children:t==null?void 0:t.paymentProcessor}),u&&e.jsx(y,{sx:{width:30,height:30}})]}),sx:{px:2,py:2}}),e.jsxs(p,{alignItems:"center",pb:2,px:2,children:[e.jsxs(p,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(d,{variant:"h6",children:t==null?void 0:t.balanceFormatted}),e.jsx(d,{variant:"caption",children:"MXN"})]}),e.jsxs(p,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Z,{sx:{width:20,height:20,color:"text.secondary"}}),e.jsxs(p,{alignItems:"center",children:[e.jsx(d,{variant:"subtitle2",children:"En transito"}),e.jsxs(p,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(d,{variant:"body2",children:t==null?void 0:t.inTransitFormatted}),e.jsx(d,{variant:"caption",children:"MXN"})]})]})]})]})]}),e.jsx(J,{sx:{borderStyle:"dashed"}}),e.jsxs(p,{px:2,py:1,flexDirection:"row",justifyContent:"space-between",children:[e.jsx(k,{onClick:L(t,"1"),children:"Balance"}),e.jsx(k,{onClick:L(t,"2"),children:"Fondeo"})]})]})},t==null?void 0:t.cardId)})})})}),n==="1"&&e.jsx(Pe,{card:A,title:s&&!E?`Balance ${(B=s==null?void 0:s.paymentProcessor)==null?void 0:B.toLowerCase()}`:"Balance Master"}),n==="2"&&s&&!E&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{actions:e.jsx(fe,{fullWidth:!0,variant:"contained",color:"secondary",startIcon:e.jsx(De,{}),sx:{color:"black",fontWeight:"bolder"},loading:F,onClick:()=>{P(!0)},children:"Fondear Tarjetas"})}),e.jsx(ae,{setOpen:P,open:O,card:s,cardList:D})]})]})})}le.propTypes={data:M.shape({globals:M.array,master:M.shape({balanceFormatted:M.any,inTransitFormatted:M.any})}),isLoading:M.any};const Ue={"MASTER CARD":"1",MASTERCARD:"1",CARNET:"2"},Xe=i=>{const a=ie(i==null?void 0:i.ciphertext,i==null?void 0:i.iv);let n=0,o=0;const s=a==null?void 0:a.map(r=>{var h;return n+=parseFloat(r==null?void 0:r.balance),o+=parseFloat(r==null?void 0:r.inTransit),{...r,paymentProcessorId:Ue[(h=r==null?void 0:r.paymentProcessor)==null?void 0:h.toUpperCase()]??null,id:r==null?void 0:r.cardId,SPEI:r==null?void 0:r.spei,balanceFormatted:w(r==null?void 0:r.balance),inTransitFormatted:w(r==null?void 0:r.inTransit)}});return{master:{balance:n,inTransit:o,balanceFormatted:w(n),inTransitFormatted:w(o)},globals:s}},Ye=i=>{const a=ie(i==null?void 0:i.ciphertext,i==null?void 0:i.iv);let n=0,o=0;return{movements:(a==null?void 0:a.map(s=>{var g;const r=parseFloat((s==null?void 0:s.amount)||"0");(s==null?void 0:s.type.toLowerCase())==="gasto"&&(n+=r),(s==null?void 0:s.type.toLowerCase())==="ingreso"&&(o+=r);const h=s!=null&&s.date?V(new Date(s==null?void 0:s.date),"dd MMM yyyy",{locale:ge}):"",f=s!=null&&s.date?V(new Date(s==null?void 0:s.date),"p"):"";return{id:s==null?void 0:s.transactionId,fullDate:ke(s==null?void 0:s.date),date:h,time:f,serverDate:s==null?void 0:s.date,description:s==null?void 0:s.description,amount:r,amountFormatted:w(r),paymentProcessor:s==null?void 0:s.cardPaymentProcessor,type:s==null?void 0:s.type.toLowerCase(),operationType:(g=s==null?void 0:s.operationType)==null?void 0:g.toUpperCase(),concept:(s==null?void 0:s.concept)??"",cardId:s==null?void 0:s.cardId,commerceId:s==null?void 0:s.cardCommerceId,original:s,verified:!!(s!=null&&s.checked)}}))??[],income:w(o),expenses:w(n),balanceMovements:w(o-n)}},Qe=async()=>{const{data:i}=await v.get("/api/main-cards/information");return Xe(i)},Ze=async(i,a,n)=>{const o=new URL("/api/master-cards/movements",window.location.origin);o.searchParams.set("startDate",i),o.searchParams.set("endDate",a);const{data:s}=await v.get(o.href);return Ye(s)},Je=(i={})=>{const[a,n]=x.useState(null),o=K(r=>r.setMainCard);return{...ee([re.GLOBAL_CARDS],Qe,{staleTime:6e4,refetchOnWindowFocus:!1,onError:r=>{const h=se(r,"No se puede obtener la informacion de las tarjetas principales");n(h),o(null),H.error(h,{type:te(r)})},onSuccess:r=>{o(r)},...i}),error:a||null}},ve=(i,a,n={})=>{if(!i||!a)return null;const o=V(i,"yyyy-MM-dd"),s=V(a,"yyyy-MM-dd"),[r,h]=x.useState(null),f=b(j=>j.setMovements);return{...ee([re.MOVEMENTS],({signal:j})=>Ze(o,s),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:j=>{const T=se(j,"No se puede obtener la lista de movimientos. Intente nuevamente o reporte a sistemas");h(T),H.error(T,{type:te(j)}),f(null)},...n}),error:r||null}},es=U(x.lazy(()=>X(()=>import("./build-af03238d.js"),["assets/js/build-af03238d.js","assets/js/index-a047affd.js","assets/css/build-f63bc8fe.css","assets/js/build-bff0b082.js","assets/js/build-63a958f6.js","assets/js/build-ab0df4ed.js","assets/js/build-232a1646.js"])));function ss(){var L,B;const i=new Date,a=je(i),n=ye(i),[o,s]=x.useState(a),[r,h]=x.useState(n),f=b(t=>t.filterPaymentProcessor),g=b(t=>t.setMovements),j=b(t=>t.movements),T=x.useRef(null),[E,D]=x.useState(!1),{data:S,isError:F,isLoading:G,isFetching:m,error:A,refetch:O}=ve(o,r);x.useEffect(()=>{o&&r&&O()},[o,r]),x.useEffect(()=>{var t;if(f){let u=0,y=0;const l=(t=S==null?void 0:S.movements)==null?void 0:t.filter(c=>{var C;return((C=c==null?void 0:c.paymentProcessor)==null?void 0:C.toLowerCase())===(f==null?void 0:f.toLowerCase())});l==null||l.forEach(c=>{(c==null?void 0:c.type.toLowerCase())==="gasto"?u+=c==null?void 0:c.amount:y+=c==null?void 0:c.amount}),g({movements:l,income:w(y),expenses:w(u),balanceMovements:w(y-u)})}else g(S)},[f,S]);const P=x.useMemo(()=>[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:t,column:u,row:y})=>{const{original:l}=y;return e.jsx(Fe,{row:l})}},{accessorKey:"serverDate",header:"Fecha",size:120,Cell:({cell:t,column:u,row:y})=>{const{original:l}=y;return e.jsx(p,{children:e.jsx(d,{variant:"subtitle2",children:l==null?void 0:l.fullDate})})}},{accessorKey:"operationType",header:"Tipo",filterVariant:"multi-select",size:100,Cell:({cell:t,column:u,row:y})=>{const{original:l}=y,c=Ne(l==null?void 0:l.operationType),C=c==null?void 0:c.component;return e.jsx(_,{children:c?e.jsx(C,{sx:{width:25,height:25}}):e.jsx(Re,{size:22})})}},{accessorKey:"amountFormatted",header:"Monto",size:100,Cell:({cell:t,column:u,row:y})=>{const{original:l}=y,c=(l==null?void 0:l.type)==="ingreso",C=(l==null?void 0:l.type)==="terminal";return e.jsx(d,{variant:"subtitle2",fontWeight:"bold",color:c||C?"success.main":"error",children:c||C?`+ ${l==null?void 0:l.amountFormatted}`:`- ${l==null?void 0:l.amountFormatted}`})}},{accessorKey:"verified",header:"Comprobación",size:100,Cell:({cell:t,column:u,row:y})=>{const{original:l}=y;return e.jsx(p,{flexDirection:"row",width:1,justifyContent:"center",alignItems:"center",gap:1,mr:2,color:"primary",children:l!=null&&l.verified?e.jsx(Be,{color:"green",fontWeight:"bold",fontSize:"18px"}):e.jsx(_e,{fontSize:"18px",color:"red"})})}}],[]),I=t=>{r!==null&&t>r&&h(t),s(t)},R=t=>{o!==null&&t<o&&s(t),h(t)},$=t=>()=>{var c;const u=((c=t==null?void 0:t.getSelectedRowModel().flatRows)==null?void 0:c.map(C=>C.original))??[],y=u==null?void 0:u.some(C=>C==null?void 0:C.verified),l=u==null?void 0:u.some(C=>(C==null?void 0:C.operationType)!=="OTROS CARGOS");return y?H.warn("Existen movimientos que ya se encuentran comprobados, verifique los movimientos seleccionados."):l?H.warn("Existen movimientos que no se pueden comprobar, verifique el tipo de movimiento."):D(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(W,{children:[e.jsxs(p,{p:2,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[e.jsx(Q,{size:"small",value:o,onChange:I,maxDate:r,slotProps:{textField:{size:"small",required:!0}},disabled:m,format:"dd MMMM yyyy"}),e.jsx(He,{children:"-"}),e.jsx(Q,{size:"small",value:r,onChange:R,minDate:o,slotProps:{textField:{size:"small",required:!0}},disabled:m,format:"dd MMMM yyyy"})]}),e.jsx(J,{sx:{borderStyle:"dashed"}}),e.jsx(Ve,{enablePinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowActions:!0,enableRowSelection:!0,positionActionsColumn:"last",enableDensityToggle:!1,columns:P,data:j||[],isError:F,textError:A,selectAllMode:"all",tableInstanceRef:T,initialState:{density:"compact",sorting:[{id:"serverDate",desc:!0}]},state:{isLoading:G,showAlertBanner:F,showProgressBars:m},displayColumnDefOptions:{"mrt-row-actions":{header:"Acciones",size:80},"mrt-row-select":{size:10}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbarCustomActions:({table:t})=>e.jsx(_,{sx:{display:"flex",gap:"1rem"},children:e.jsx(k,{onClick:$(t),disabled:!t.getIsSomeRowsSelected(),startIcon:e.jsx(ne,{width:24,height:24}),variant:"outlined",children:"Comprobar"})}),renderRowActionMenuItems:({row:t})=>[e.jsx(z,{onClick:()=>console.info("conciliation"),children:"Conciliación"},"conciliation"),e.jsx(z,{onClick:()=>console.info("incidence"),children:"Incidencia"},"incidence"),e.jsx(z,{onClick:()=>console.info("communication"),children:"Comunicación"},"communication"),e.jsx(z,{onClick:()=>console.info("tag"),children:"Tag"},"tag")]})]}),e.jsx(es,{open:E,setOpen:D,movements:((B=(L=T.current)==null?void 0:L.getSelectedRowModel().flatRows)==null?void 0:B.map(t=>t.original))??[]})]})}function Us(){var o,s;const{isCollapse:i}=Ce(),{data:a,isLoading:n}=Je();return e.jsx(be,{title:"Dashboard Master",children:e.jsxs(Ge,{children:[e.jsx(ze,{name:"Dashboard Master",links:[{name:"Inicio",href:Me.root},{name:"Dashboard Master"}]}),e.jsx(_,{pb:4,children:e.jsxs(q,{container:!0,flex:1,spacing:2,children:[e.jsx(q,{item:!0,xs:12,md:((o=a==null?void 0:a.globals)==null?void 0:o.length)>1?i?4:5:i?3:4,xl:i?3:4,children:e.jsx(le,{data:a,isLoading:n})}),e.jsx(q,{item:!0,xs:12,md:((s=a==null?void 0:a.globals)==null?void 0:s.length)>1?i?8:7:i?9:8,xl:i?9:8,children:e.jsx(ss,{})})]})}),e.jsx(me,{})]})})}export{Us as default};
