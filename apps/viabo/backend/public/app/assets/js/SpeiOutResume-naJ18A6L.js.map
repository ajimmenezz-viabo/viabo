{"version":3,"file":"SpeiOutResume-naJ18A6L.js","sources":["../../../../../frontend/src/app/business/viabo-spei/shared/adapters/viabo-spei-out-adapter.js","../../../../../frontend/src/app/business/viabo-spei/shared/hooks/useCreateSpeiOut.js"],"sourcesContent":["import { getCryptInfo } from '@/shared/utils'\r\n\r\nexport const ViaboSpeiOutAdapter = (transactions, concept) => {\r\n  const adaptedData = {\r\n    externalAccounts: transactions?.map(transaction => ({\r\n      id: transaction?.account?.id?.toString(),\r\n      amount: parseFloat(\r\n        transaction?.amount.toString() === '' ? '0' : transaction?.amount?.toString().replace(/,/g, '')\r\n      )\r\n    })),\r\n    concept: concept?.toString() || ''\r\n  }\r\n\r\n  return getCryptInfo(adaptedData)\r\n}\r\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { VIABO_SPEI_SHARED_KEYS } from '../adapters'\r\nimport { createSpeiOut } from '../services'\r\n\r\nimport { getErrorAPI, getNotificationTypeByErrorCode } from '@/shared/interceptors'\r\nimport { isFunction } from '@/shared/utils'\r\n\r\nexport const useCreateSpeiOut = (options = {}) => {\r\n  const client = useQueryClient()\r\n  const transactions = useMutation(createSpeiOut, options)\r\n  const mutate = async (formData, options) => {\r\n    const { onSuccess, onError, mutationOptions } = options\r\n\r\n    try {\r\n      const data = await toast.promise(transactions.mutateAsync(formData, mutationOptions), {\r\n        pending: 'Enviando Transacciones ...'\r\n      })\r\n      client.invalidateQueries([VIABO_SPEI_SHARED_KEYS.BALANCE])\r\n      client.invalidateQueries([VIABO_SPEI_SHARED_KEYS.MOVEMENTS])\r\n      isFunction(onSuccess) && onSuccess(data)\r\n    } catch (error) {\r\n      const errorFormatted = getErrorAPI(\r\n        error,\r\n        `No se puede realizar esta operaci√≥n en este momento. Intente nuevamente o reporte a sistemas`\r\n      )\r\n      isFunction(onError) && onError(errorFormatted)\r\n      toast.error(errorFormatted, {\r\n        type: getNotificationTypeByErrorCode(error)\r\n      })\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...transactions,\r\n    mutate\r\n  }\r\n}\r\n"],"names":["ViaboSpeiOutAdapter","transactions","concept","adaptedData","transaction","_b","_a","_c","getCryptInfo","useCreateSpeiOut","options","client","useQueryClient","useMutation","createSpeiOut","formData","onSuccess","onError","mutationOptions","data","toast","VIABO_SPEI_SHARED_KEYS","isFunction","error","errorFormatted","getErrorAPI","getNotificationTypeByErrorCode"],"mappings":"q1BAEO,MAAMA,EAAsB,CAACC,EAAcC,IAAY,CAC5D,MAAMC,EAAc,CAClB,iBAAkBF,GAAA,YAAAA,EAAc,IAAIG,GAAgB,WAAA,OAClD,IAAIC,GAAAC,EAAAF,GAAA,YAAAA,EAAa,UAAb,YAAAE,EAAsB,KAAtB,YAAAD,EAA0B,WAC9B,OAAQ,YACND,GAAA,YAAAA,EAAa,OAAO,cAAe,GAAK,KAAMG,EAAAH,GAAA,YAAAA,EAAa,SAAb,YAAAG,EAAqB,WAAW,QAAQ,KAAM,GAC7F,CACP,IACI,SAASL,GAAA,YAAAA,EAAS,aAAc,EACjC,EAED,OAAOM,EAAaL,CAAW,CACjC,ECLaM,EAAmB,CAACC,EAAU,KAAO,CAChD,MAAMC,EAASC,EAAgB,EACzBX,EAAeY,EAAYC,EAAeJ,CAAO,EAuBvD,MAAO,CACL,GAAGT,EACH,OAxBa,MAAOc,EAAUL,IAAY,CAC1C,KAAM,CAAE,UAAAM,EAAW,QAAAC,EAAS,gBAAAC,CAAiB,EAAGR,EAEhD,GAAI,CACF,MAAMS,EAAO,MAAMC,EAAM,QAAQnB,EAAa,YAAYc,EAAUG,CAAe,EAAG,CACpF,QAAS,4BACjB,CAAO,EACDP,EAAO,kBAAkB,CAACU,EAAuB,OAAO,CAAC,EACzDV,EAAO,kBAAkB,CAACU,EAAuB,SAAS,CAAC,EAC3DC,EAAWN,CAAS,GAAKA,EAAUG,CAAI,CACxC,OAAQI,EAAO,CACd,MAAMC,EAAiBC,EACrBF,EACA,8FACD,EACDD,EAAWL,CAAO,GAAKA,EAAQO,CAAc,EAC7CJ,EAAM,MAAMI,EAAgB,CAC1B,KAAME,EAA+BH,CAAK,CAClD,CAAO,CACF,CACF,CAKA,CACH"}