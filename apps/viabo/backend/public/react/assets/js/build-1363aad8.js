import{a as u,u as y,b as v,g as N,P as n,c as j,_ as m,r as x,j as o,B as _,S as A,d as L,C as M,Z as I,e as D,f as w,h as z,i as G}from"./index-1fae866e.js";import{s as V}from"./build-9563ddbe.js";import{P as s}from"./build-61d5e77c.js";import{G as b}from"./build-01835394.js";const B={TOKEN_COMMERCE:"tokenCommerce",VALIDATION_CODE:"validationCode",COMMERCE_PROCESS:"commerceProcess"},U=e=>{const{id:a,fiscalPersonType:t,taxName:r,tradeName:l,rfc:d,employees:E,branchOffices:R,paymentAPI:S,registerStep:g,legalRepresentative:f,services:p,pointSaleTerminal:P,documents:c}=e,i=p==null?void 0:p.find(k=>k.type==="2"),h=(i==null?void 0:i.cardNumbers)||0,T=(i==null?void 0:i.cardUse)||"",O=(i==null?void 0:i.personalized)==="1"||!1;return{id:a,idUser:f,services:p,fiscalTypePerson:t,fiscalName:r,rfc:d,commercialName:l,employeesNumber:Number(E),branchesNumber:Number(R),tpvsNumber:Number(P),apiRequired:S==="1",cardsNumber:Number(h),cardsUse:T,customCardsRequired:O,files:c,step:Number(g)}},ae=async e=>{const{data:a}=await u.post("/api/security/legalRepresentative/new",e);return a},re=async e=>{const{data:a}=await u.get("/api/legal-representative/verificate",{headers:{Username:`${e}`}});return a},F=async()=>{const{data:e}=await u.get("/api/commerce/legal-representative");return U(e)},ne=async e=>{const{data:a}=await u.put("/api/commerce/update",e);return a},ce=async e=>{const{data:a}=await u.post("/api/commerce/documents/create",e);return a},ie=async e=>{const{data:a}=await u.post("/api/commerce/documents/delete",e);return a},H=(e={})=>{const{enqueueSnackbar:a}=y();return v([B.COMMERCE_PROCESS],F,{staleTime:60*5e3,onError:t=>{const r=N(t,"ðŸ˜Ÿ Error al obtener el proceso del comercio");a(r,{variant:"error",autoHideDuration:5e3})},...e})},le={actualProcess:n.string,token:n.string,resume:n.object,lastProcess:n.shape({name:n.any,info:n.any}),getComponent:n.func,getBackProcess:n.func,setLastProcess:n.func,setActualProcess:n.func,setToken:n.func,setResume:n.func},q={actualProcess:s.REGISTER,token:null,resume:null,lastProcess:{name:null,info:null},processList:[{name:s.REGISTER,component:()=>m(()=>import("./build-afa52598.js"),["assets/js/build-afa52598.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-3f69b945.js","assets/js/build-5d9c466c.js","assets/js/build-558517b6.js","assets/js/build-12ed1635.js","assets/js/build-61d5e77c.js","assets/js/build-d5dea808.js","assets/js/build-e5d3c615.js","assets/js/build-ce7f86ad.js","assets/js/build-b8298ca8.js","assets/js/build-08476edb.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.REGISTER},{name:s.CONTINUE_PROCESS,component:()=>m(()=>import("./build-e28b3f10.js"),["assets/js/build-e28b3f10.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-3f69b945.js","assets/js/build-d5dea808.js","assets/js/build-61d5e77c.js","assets/js/build-1cf9ab58.js","assets/js/build-f6053c84.js","assets/js/build-558517b6.js","assets/js/build-12ed1635.js","assets/js/build-ce7f86ad.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.REGISTER},{name:s.VALIDATION_CODE,component:()=>m(()=>import("./build-34678b42.js"),["assets/js/build-34678b42.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-e694d01f.js","assets/js/build-558517b6.js","assets/js/build-61d5e77c.js","assets/js/build-1cf9ab58.js","assets/js/build-9cc26b05.js","assets/js/build-f6053c84.js","assets/js/build-ecaf0d13.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.REGISTER},{name:s.SERVICES_SELECTION,component:()=>m(()=>import("./build-f67381b3.js"),["assets/js/build-f67381b3.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-e74a24a5.js","assets/js/build-61d5e77c.js","assets/js/build-83d17a75.js","assets/js/build-899176f2.js","assets/js/build-e5d3c615.js","assets/js/build-99e7ed69.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.REGISTER},{name:s.COMMERCE_INFO,component:()=>m(()=>import("./build-57732493.js"),["assets/js/build-57732493.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-3f69b945.js","assets/js/build-e74a24a5.js","assets/js/build-61d5e77c.js","assets/js/build-d5dea808.js","assets/js/build-558517b6.js","assets/js/build-08476edb.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.SERVICES_SELECTION},{name:s.COMMERCE_DOCUMENTATION,component:()=>m(()=>import("./build-435fd059.js"),["assets/js/build-435fd059.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-3f69b945.js","assets/js/build-e74a24a5.js","assets/js/build-840ad3d0.js","assets/js/build-bee6630b.js","assets/js/build-61d5e77c.js","assets/js/build-46f66bd7.js","assets/js/build-01835394.js","assets/js/build-99e7ed69.js","assets/js/build-9563ddbe.js"]),backProcess:s.COMMERCE_INFO},{name:s.FINISHED_PROCESS,component:()=>m(()=>import("./build-d1a6c1f7.js"),["assets/js/build-d1a6c1f7.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-61d5e77c.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]),backProcess:s.COMMERCE_DOCUMENTATION}]},$=(e,a)=>({...q,getComponent:()=>{const{processList:t,actualProcess:r}=a(),l=()=>m(()=>import("./build-34678b42.js"),["assets/js/build-34678b42.js","assets/js/index-1fae866e.js","assets/css/build-f63bc8fe.css","assets/js/build-e694d01f.js","assets/js/build-558517b6.js","assets/js/build-61d5e77c.js","assets/js/build-1cf9ab58.js","assets/js/build-9cc26b05.js","assets/js/build-f6053c84.js","assets/js/build-ecaf0d13.js","assets/js/build-9563ddbe.js","assets/js/build-01835394.js"]);return t.find(d=>d.name===r).component??l},getBackProcess:()=>{const{processList:t,actualProcess:r}=a();return t.find(l=>l.name===r).backProcess??s.REGISTER},setLastProcess:t=>{e(r=>({lastProcess:{name:(t==null?void 0:t.name)||null,info:(t==null?void 0:t.info)||null}}))},setActualProcess:t=>{e(r=>({actualProcess:t})),t===s.REGISTER&&(localStorage.removeItem("token"),delete u.defaults.headers.common.Authorization)},setToken:t=>{e(r=>({token:t})),localStorage.setItem("token",t),u.defaults.headers.common.Authorization=`Bearer ${t}`},setResume:t=>{e(r=>({resume:t}))}}),C=j($),K=()=>{const e=C(c=>c.getComponent),a=C(c=>c.getBackProcess),t=C(c=>c,V),{actualProcess:r,setToken:l,setActualProcess:d,setResume:E,token:R,resume:S}=t,{data:g,isSuccess:f}=H({enabled:!!R});x.useEffect(()=>{E(g&&f?g:null)},[g,f]),x.useEffect(()=>{r===s.REGISTER&&(l(null),E(null))},[r,l]);const p=()=>{const c=a();d(c)},P=x.useMemo(()=>x.lazy(e()),[r]);return o.jsx(_,{sx:{height:{xs:"100%",sm:"100%",md:"100%",lg:"100vh",xl:"calc(100vh - 100px)"},minHeight:{xs:"100vH",sm:"100vh",md:"100vh",lg:"100vh",xl:"600px"},display:"flex",flexDirection:"column",overflow:"auto",zIndex:1},className:"animate__animated animate__fadeIn",children:o.jsxs(x.Suspense,{fallback:o.jsx(W,{}),children:[r!==s.REGISTER&&o.jsx(A,{m:5,mb:0,direction:"row",children:o.jsx(L,{onClick:p,children:"< Regresar"})}),o.jsx(_,{m:5,height:1,children:o.jsx(P,{store:t})})]})})},W=()=>o.jsx(_,{sx:{position:"relative",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(1px)",zIndex:e=>e.zIndex.modal-1},children:o.jsx(M,{})}),Q="/react/assets/img/integracion-tecnologica.png",Y=I("div")(({theme:e})=>({top:0,left:0,right:0,bottom:0,zIndex:8,position:"absolute",backgroundColor:D(e.palette.grey[900],.1)})),Z=I("div")(({theme:e})=>({display:"flex",maxWidth:e.breakpoints.values.lg,[e.breakpoints.down("xl")]:{maxWidth:"100%"},margin:"0 auto",height:"100%",overflow:"auto",zIndex:"100000",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.paper,borderRadius:"0px",[e.breakpoints.up("xl")]:{borderRadius:"16px",boxShadow:"0 0 60px 10px rgb(85 44 44 / 20%)"}})),J=I("div")(({theme:e})=>({padding:"0px",height:"100%",[e.breakpoints.up("sm")]:{padding:"0px"},[e.breakpoints.up("md")]:{padding:"0px"},[e.breakpoints.up("lg")]:{padding:"0px"},[e.breakpoints.up("xl")]:{padding:"100px"}}));function X(){return o.jsx(w,{title:"Registro Comercio",children:o.jsx(J,{className:"animate__animated animated__fadeIn",children:o.jsx(Z,{children:o.jsxs(b,{container:!0,spacing:0,component:"main",justifyContent:"center",children:[o.jsx(b,{item:!0,elevation:0,xs:!1,sm:!1,md:6,children:o.jsxs(_,{sx:{position:"relative",display:"flex",height:1,backgroundColor:"#161C24"},children:[o.jsx(Y,{}),o.jsx(_,{component:z.LazyLoadImage,wrapperClassName:"wrapper",effect:"blur",placeholderSrc:"https://zone-assets-api.vercel.app/assets/img_placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},src:Q})]})}),o.jsx(b,{item:!0,xs:12,sm:12,md:6,alignItems:"center",justify:"center",component:G,elevation:10,sx:{overflow:"auto",borderRadius:{md:0,xl:"0px 16px 16px 0px"}},children:o.jsx(K,{})})]})})})})}const me=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{B as C,ne as a,me as b,ae as c,ie as d,re as g,le as p,ce as u};
