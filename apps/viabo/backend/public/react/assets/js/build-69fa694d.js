import{r as E,j as e,S as l,B as n,T as i,ai as R,C as _,a2 as A,c as I,a as m}from"./build-27e237f5.js";import{m as V}from"./build-091f1fac.js";import{u as k,Z as B}from"./build-b77e3a7f.js";import{m as T}from"./build-ecaf0d13.js";import{u as t,C as u}from"./build-ab3853aa.js";import{u as b}from"./build-0df00ef1.js";import"./build-7079f4d4.js";import"./build-91fdb816.js";import"./build-65e7778d.js";import"./build-e06ad1b7.js";function M(){const s=t(r=>r.setStepAssignRegister),a=t(r=>r.user),o=t(r=>r.token),[x,c]=E.useState(""),{mutate:p,isLoading:h}=b(),{mutate:g,isLoading:C,isError:d,reset:j}=k(),f=r=>{c(r),j()},S=(r,D)=>T(r),v=r=>{m.defaults.headers.common.Authorization=`Bearer ${o}`,g({verificationCode:r,token:o},{onSuccess:()=>{s(u.CARD_REGISTER)},onError:()=>{c("")}})},y=()=>{m.defaults.headers.common.Authorization=`Bearer ${o}`,p()};return e.jsxs(l,{children:[e.jsx(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",my:4},children:e.jsx("img",{className:"animate__animated animate__pulse",src:V,width:"25%",alt:"Sent Mail"})}),e.jsx(i,{variant:"h4",color:"textPrimary",align:"center",children:"Verificación de Cuenta"}),e.jsxs(i,{paragraph:!0,sx:{mb:4,mt:2},align:"center",variant:"body2",color:"text.secondary",whiteSpace:"pre-line",children:["Enviamos un correo electrónico a ",(a==null?void 0:a.email)||"-"," con el código de verificacion de tu cuenta, ingrese el código en el cuadro a continuación para verificar su cuenta."]}),e.jsx(B,{length:6,value:x,onComplete:v,onChange:f,validateChar:S,sx:{gap:{xs:1.5,sm:2,md:3}},TextFieldsProps:{placeholder:"-",error:d,disabled:C}}),!!d&&e.jsx(n,{mt:1,children:e.jsx(i,{variant:"caption",color:"error",children:"Código incorrecto"})}),e.jsx(n,{children:e.jsx(R,{sx:{my:4},children:e.jsx(l,{direction:"row",spacing:1,justifyContent:"center",children:h?e.jsx(_,{wid:!0,sx:{mx:3}}):e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"body2",children:"¿No tengo un código?"}),e.jsx(A,{underline:"hover",sx:{cursor:"pointer"},onClick:y,children:e.jsx(i,{variant:"body2",color:"primary",children:"Reenviar código"})})]})})})}),e.jsx(I,{variant:"outlined",color:"inherit",onClick:()=>{s(u.USER_REGISTER)},children:"Cancelar"})]})}export{M as default};
