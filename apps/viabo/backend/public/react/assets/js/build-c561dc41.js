import{u as q,m as z,g as G,W as L,aJ as I,j as M,B as Q}from"./build-6c5dae0f.js";import{v as U}from"./build-f5f4c704.js";import{T as W}from"./build-769ad25e.js";const ut=(r={})=>{const{enqueueSnackbar:o}=q();return z({mutationFn:U,onError:s=>{const n=G(s,"No se puede validar el cÃ³digo");o(n,{variant:(s==null?void 0:s.status)===500?"error":"warning",autoHideDuration:5e3})},...r})},X=L(W)`
  input {
    text-align: center;
  }
`,Y={TextFieldStyled:X},Z=r=>M.jsx(Y.TextFieldStyled,{...r}),A={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace"};function _(r,o){return r<=0?[]:Array.from({length:r},o)}function tt(r,o,s){return r.map((n,p)=>o===p?s:n)}function j(r){return r.join("")}function w(r,o){return[...r,o]}function et(r,o,s){return r.reduce((n,p,i)=>{const{characters:f,restArrayMerged:u}=n;if(i<s)return{restArrayMerged:u,characters:w(f,p)};const[g,...h]=u;return{restArrayMerged:h,characters:w(f,g||"")}},{restArrayMerged:o,characters:[]}).characters}function at(r){return r.split("")}const rt=I.forwardRef((r,o)=>{const{value:s,length:n,autoFocus:p,onChange:i,TextFieldsProps:f,onComplete:u,validateChar:g,className:h,...P}=r,{onPaste:m,onFocus:x,onKeyDown:v,className:b,...N}=f||{},l=_(n,(t,a)=>({character:s[a]||"",inputRef:I.createRef()})),y=t=>l.findIndex(({inputRef:a})=>a.current===t),R=()=>l.map(({character:t})=>t),B=(t,a)=>{const e=tt(R(),t,a);return j(e)},F=t=>{var a,e;(e=(a=l[t])==null?void 0:a.inputRef.current)==null||e.focus()},d=t=>{var a,e;(e=(a=l[t])==null?void 0:a.inputRef.current)==null||e.select()},D=t=>{t+1!==n&&(l[t+1].character?d(t+1):F(t+1))},E=t=>{t>0&&d(t-1)},O=t=>{const a=t.target.value[0]||"",e=y(t.target);if(typeof g=="function"&&!g(a,e))return;const c=B(e,a);i==null||i(c),c.length===n&&(u==null||u(c)),a!==""?c.length<n?D(c.length-1):D(e):c[e]?d(e):E(e)},$=t=>{t.preventDefault(),t.target.select(),x==null||x(t)},K=t=>{const a=t.target,e=y(a);a.value===t.key?(t.preventDefault(),D(e)):!a.value&&A.backspace===t.key||A.left===t.key?(t.preventDefault(),d(e-1)):A.right===t.key&&(t.preventDefault(),d(e+1)),v==null||v(t)},S=t=>{t.preventDefault();const a=t.target,e=t.clipboardData.getData("text/plain"),c=y(a),H=R(),T=et(H,at(e),c),k=T.findIndex((J,V)=>V>c&&J===""),C=j(T);if(i==null||i(C),C.length===n){u==null||u(C),F(n-1);return}k!==-1&&F(k),m==null||m(t)};return M.jsx(Q,{display:"flex",gap:"20px",alignItems:"center",ref:o,className:`MuiOtpInput-Box ${h||""}`,...P,children:l.map(({character:t,inputRef:a},e)=>M.jsx(Z,{autoFocus:p?e===0:!1,autoComplete:"one-time-code",value:t,inputRef:a,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${e+1} ${b||""}`,onPaste:S,onFocus:$,onChange:O,onKeyDown:K,...N},e))})});rt.defaultProps={value:"",length:4,autoFocus:!1,validateChar:()=>!0,onChange:()=>{},onComplete:()=>{},TextFieldsProps:{}};export{rt as Z,ut as u};
