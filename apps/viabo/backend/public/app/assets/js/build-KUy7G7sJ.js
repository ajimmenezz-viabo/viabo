import{ao as He,ap as $e,q as V,aq as gt,ar as yt,as as I,r as u,at as Ve,au as Ee,av as q,j as s,aw as Ye,ax as Ut,ay as St,az as Ct,n as jt,aA as je,aB as Le,aC as qt,z as he,B as F,a2 as Ge,a3 as Tt,T as O,S as j,G as de,J as at,al as re,d as wt,g as Mt,am as Et,aD as Qt,aE as Jt,Q as Bt,b as Zt,O as L,K as Te,aF as es,a8 as It,L as lt,V as Re,N as ze,aG as vt,E as _e,a0 as ts,p as we,aH as ss,m as ue,_ as Ke,aI as os,a1 as ns,$ as rs,aa as as,a5 as ls,ab as is,ac as cs,aJ as ds,ad as it,D as us,C as hs,P as ps,ae as xs,aK as fs,aL as bs}from"./index-EBrH4AFB.js";import{B as gs,a as ys}from"./build-1U06qWaw.js";import{g as Ss,a as Cs}from"./build-OLvjL4ru.js";import{A as js}from"./build-7f0sYOci.js";import{C as Ts}from"./build-qsUZz7Qs.js";import{C as ws}from"./build-1-wK37TH.js";import{F as Ms,g as Es}from"./build-6J8l4Ccm.js";import{f as Fe,L as Bs}from"./build-rECqXkdZ.js";import{K as Is,b as vs,n as ye,m as ke,M as ms,c as Ls,S as Ps,d as Os,a as As,F as Rs,C as zs,H as _s}from"./build-u_9qcimv.js";import{C as Fs}from"./build-xkgo0pxg.js";import{F as ks,S as Ne,O as Ns,a as Ds}from"./build-UC2Jv_Rj.js";import{C as Ws}from"./build-H7IOl2jl.js";import{L as Hs,I as $s}from"./build-qVohwCJK.js";import{A as Me}from"./build-ulQ1JAvE.js";import{A as Vs}from"./build-Z4d0xSs6.js";import{v as X,a as U}from"./build-Uc7vb3zK.js";import{C as De}from"./build-hSMttXos.js";import{L as Ys,S as Gs,a as Ks,b as Xs,c as Pe,d as ct}from"./build-DWRgr0l7.js";import{I as Us}from"./build-qEQsGcT6.js";import{S as qs}from"./build-1OCNzFUt.js";import{C as Qs}from"./build-g4jGEIUg.js";let oe;function mt(){if(oe)return oe;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),oe="reverse",e.scrollLeft>0?oe="default":(e.scrollLeft=1,e.scrollLeft===0&&(oe="negative")),document.body.removeChild(e),oe}function Js(e,t){const o=e.scrollLeft;if(t!=="rtl")return o;switch(mt()){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}}function Zs(e){return $e("MuiTab",e)}const eo=He("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),se=eo,to=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],so=e=>{const{classes:t,textColor:o,fullWidth:r,wrapped:n,icon:l,label:i,selected:c,disabled:p}=e,b={root:["root",l&&i&&"labelIcon",`textColor${yt(o)}`,r&&"fullWidth",n&&"wrapped",c&&"selected",p&&"disabled"],iconWrapper:["iconWrapper"]};return Ye(b,Zs,t)},oo=V(gt,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${yt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>I({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${se.iconWrapper}`]:I({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${se.selected}`]:{opacity:1},[`&.${se.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${se.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${se.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${se.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${se.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),no=u.forwardRef(function(t,o){const r=Ve({props:t,name:"MuiTab"}),{className:n,disabled:l=!1,disableFocusRipple:i=!1,fullWidth:c,icon:p,iconPosition:b="top",indicator:a,label:T,onChange:M,onClick:y,onFocus:w,selected:f,selectionFollowsFocus:x,textColor:E="inherit",value:v,wrapped:Q=!1}=r,k=Ee(r,to),_=I({},r,{disabled:l,disableFocusRipple:i,selected:f,icon:!!p,iconPosition:b,label:!!T,fullWidth:c,textColor:E,wrapped:Q}),Y=so(_),H=p&&T&&u.isValidElement(p)?u.cloneElement(p,{className:q(Y.iconWrapper,p.props.className)}):p,g=B=>{!f&&M&&M(B,v),y&&y(B)},P=B=>{x&&!f&&M&&M(B,v),w&&w(B)};return s.jsxs(oo,I({focusRipple:!i,className:q(Y.root,n),ref:o,role:"tab","aria-selected":f,disabled:l,onClick:g,onFocus:P,ownerState:_,tabIndex:f?0:-1},k,{children:[b==="top"||b==="start"?s.jsxs(u.Fragment,{children:[H,T]}):s.jsxs(u.Fragment,{children:[T,H]}),a]}))}),ro=no;function ao(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function lo(e,t,o,r={},n=()=>{}){const{ease:l=ao,duration:i=300}=r;let c=null;const p=t[e];let b=!1;const a=()=>{b=!0},T=M=>{if(b){n(new Error("Animation cancelled"));return}c===null&&(c=M);const y=Math.min(1,(M-c)/i);if(t[e]=l(y)*(o-p)+p,y>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(T)};return p===o?(n(new Error("Element already at target position")),a):(requestAnimationFrame(T),a)}const io=["onChange"],co={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function uo(e){const{onChange:t}=e,o=Ee(e,io),r=u.useRef(),n=u.useRef(null),l=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return Ut(()=>{const i=St(()=>{const p=r.current;l(),p!==r.current&&t(r.current)}),c=Ct(n.current);return c.addEventListener("resize",i),()=>{i.clear(),c.removeEventListener("resize",i)}},[t]),u.useEffect(()=>{l(),t(r.current)},[t]),s.jsx("div",I({style:co,ref:n},o))}function ho(e){return $e("MuiTabScrollButton",e)}const po=He("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),xo=po,fo=["className","slots","slotProps","direction","orientation","disabled"],bo=e=>{const{classes:t,orientation:o,disabled:r}=e;return Ye({root:["root",o,r&&"disabled"]},ho,t)},go=V(gt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})(({ownerState:e})=>I({width:40,flexShrink:0,opacity:.8,[`&.${xo.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),yo=u.forwardRef(function(t,o){var r,n;const l=Ve({props:t,name:"MuiTabScrollButton"}),{className:i,slots:c={},slotProps:p={},direction:b}=l,a=Ee(l,fo),M=jt().direction==="rtl",y=I({isRtl:M},l),w=bo(y),f=(r=c.StartScrollButtonIcon)!=null?r:Is,x=(n=c.EndScrollButtonIcon)!=null?n:vs,E=je({elementType:f,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),v=je({elementType:x,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return s.jsx(go,I({component:"div",className:q(w.root,i),ref:o,role:null,ownerState:y,tabIndex:null},a,{children:b==="left"?s.jsx(f,I({},E)):s.jsx(x,I({},v))}))}),So=yo;function Co(e){return $e("MuiTabs",e)}const jo=He("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Oe=jo,To=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],dt=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,ut=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Se=(e,t,o)=>{let r=!1,n=o(e,t);for(;n;){if(n===e.firstChild){if(r)return;r=!0}const l=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||l)n=o(e,n);else{n.focus();return}}},wo=e=>{const{vertical:t,fixed:o,hideScrollbar:r,scrollableX:n,scrollableY:l,centered:i,scrollButtonsHideMobile:c,classes:p}=e;return Ye({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",r&&"hideScrollbar",n&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Co,p)},Mo=V("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${Oe.scrollButtons}`]:t.scrollButtons},{[`& .${Oe.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>I({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Oe.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Eo=V("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})(({ownerState:e})=>I({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Bo=V("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})(({ownerState:e})=>I({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Io=V("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>I({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),vo=V(uo)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ht={},mo=u.forwardRef(function(t,o){const r=Ve({props:t,name:"MuiTabs"}),n=jt(),l=n.direction==="rtl",{"aria-label":i,"aria-labelledby":c,action:p,centered:b=!1,children:a,className:T,component:M="div",allowScrollButtonsMobile:y=!1,indicatorColor:w="primary",onChange:f,orientation:x="horizontal",ScrollButtonComponent:E=So,scrollButtons:v="auto",selectionFollowsFocus:Q,slots:k={},slotProps:_={},TabIndicatorProps:Y={},TabScrollButtonProps:H={},textColor:g="primary",value:P,variant:B="standard",visibleScrollbar:J=!1}=r,pe=Ee(r,To),z=B==="scrollable",N=x==="vertical",ae=N?"scrollTop":"scrollLeft",xe=N?"top":"left",fe=N?"bottom":"right",Be=N?"clientHeight":"clientWidth",le=N?"height":"width",Z=I({},r,{component:M,allowScrollButtonsMobile:y,indicatorColor:w,orientation:x,vertical:N,scrollButtons:v,textColor:g,variant:B,visibleScrollbar:J,fixed:!z,hideScrollbar:z&&!J,scrollableX:z&&!N,scrollableY:z&&N,centered:b&&!z,scrollButtonsHideMobile:!y}),G=wo(Z),_t=je({elementType:k.StartScrollButtonIcon,externalSlotProps:_.startScrollButtonIcon,ownerState:Z}),Ft=je({elementType:k.EndScrollButtonIcon,externalSlotProps:_.endScrollButtonIcon,ownerState:Z}),[Xe,kt]=u.useState(!1),[ee,Ue]=u.useState(ht),[qe,Nt]=u.useState(!1),[Qe,Dt]=u.useState(!1),[Je,Wt]=u.useState(!1),[Ze,Ht]=u.useState({overflow:"hidden",scrollbarWidth:0}),et=new Map,$=u.useRef(null),te=u.useRef(null),tt=()=>{const d=$.current;let h;if(d){const S=d.getBoundingClientRect();h={clientWidth:d.clientWidth,scrollLeft:d.scrollLeft,scrollTop:d.scrollTop,scrollLeftNormalized:Js(d,n.direction),scrollWidth:d.scrollWidth,top:S.top,bottom:S.bottom,left:S.left,right:S.right}}let C;if(d&&P!==!1){const S=te.current.children;if(S.length>0){const m=S[et.get(P)];C=m?m.getBoundingClientRect():null}}return{tabsMeta:h,tabMeta:C}},ie=Le(()=>{const{tabsMeta:d,tabMeta:h}=tt();let C=0,S;if(N)S="top",h&&d&&(C=h.top-d.top+d.scrollTop);else if(S=l?"right":"left",h&&d){const R=l?d.scrollLeftNormalized+d.clientWidth-d.scrollWidth:d.scrollLeft;C=(l?-1:1)*(h[S]-d[S]+R)}const m={[S]:C,[le]:h?h[le]:0};if(isNaN(ee[S])||isNaN(ee[le]))Ue(m);else{const R=Math.abs(ee[S]-m[S]),D=Math.abs(ee[le]-m[le]);(R>=1||D>=1)&&Ue(m)}}),Ie=(d,{animation:h=!0}={})=>{h?lo(ae,$.current,d,{duration:n.transitions.duration.standard}):$.current[ae]=d},st=d=>{let h=$.current[ae];N?h+=d:(h+=d*(l?-1:1),h*=l&&mt()==="reverse"?-1:1),Ie(h)},ot=()=>{const d=$.current[Be];let h=0;const C=Array.from(te.current.children);for(let S=0;S<C.length;S+=1){const m=C[S];if(h+m[Be]>d){S===0&&(h=d);break}h+=m[Be]}return h},$t=()=>{st(-1*ot())},Vt=()=>{st(ot())},Yt=u.useCallback(d=>{Ht({overflow:null,scrollbarWidth:d})},[]),Gt=()=>{const d={};d.scrollbarSizeListener=z?s.jsx(vo,{onChange:Yt,className:q(G.scrollableX,G.hideScrollbar)}):null;const C=z&&(v==="auto"&&(qe||Qe)||v===!0);return d.scrollButtonStart=C?s.jsx(E,I({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:_t},orientation:x,direction:l?"right":"left",onClick:$t,disabled:!qe},H,{className:q(G.scrollButtons,H.className)})):null,d.scrollButtonEnd=C?s.jsx(E,I({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ft},orientation:x,direction:l?"left":"right",onClick:Vt,disabled:!Qe},H,{className:q(G.scrollButtons,H.className)})):null,d},nt=Le(d=>{const{tabsMeta:h,tabMeta:C}=tt();if(!(!C||!h)){if(C[xe]<h[xe]){const S=h[ae]+(C[xe]-h[xe]);Ie(S,{animation:d})}else if(C[fe]>h[fe]){const S=h[ae]+(C[fe]-h[fe]);Ie(S,{animation:d})}}}),be=Le(()=>{z&&v!==!1&&Wt(!Je)});u.useEffect(()=>{const d=St(()=>{$.current&&ie()});let h;const C=R=>{R.forEach(D=>{D.removedNodes.forEach(ce=>{var K;(K=h)==null||K.unobserve(ce)}),D.addedNodes.forEach(ce=>{var K;(K=h)==null||K.observe(ce)})}),d(),be()},S=Ct($.current);S.addEventListener("resize",d);let m;return typeof ResizeObserver<"u"&&(h=new ResizeObserver(d),Array.from(te.current.children).forEach(R=>{h.observe(R)})),typeof MutationObserver<"u"&&(m=new MutationObserver(C),m.observe(te.current,{childList:!0})),()=>{var R,D;d.clear(),S.removeEventListener("resize",d),(R=m)==null||R.disconnect(),(D=h)==null||D.disconnect()}},[ie,be]),u.useEffect(()=>{const d=Array.from(te.current.children),h=d.length;if(typeof IntersectionObserver<"u"&&h>0&&z&&v!==!1){const C=d[0],S=d[h-1],m={root:$.current,threshold:.99},R=me=>{Nt(!me[0].isIntersecting)},D=new IntersectionObserver(R,m);D.observe(C);const ce=me=>{Dt(!me[0].isIntersecting)},K=new IntersectionObserver(ce,m);return K.observe(S),()=>{D.disconnect(),K.disconnect()}}},[z,v,Je,a==null?void 0:a.length]),u.useEffect(()=>{kt(!0)},[]),u.useEffect(()=>{ie()}),u.useEffect(()=>{nt(ht!==ee)},[nt,ee]),u.useImperativeHandle(p,()=>({updateIndicator:ie,updateScrollButtons:be}),[ie,be]);const rt=s.jsx(Io,I({},Y,{className:q(G.indicator,Y.className),ownerState:Z,style:I({},ee,Y.style)}));let ge=0;const Kt=u.Children.map(a,d=>{if(!u.isValidElement(d))return null;const h=d.props.value===void 0?ge:d.props.value;et.set(h,ge);const C=h===P;return ge+=1,u.cloneElement(d,I({fullWidth:B==="fullWidth",indicator:C&&!Xe&&rt,selected:C,selectionFollowsFocus:Q,onChange:f,textColor:g,value:h},ge===1&&P===!1&&!d.props.tabIndex?{tabIndex:0}:{}))}),Xt=d=>{const h=te.current,C=qt(h).activeElement;if(C.getAttribute("role")!=="tab")return;let m=x==="horizontal"?"ArrowLeft":"ArrowUp",R=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&l&&(m="ArrowRight",R="ArrowLeft"),d.key){case m:d.preventDefault(),Se(h,C,ut);break;case R:d.preventDefault(),Se(h,C,dt);break;case"Home":d.preventDefault(),Se(h,null,dt);break;case"End":d.preventDefault(),Se(h,null,ut);break}},ve=Gt();return s.jsxs(Mo,I({className:q(G.root,T),ownerState:Z,ref:o,as:M},pe,{children:[ve.scrollButtonStart,ve.scrollbarSizeListener,s.jsxs(Eo,{className:G.scroller,ownerState:Z,style:{overflow:Ze.overflow,[N?`margin${l?"Left":"Right"}`:"marginBottom"]:J?void 0:-Ze.scrollbarWidth},ref:$,children:[s.jsx(Bo,{"aria-label":i,"aria-labelledby":c,"aria-orientation":x==="vertical"?"vertical":null,className:G.flexContainer,ownerState:Z,onKeyDown:Xt,ref:te,role:"tablist",children:Kt}),Xe&&rt]}),ve.scrollButtonEnd]}))}),Lo=mo;function Po(e){const[t,o]=u.useState(e||"");return{currentTab:t,onChangeTab:(r,n)=>{o(n)},setCurrentTab:o}}const Lt=he(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8.46 14.45l-1.36-.62c.28-.61.41-1.24.4-1.86-.01-.63-.14-1.24-.4-1.8l1.36-.63c.35.75.53 1.56.54 2.4.01.86-.17 1.7-.54 2.51zm3.07 1.56-1.3-.74c.52-.92.78-1.98.78-3.15 0-1.19-.27-2.33-.8-3.4l1.34-.67c.64 1.28.96 2.65.96 4.07 0 1.43-.33 2.74-.98 3.89zm3.14 1.32-1.35-.66c.78-1.6 1.18-3.18 1.18-4.69 0-1.51-.4-3.07-1.18-4.64l1.34-.67c.9 1.78 1.34 3.56 1.34 5.31 0 1.74-.44 3.54-1.33 5.35z"}),"ContactlessSharp"),pt=he(s.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft"),xt=he(s.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Oo=he(s.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link"),Ao=he(s.jsx("path",{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 4H7V4h10v2zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2zm-1.47-11.81C18.21 9.47 17.49 9 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20l-3.47-7.81zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5z"}),"PointOfSale"),Ro=e=>{const t=(e==null?void 0:e.distance)||160,o=e==null?void 0:e.durationIn,r=e==null?void 0:e.durationOut,n=e==null?void 0:e.easeIn,l=e==null?void 0:e.easeOut;return{inUp:{initial:{y:t},animate:{y:0,transition:X({durationIn:o,easeIn:n})},exit:{y:t,transition:U({durationOut:r,easeOut:l})}},inDown:{initial:{y:-t},animate:{y:0,transition:X({durationIn:o,easeIn:n})},exit:{y:-t,transition:U({durationOut:r,easeOut:l})}},inLeft:{initial:{x:-t},animate:{x:0,transition:X({durationIn:o,easeIn:n})},exit:{x:-t,transition:U({durationOut:r,easeOut:l})}},inRight:{initial:{x:t},animate:{x:0,transition:X({durationIn:o,easeIn:n})},exit:{x:t,transition:U({durationOut:r,easeOut:l})}},outUp:{initial:{y:0},animate:{y:-t,transition:X({durationIn:o,easeIn:n})},exit:{y:0,transition:U({durationOut:r,easeOut:l})}},outDown:{initial:{y:0},animate:{y:t,transition:X({durationIn:o,easeIn:n})},exit:{y:0,transition:U({durationOut:r,easeOut:l})}},outLeft:{initial:{x:0},animate:{x:-t,transition:X({durationIn:o,easeIn:n})},exit:{x:0,transition:U({durationOut:r,easeOut:l})}},outRight:{initial:{x:0},animate:{x:t,transition:X({durationIn:o,easeIn:n})},exit:{x:0,transition:U({durationOut:r,easeOut:l})}}}},zo=e=>[{id:"terminal",header:`${e?e==null?void 0:e.name:"Global"}`,columns:[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r,l=n==null?void 0:n.approved,i=Ss(n==null?void 0:n.cardType),c=i==null?void 0:i.component;return s.jsxs(F,{sx:{display:"flex",alignItems:"center"},children:[s.jsxs(F,{sx:{position:"relative"},children:[s.jsx(Ge,{title:n==null?void 0:n.cardType,children:s.jsx(Tt,{sx:{width:40,height:40,color:"text.secondary",bgcolor:"background.neutral"},children:i?s.jsx(c,{sx:{width:25,height:25}}):s.jsx(js,{width:25,height:25})})}),s.jsx(F,{sx:{right:0,bottom:0,width:15,height:15,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",color:"common.white",bgcolor:"error.main",justifyContent:"center",...l&&{bgcolor:"success.main"}},children:l?s.jsx(Ts,{sx:{width:12,height:12}}):s.jsx(ws,{sx:{width:12,height:12}})})]}),s.jsxs(F,{sx:{ml:2},children:[s.jsx(O,{variant:"subtitle2",sx:{textWrap:"wrap"},children:n==null?void 0:n.description}),s.jsx(O,{variant:"body2",textTransform:"capitalize",sx:{color:l?"success.main":"error.main",textWrap:"wrap"},children:n==null?void 0:n.transactionMessage})]})]})}},...e?[]:[{accessorKey:"terminalName",header:"Terminal",size:100,Cell:({cell:t,column:o,row:r,renderedCellValue:n})=>{const{original:l}=r;return s.jsx(O,{variant:"subtitle2",fontWeight:"bold",children:l==null?void 0:l.terminalName})}}],{accessorKey:"date",header:"Fecha",size:100,Cell:({cell:t,column:o,row:r,renderedCellValue:n})=>{var i,c;const{original:l}=r;return s.jsxs(j,{children:[s.jsx(O,{variant:"subtitle2",children:(i=l==null?void 0:l.transactionDate)==null?void 0:i.date}),s.jsx(O,{variant:"body2",sx:{color:"text.secondary"},children:(c=l==null?void 0:l.transactionDate)==null?void 0:c.time})]})}},{accessorKey:"amountFormat",header:"Monto",size:100,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r;return s.jsx(O,{variant:"subtitle2",fontWeight:"bold",children:n==null?void 0:n.amountFormat})}},{accessorKey:"conciliatedName",header:"¿Conciliada?",filterVariant:"multi-select",size:110,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r;return s.jsx(j,{flexDirection:"row",gap:1,color:"primary",children:n!=null&&n.conciliated?s.jsx(gs,{color:"green",fontWeight:"bold",fontSize:"20px"}):s.jsx(ys,{fontSize:"20px",color:"red"})})}}]}],We={LIST:"commerce-terminals",MOVEMENTS:"terminal-movements",CONCILIATE_MOVEMENTS:"conciliate-movements"},_o=e=>(e==null?void 0:e.map(t=>{var o,r,n,l;return{id:t==null?void 0:t.id,commerceId:t==null?void 0:t.commerceId,terminalId:t==null?void 0:t.terminalId,terminalON:((o=t==null?void 0:t.apiData)==null?void 0:o.status)===1,country:(r=t==null?void 0:t.apiData)==null?void 0:r.country,date:{created:(n=t==null?void 0:t.apiData)==null?void 0:n.created_at,updated:(l=t==null?void 0:t.apiData)==null?void 0:l.updated_at,register:t==null?void 0:t.registerDate},isVirtual:(t==null?void 0:t.typeId)==="1",name:(t==null?void 0:t.name)!==""?t==null?void 0:t.name.toString().toUpperCase():`TERMINAL-${t==null?void 0:t.terminalId}`,active:(t==null?void 0:t.active)==="1",isExternalConciliation:!!(t!=null&&t.isConciliationExternal)}}))||[],Fo=e=>Fs(e),ko=e=>{var n,l,i,c,p,b;const t=((n=e==null?void 0:e.movements)==null?void 0:n.map(a=>{const T=parseFloat((a==null?void 0:a.amount)||"0"),M=a!=null&&a.transaction_date?de(ye(a==null?void 0:a.transaction_date),"dd MMM yyyy",{locale:at}):"",y=a!=null&&a.transaction_date?de(ye(a==null?void 0:a.transaction_date),"p"):"";return{id:a==null?void 0:a.id,terminalName:a==null?void 0:a.terminal_name,amount:T,amountFormat:Fe(T),approved:a==null?void 0:a.approved,cardType:a==null?void 0:a.card_brand,cardNumber:a==null?void 0:a.card_number,cardBank:a==null?void 0:a.issuer,transactionDate:{fullDate:de(ye(a==null?void 0:a.transaction_date),"dd MMM yyyy HH:mm",{locale:at}),date:M,time:y},date:ye(a==null?void 0:a.transaction_date),description:`${(a==null?void 0:a.issuer)===""?a==null?void 0:a.card_brand:a==null?void 0:a.issuer}-${a==null?void 0:a.card_number}`.toUpperCase(),transactionMessage:a==null?void 0:a.result_message,conciliated:!!(a!=null&&a.conciliated),conciliatedName:a!=null&&a.conciliated?"Conciliada":"Sin Conciliar"}}))??[],o={amount:Fe((l=e==null?void 0:e.balance)==null?void 0:l.amount),month:(c=(i=e==null?void 0:e.balance)==null?void 0:i.month)==null?void 0:c.toLowerCase()},r={status:{all:(t==null?void 0:t.length)||0,approved:((p=t==null?void 0:t.filter(a=>a==null?void 0:a.approved))==null?void 0:p.length)||0,rejected:((b=t==null?void 0:t.filter(a=>!(a!=null&&a.approved)))==null?void 0:b.length)||0}};return{movements:t,balance:o,filters:r}},No=async()=>{const{data:e}=await re.get("/api/commerces/terminals");return _o(e)},On=async e=>{const{data:t}=await re.post("/api/commerce/pay/new",e);return t},An=async e=>{const{data:t}=await re.post("/api/commerce/virtual/pay",e);return t},Do=async(e,t,o)=>{const r=e?`?fromDate=${t}&toDate=${o}&terminalId=${e}`:`?fromDate=${t}&toDate=${o}`,{data:n}=await re.get(`/api/commerces-pay/transactions/all${r}`);return ko(n)},Rn=async(e,t)=>{const o=new URL("/api/card/movements/terminal/conciliated",window.location.origin);o.searchParams.set("startDate",t),o.searchParams.set("terminalId",e);const{data:r}=await re.get(o.href);return Fo(r)},zn=async e=>{const{data:t}=await re.post("/api/commerce/terminal/consolidation/create",e);return t},Wo=(e={})=>{const[t,o]=u.useState(null);return{...wt([We.LIST],No,{staleTime:6e4,refetchOnMount:"always",onError:n=>{const l=Mt(n,"No se puede obtener la lista de terminales del comercio. Intente nuevamente o reporte a sistemas");o(l)},...e}),error:t||null}},Ce={terminal:null,conciliateInfo:{movements:null,total:0,date:null},openConciliate:!1},Ho=(e,t)=>({...Ce,setTerminal:o=>{const{terminal:r}=t();e(n=>({terminal:{...r,...o}}),!1,"SET_TERMINAL_SELECTED")},resetTerminal:()=>{e(o=>({terminal:null}),!1,"RESET_TERMINAL_SELECTED")},addTerminalInfo:o=>{const{terminal:r}=t();e(n=>({terminal:{...r,...o}}),!1,"SET_TERMINAL_INFO")},setOpenConciliate:o=>{e(r=>({openConciliate:o}),!1,"SET_OPEN_CONCILIATE")},setConciliateMovements:o=>{let r=Ce==null?void 0:Ce.conciliateInfo;if(o){o==null||o.sort((i,c)=>i.date-c.date);const n=(o==null?void 0:o.length)>0&&o[0],l=o.reduce((i,c)=>i+(c==null?void 0:c.amount),0);r={movements:o,total:l,date:n==null?void 0:n.date}}e(n=>({conciliateInfo:r}),!1,"SET_CONCILIATE_MOVEMENTS")}}),W=Et(Ho),Ae={terminals:[],isOpenList:!1,isCollapse:!1,balance:{amount:"$0.00",month:null},globalBalance:{amount:"$0.00",month:null}},$o=(e,t)=>({...Ae,setTerminals:o=>{e(r=>({terminals:o}),!1,"SET_TERMINALS")},setOpenList:o=>{e(r=>({isOpenList:o}),!1,"SET_OPEN_LIST")},setCollapse:o=>{e(r=>({isCollapse:o}),!1,"SET_COLLAPSE")},setBalance:o=>{e(r=>({balance:o}),!1,"SET_BALANCE")},setGlobalBalance:o=>{e(r=>({globalBalance:o}),!1,"SET_GLOBAL_BALANCE")},resetBalance:()=>{e(o=>({balance:Ae.balance}),!1,"RESET_BALANCE")},resetGlobalBalance:()=>{e(o=>({globalBalance:Ae.globalBalance}),!1,"RESET_BALANCE")}}),A=Et($o),Vo=(e,t,o={})=>{const r=A(y=>y.resetBalance),n=A(y=>y.resetGlobalBalance),l=Qt(t),i=Jt(t),c=de(l,"yyyy-MM-dd"),p=de(i,"yyyy-MM-dd"),[b,a]=u.useState(null),T=e?[We.MOVEMENTS,e]:[We.MOVEMENTS,"global"];return{...wt(T,({signal:y})=>Do(e,c,p),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:y=>{const w=Mt(y,"No se puede obtener la lista de movimientos de la terminal. Intente nuevamente o reporte a sistemas");a(w),Bt.error(w,{type:Zt(y)}),e?r():n()},...o}),error:b||null}},Yo=48,Go=8,Ko={PaperProps:{style:{maxHeight:Yo*4.5+Go,width:250}}},Xo=Cs(),Pt=({cardType:e,handleChangeCardType:t,isLoading:o})=>s.jsx(ks,{sx:{minWidth:240},disabled:!!o,children:s.jsxs(Ne,{fullWidth:!0,multiple:!0,displayEmpty:!0,disabled:!!o,size:"small",value:e,onChange:t,input:s.jsx(Ns,{}),renderValue:r=>r.length===0?s.jsx(s.Fragment,{children:"Tarjeta"}):r.join(", "),MenuProps:Ko,inputProps:{"aria-label":"Without label"},children:[s.jsx(Te,{disabled:!0,value:"",children:s.jsx("em",{children:" Seleccionar Tarjeta"})}),Xo.map(r=>s.jsxs(Te,{value:r,sx:{mx:1,my:.5,p:0,borderRadius:.75,typography:"body2",textTransform:"capitalize",fontWeight:n=>e.indexOf(name)===-1?n.typography.fontWeightRegular:n.typography.fontWeightMedium},children:[s.jsx(Ws,{checked:e.indexOf(r)>-1}),s.jsx(es,{primary:r})]},r))]})}),Uo=u.memo(Pt);Pt.propTypes={cardType:L.array,handleChangeCardType:L.func,isLoading:L.any};const ne=[{name:"Todos",id:"all",color:"primary"},{name:"Aprobado",id:"approved",color:"success"},{name:"Rechazado",id:"rejected",color:"error"}],qo=e=>ne==null?void 0:ne.find(t=>t.name===e),Ot=({filterStatus:e,onChangeFilterStatus:t,filters:o})=>{const r=u.useMemo(()=>ne==null?void 0:ne.map(n=>n.name),[]);return s.jsx(Lo,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:e,onChange:t,sx:{px:2},children:r.map(n=>{const l=qo(n),i=l&&(o==null?void 0:o.status[l==null?void 0:l.id])||0;return s.jsx(ro,{icon:s.jsx(Hs,{color:l==null?void 0:l.color,children:i}),iconPosition:"end",disableRipple:!0,label:n,value:n},n)})})},Qo=u.memo(Ot);Ot.propTypes={filterStatus:L.any,filters:L.shape({status:L.any}),onChangeFilterStatus:L.func};const ft=V(Ds)(({theme:e})=>({"label + &":{marginTop:e.spacing(3)},"& .MuiInputBase-input":{borderRadius:4,position:"relative",border:"none",outline:"none"}}));function Jo({setCurrentMonth:e,currentMonth:t,isLoading:o}){const n=new Date().getFullYear(),l=It("up","lg"),i=Array.from({length:n-2020+1},(f,x)=>2020+x).reverse(),c=o,p=()=>{e(f=>{const x=new Date(f);return x.setMonth(x.getMonth()-1),x})},b=()=>{e(f=>{const x=new Date(f);return x.setMonth(x.getMonth()+1),x})},a=()=>{const f=new Date;return t.getMonth()===f.getMonth()&&t.getFullYear()===f.getFullYear()},T=(f,x)=>{const E=new Date,v=E.getFullYear(),Q=E.getMonth();return x>v||x===v&&f>Q},M=f=>{const x=new Date(t);x.setMonth(f.target.value),e(x)},y=f=>{const x=new Date(t);x.setFullYear(f.target.value),e(x)},w={PaperProps:{style:{maxHeight:200,overflowY:"auto"}}};return s.jsxs(j,{spacing:2,direction:"row",justifyContent:"space-between",sx:{py:2.5,px:3},children:[l?s.jsx(lt,{loading:c,variant:"outlined",startIcon:s.jsx(pt,{}),onClick:p,children:"anterior"}):s.jsx(Re,{disabled:c,variant:"outlined",onClick:p,children:s.jsx(pt,{})}),s.jsxs(F,{display:"flex",alignItems:"center",justifyContent:"center",spacing:1,gap:1,children:[s.jsx(Ne,{size:"small",value:t.getMonth(),onChange:M,disabled:c,input:s.jsx(ft,{}),children:ke.map((f,x)=>{const E=t.getFullYear();return T(x,E)?null:s.jsx(Te,{value:x,disabled:T(x,E),children:f},x)})}),s.jsx(Ne,{size:"small",value:t.getFullYear(),onChange:y,input:s.jsx(ft,{}),MenuProps:w,disabled:c,children:i.map(f=>s.jsx(Te,{value:f,children:f},f))})]}),l?s.jsx(lt,{loading:c,variant:"outlined",endIcon:s.jsx(xt,{}),disabled:a(),onClick:b,children:"siguiente"}):s.jsx(Re,{disabled:c,variant:"outlined",onClick:b,children:s.jsx(xt,{})})]})}const bt=()=>{const[e,t]=u.useState(new Date),o=W(g=>g.terminal),r=W(g=>g.setConciliateMovements),n=W(g=>g.setOpenConciliate),l=A(g=>g.setBalance),i=A(g=>g.setGlobalBalance),{data:c,isFetching:p,refetch:b,isError:a,error:T,isLoading:M}=Vo(o==null?void 0:o.terminalId,e,{enabled:!!(o!=null&&o.terminalId&&e)}),{currentTab:y,onChangeTab:w}=Po("Todos"),[f,x]=u.useState([]),[E,v]=u.useState({}),{movements:Q,amount:k}=u.useMemo(()=>Zo({movements:(c==null?void 0:c.movements)||[],filterCardType:f,filterStatus:y}),[c==null?void 0:c.movements,f,y]),_=u.useMemo(()=>zo(o),[o]),Y=g=>{const{target:{value:P}}=g;x(typeof P=="string"?P.split(","):P)};u.useEffect(()=>{b(),v({})},[e]),u.useEffect(()=>{t(new Date)},[o]),u.useEffect(()=>{k&&o&&e&&l({month:ke[e.getMonth()],amount:k}),k&&!o&&e&&i({month:ke[e.getMonth()],amount:k})},[k,o,e]);const H=g=>{try{const P=g.getSortedRowModel().rows.map(B=>(_==null?void 0:_.map(J=>B.getValue(J.accessorKey)))||[])??[];Es((_==null?void 0:_.map(B=>B.header))||[],P,"Movimientos Terminales")}catch{}};return s.jsx(ze,{children:s.jsx(ms,{enableColumnPinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowSelection:g=>{const{conciliated:P,approved:B}=g.original;return!(!B&&o||P&&o)},enableDensityToggle:!1,columns:_,data:Q||[],isError:a,textError:T,selectAllMode:"all",onRowSelectionChange:v,initialState:{density:"compact",sorting:[{id:"date",desc:!0}]},state:{isLoading:M,showAlertBanner:a,showProgressBars:p,rowSelection:E??{}},displayColumnDefOptions:{"mrt-row-select":{maxSize:10}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbar:({table:g})=>{var B;const P=()=>{var pe;const J=(pe=g.getSelectedRowModel().flatRows)==null?void 0:pe.map(z=>z==null?void 0:z.original);o!=null&&o.isExternalConciliation?Bt.info("Conciliación Externa: En etapa de desarrollo 🧑🏻‍💻🚀!!"):(r(J),n(!0))};return s.jsxs(j,{component:vt,children:[s.jsx(Qo,{filterStatus:y,onChangeFilterStatus:w,filters:c==null?void 0:c.filters}),s.jsx(_e,{sx:{borderStyle:"dashed"}}),a&&!p&&s.jsx(ts,{severity:"error",sx:{width:1,borderRadius:0},action:s.jsx(we,{color:"inherit",size:"small",onClick:b,children:"Recargar"}),children:T}),s.jsxs(j,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",flex:1,spacing:2,px:2,py:1,children:[s.jsx(Uo,{cardType:f,handleChangeCardType:Y,isLoading:p}),s.jsx(j,{flexGrow:1,children:s.jsx(Jo,{currentMonth:e,setCurrentMonth:t,isLoading:p})})]}),s.jsx(_e,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{px:2,py:1,direction:"row",justifyContent:"space-between",alignItems:"center",children:[o?s.jsx(j,{children:s.jsx(we,{color:"info",onClick:P,disabled:((B=g.getSelectedRowModel().flatRows)==null?void 0:B.length)===0,variant:"contained",children:"Conciliar"})}):s.jsx(F,{display:"flex"}),s.jsx(Ls,{table:g}),s.jsxs(F,{children:[s.jsx(Ps,{table:g}),s.jsx(Ge,{title:"Descargar",children:s.jsx(Re,{disabled:g.getPrePaginationRowModel().rows.length===0,onClick:()=>H(g),children:s.jsx(Ms,{})})}),s.jsx(Os,{table:g}),s.jsx(As,{table:g}),s.jsx(Rs,{table:g})]})]})]})},muiSelectCheckboxProps:({row:g})=>{const{approved:P,conciliated:B}=g.original;return{sx:{disabled:!!(!P&&o)||B&&o,display:!P&&o||B&&o?"none":"flex"}}}})})};function Zo({movements:e,filterCardType:t,filterStatus:o}){const r=(e==null?void 0:e.map((i,c)=>[i,c]))||[];let n=0,l=r.map(i=>i[0]);return o!=="Todos"&&(l=l.filter(i=>i.approved===(o==="Aprobado"))),ss.isArray(t)&&(t==null?void 0:t.length)>0&&(l=l.filter(i=>{var c;return t.includes((c=i==null?void 0:i.cardType)==null?void 0:c.toUpperCase())})),n=l.reduce((i,c)=>{if(c.approved){const p=parseFloat(c.amount);return i+p}return i},0),{movements:l??[],amount:Fe(n.toFixed(2))}}const en=()=>{const e=W(t=>t.terminal);return s.jsx(j,{sx:t=>({pl:{xs:0,sm:2,lg:2},overflow:"hidden",flexDirection:"column",flexGrow:1,transition:t.transitions.create(["width","flexGrow"])}),children:s.jsx(Me,{children:s.jsxs(F,{sx:{overflowY:"auto"},children:[e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(j,{p:2,children:s.jsx(bt,{})})}),!e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(j,{p:2,children:s.jsx(bt,{})})})]})})})},tn=u.lazy(()=>Ke(()=>import("./build-_ynb8g40.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]))),sn=u.lazy(()=>Ke(()=>import("./build-eSgcXvFW.js"),__vite__mapDeps([43,1,2,16,18,4,5,6,7,8,9,10,11,12,13,14,15,19,20,21,22,23,32,33,44,45,24,25,46,28,29,30,31,34,26,35,36,37,38,39,40,41,42]))),on=()=>{const[e,t]=u.useState(!1),[o,r]=u.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(_e,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{px:2,py:1,flexDirection:"row",justifyContent:"space-between",children:[s.jsx(we,{startIcon:s.jsx(Oo,{}),onClick:()=>t(!0),children:"Liga de Pago"}),s.jsx(we,{startIcon:s.jsx(Vs,{}),sx:{textWrap:"nowrap"},onClick:()=>r(!0),children:"Terminal Virtual"})]}),s.jsx(u.Suspense,{children:s.jsx(tn,{open:e,setOpen:t})}),s.jsx(u.Suspense,{children:s.jsx(sn,{open:o,setOpen:r})})]})},nn=()=>{const e=W(r=>r.terminal),t=A(r=>r.balance),o=e?e==null?void 0:e.name:"Global";return s.jsx(Me,{children:!!(e!=null&&e.id)&&s.jsx(ue.div,{...Ro().inLeft,children:s.jsxs(vt,{sx:{boxShadow:r=>`0px 0px 15px 2px ${os(r.palette.primary.main,.4)}`},children:[s.jsx(De,{title:s.jsx(j,{flexDirection:"column",gap:1,children:s.jsx(O,{variant:"subtitle1",children:o})}),sx:{px:2,py:2}}),s.jsxs(j,{alignItems:"center",pb:2,px:2,children:[s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(O,{variant:"h3",children:t.amount}),s.jsx(O,{variant:"caption",children:"MXN"})]}),(t==null?void 0:t.month)&&s.jsxs(O,{variant:"subtitle2",children:["Balance de ",t.month]})]}),(e==null?void 0:e.isVirtual)&&s.jsx(on,{})]})})})},rn=()=>{const e=A(n=>n.globalBalance),t=W(n=>n.resetTerminal),o=W(n=>n.terminal),r=()=>{t()};return o?s.jsx(Me,{children:s.jsx(ue.div,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsx(ze,{sx:n=>({cursor:"pointer","& :hover":{color:"primary.main"}}),children:s.jsx(De,{title:s.jsxs(j,{flexDirection:"row",gap:1,justifyContent:"space-between",children:[s.jsx(O,{variant:"subtitle1",children:"Global"}),s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(O,{variant:"caption",children:e.amount}),s.jsx(O,{variant:"caption",children:"MXN"})]})]}),sx:{px:2,py:2}})})})}):s.jsx(Me,{children:s.jsx(ue.div,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(ze,{sx:n=>({cursor:"pointer",backgroundColor:{xs:"background.neutral",md:"background.paper"},"& :hover":{color:"primary.main"}}),children:[s.jsx(De,{title:s.jsx(j,{flexDirection:"column",gap:1,children:s.jsx(O,{variant:"subtitle1",children:"Global"})}),sx:{px:2,py:2}}),s.jsxs(j,{alignItems:"center",pb:2,px:2,children:[s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(O,{variant:"h3",children:e.amount}),s.jsx(O,{variant:"caption",children:"MXN"})]}),(e==null?void 0:e.month)&&s.jsxs(O,{variant:"subtitle2",children:["Balance de ",e.month]})]})]})})})},an=V(ns)(({theme:e})=>({borderRadius:"8px!important",width:1,justifyContent:"center",display:"flex",alignItems:"center",mb:1})),At=({terminal:e})=>{const t=A(i=>i.isOpenList);A(i=>i.setOpenList);const o=W(i=>i.setTerminal),r=W(i=>i.terminal);(e==null?void 0:e.id)===(r==null?void 0:r.id)&&r&&(r==null||r.cardON);const n=(e==null?void 0:e.id)===(r==null?void 0:r.id),l=i=>{var p;!((p=i.target)==null?void 0:p.type)&&!n&&o(e)};return s.jsx(Ge,{title:e==null?void 0:e.name,arrow:!0,placement:"right",children:s.jsx(Bs,{sx:{mb:1,padding:0,borderRadius:1,"& :hover":{color:"text.primary"}},disablePadding:!0,children:s.jsxs(an,{onClick:l,sx:{...n&&{bgcolor:"secondary.light",color:"text.primary.contrastText","& :hover":{color:"text.primary"}},"& :hover":{color:"text.primary"},width:1,py:1,gap:1},children:[s.jsx(Ys,{sx:{ml:2,m:0},children:s.jsx(F,{sx:{position:"relative"},children:s.jsx(Tt,{sx:i=>({width:32,height:32,m:0,backgroundColor:i.palette.primary.main,"& :hover":{color:"white"}}),children:e!=null&&e.isVirtual?s.jsx(Lt,{sx:{width:20,height:20,color:"white"}}):s.jsx(Ao,{sx:{width:16,height:16,color:"white"}})})})}),t&&s.jsx(s.Fragment,{children:s.jsx(j,{sx:{width:1},children:s.jsx(O,{noWrap:!0,variant:"subtitle2",children:e==null?void 0:e.name})})})]})})})};At.propTypes={terminal:L.shape({alias:L.any,id:L.any,isVirtual:L.any,name:L.any})};const Rt=({terminalsQuery:e,sx:t,...o})=>{const{isLoading:r,data:n,error:l,isError:i,refetch:c}=e,p=A(a=>a.isOpenList),b=A(a=>a.terminals);return i&&p&&!n&&!r?s.jsx(rs,{errorMessage:l,handleButton:c}):n&&p&&(n==null?void 0:n.length)===0&&!r?s.jsx(as,{pt:2.5,message:"No hay terminales activas para este comercio"}):s.jsx(ls,{disablePadding:!0,sx:t,...o,children:(r?[...Array(12)]:b).map((a,T)=>a!=null&&a.id?s.jsx(At,{terminal:a},a==null?void 0:a.id):s.jsx(Gs,{isOpenSideBar:p},T))})};Rt.propTypes={sx:L.any,terminalsQuery:L.shape({data:L.array,error:L.any,isError:L.any,isLoading:L.any,refetch:L.any})};const zt=({commerceTerminals:e=[]})=>{const t=A(w=>w.isOpenList),o=A(w=>w.setOpenList),r=A(w=>w.setTerminals),n=A(w=>w.terminals),l=A(w=>w.isCollapse),[i,c]=u.useState(""),[p,b]=u.useState(!1),a=async w=>{try{const{value:f}=w.target;if(c(f),f){const x=(e==null?void 0:e.filter(E=>{var v;return(E==null?void 0:E.name)&&((v=E==null?void 0:E.name)==null?void 0:v.toLowerCase().indexOf(f.toLowerCase()))!==-1}))||[];r(x)}else r(e)}catch(f){console.error(f)}},T=()=>{t&&(c(""),r(e)),o(!t)},M=()=>{b(!0)},y=()=>{b(!1)};return u.useEffect(()=>{e&&r(e)},[e]),u.useEffect(()=>{if(!t)return b(!1)},[t]),s.jsxs(s.Fragment,{children:[s.jsx(F,{sx:{p:2,px:0},children:s.jsxs(j,{direction:"row",justifyContent:t?"flex-end":"center",alignItems:"center",spacing:2,children:[!l&&s.jsx(Qs,{onClickAway:y,children:s.jsx($s,{fullWidth:!0,size:"small",value:i,onFocus:M,onChange:a,placeholder:"Buscar Terminales...",InputProps:{startAdornment:s.jsx(Us,{position:"start",children:s.jsx(qs,{sx:{color:"text.disabled",width:20,height:20}})})}})}),s.jsx(j,{direction:"row",alignItems:"center",justifyContent:"center",children:s.jsx(Ks,{size:"small",sx:{...!t&&{transform:"rotate(180deg)"}},onClick:T,children:is})})]})}),(n==null?void 0:n.length)===0&&(e==null?void 0:e.length)>0&&s.jsx(cs,{sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center"},searchQuery:i})]})};zt.propTypes={commerceTerminals:L.array};const ln=()=>{const e=A(a=>a.setOpenList),t=A(a=>a.setCollapse),o=A(a=>a.isOpenList),r=Wo(),n=ds(),l=It("up","md"),i=l&&!o,c=()=>{e(!1)},p=()=>{e(!o)};u.useEffect(()=>{l&&e(!0)},[l]),u.useEffect(()=>{t(i)},[i]);const b=s.jsxs(s.Fragment,{children:[o&&s.jsxs(j,{spacing:2,p:2,children:[s.jsx(rn,{}),s.jsx(nn,{})]}),s.jsx(j,{children:s.jsx(zt,{commerceTerminals:(r==null?void 0:r.data)||[]})}),s.jsx(us,{sx:{height:.98},children:s.jsx(j,{children:s.jsx(Rt,{terminalsQuery:r})})})]});return s.jsxs(s.Fragment,{children:[!l&&!o&&s.jsx(Xs,{onClick:p,children:s.jsx(Lt,{sx:{width:20,height:20}})}),l?s.jsx(it,{open:o,variant:"persistent",PaperProps:{sx:{height:1,borderRightStyle:"none",bgcolor:"background.default"}},sx:{height:1,width:Pe,transition:n.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",backgroundColor:"transparent!important",width:Pe},...i&&{width:ct,"& .MuiDrawer-paper":{width:ct,backgroundColor:"transparent!important",position:"static",transform:"none !important",visibility:"visible !important"}}},children:b}):s.jsx(it,{ModalProps:{keepMounted:!0},open:o,onClose:c,sx:{height:1,"& .MuiDrawer-paper":{width:Pe,p:2}},children:b})]})},cn=hs(u.lazy(()=>Ke(()=>import("./build-oYV4quU5.js"),__vite__mapDeps([47,1,2,12,8,4,5,6,7,9,10,11,13,14,15,48,28,29,30,31,32,33,34,26,35,36,37,19,20,16,21,22,38,39,40,41,42])))),dn=()=>{const e=W(t=>t.openConciliate);return s.jsx(ps,{title:"Lista de Terminales Punto de Venta",children:s.jsxs(zs,{children:[s.jsxs(F,{display:"flex",overflow:"hidden",sx:{height:"100vH",maxHeight:"100%",flexDirection:"column"},children:[s.jsx(F,{px:1,children:s.jsx(_s,{name:"Terminales Punto de Venta",links:[{name:"Inicio",href:xs.root},{name:"Viabo Pay",href:fs.terminals},{name:bs.terminals.name}]})}),s.jsxs(F,{display:"flex",overflow:"hidden",flex:1,children:[s.jsx(ln,{}),s.jsx(en,{})]})]}),!!e&&s.jsx(cn,{})]})})},_n=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"}));export{Oo as L,_n as P,We as T,On as a,An as b,zn as c,Rn as g,W as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/build-_ynb8g40.js","assets/js/index-EBrH4AFB.js","assets/css/build-pvjN466W.css","assets/js/build-ZnlXFoBz.js","assets/js/build-u_9qcimv.js","assets/js/build-H7IOl2jl.js","assets/js/build-ra700BiT.js","assets/js/build-UC2Jv_Rj.js","assets/js/build-bT2ZGV7i.js","assets/js/build-P0jbLy60.js","assets/js/build-BTCdeRGE.js","assets/js/build-qEQsGcT6.js","assets/js/build-rECqXkdZ.js","assets/js/build-F7ivJfbI.js","assets/js/build-W0u3MlWw.js","assets/js/build-4IleTySW.js","assets/js/build-YTv3sfp4.js","assets/js/build-64TJpPY8.js","assets/js/build-DzxOi4kS.js","assets/js/build-6Nx01Jh-.js","assets/js/build-qVohwCJK.js","assets/js/build-ulQ1JAvE.js","assets/js/build-Uc7vb3zK.js","assets/js/build-QYKE-a6z.js","assets/js/build-K6w53dZb.js","assets/js/build-LsPh7uqr.js","assets/js/build-qsUZz7Qs.js","assets/js/build-TN31UbQv.js","assets/js/build-1U06qWaw.js","assets/js/build-yU-WBOdX.js","assets/js/build-OLvjL4ru.js","assets/js/build-1Ft3NZNk.js","assets/js/build-8l7LuNRn.js","assets/js/build-pTw3iSuy.js","assets/js/build-7f0sYOci.js","assets/js/build-1-wK37TH.js","assets/js/build-6J8l4Ccm.js","assets/js/build-xkgo0pxg.js","assets/js/build-Z4d0xSs6.js","assets/js/build-hSMttXos.js","assets/js/build-DWRgr0l7.js","assets/js/build-1OCNzFUt.js","assets/js/build-g4jGEIUg.js","assets/js/build-eSgcXvFW.js","assets/js/build-rybuvv0P.js","assets/js/build-YtSG0AiO.js","assets/js/build-1maSllE4.js","assets/js/build-oYV4quU5.js","assets/js/build-Tk_iTi2U.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}