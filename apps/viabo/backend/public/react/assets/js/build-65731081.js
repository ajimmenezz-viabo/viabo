import{u as q,m as z,g as G,n as J,W as L,aZ as I,j as A,B as Q}from"./build-25e7e2eb.js";import{v as U}from"./build-007ff2b7.js";import{T as W}from"./build-3f6bbffc.js";const ce=(a={})=>{const{enqueueSnackbar:o}=q();return z({mutationFn:U,onError:c=>{const n=G(c,"No se puede validar el cÃ³digo");o(n,{variant:J(c),autoHideDuration:5e3})},...a})},X=L(W)`
  input {
    text-align: center;
  }
`,Y={TextFieldStyled:X},_=a=>A.jsx(Y.TextFieldStyled,{...a}),T={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace"};function ee(a,o){return a<=0?[]:Array.from({length:a},o)}function te(a,o,c){return a.map((n,p)=>o===p?c:n)}function j(a){return a.join("")}function N(a,o){return[...a,o]}function re(a,o,c){return a.reduce((n,p,i)=>{const{characters:f,restArrayMerged:s}=n;if(i<c)return{restArrayMerged:s,characters:N(f,p)};const[g,...h]=s;return{restArrayMerged:h,characters:N(f,g||"")}},{restArrayMerged:o,characters:[]}).characters}function ae(a){return a.split("")}const ne=I.forwardRef((a,o)=>{const{value:c,length:n,autoFocus:p,onChange:i,TextFieldsProps:f,onComplete:s,validateChar:g,className:h,...P}=a,{onPaste:m,onFocus:x,onKeyDown:y,className:b,...w}=f||{},l=ee(n,(e,r)=>({character:c[r]||"",inputRef:I.createRef()})),v=e=>l.findIndex(({inputRef:r})=>r.current===e),M=()=>l.map(({character:e})=>e),B=(e,r)=>{const t=te(M(),e,r);return j(t)},F=e=>{var r,t;(t=(r=l[e])==null?void 0:r.inputRef.current)==null||t.focus()},d=e=>{var r,t;(t=(r=l[e])==null?void 0:r.inputRef.current)==null||t.select()},C=e=>{e+1!==n&&(l[e+1].character?d(e+1):F(e+1))},E=e=>{e>0&&d(e-1)},O=e=>{const r=e.target.value[0]||"",t=v(e.target);if(typeof g=="function"&&!g(r,t))return;const u=B(t,r);i==null||i(u),u.length===n&&(s==null||s(u)),r!==""?u.length<n?C(u.length-1):C(t):u[t]?d(t):E(t)},$=e=>{e.preventDefault(),e.target.select(),x==null||x(e)},K=e=>{const r=e.target,t=v(r);r.value===e.key?(e.preventDefault(),C(t)):!r.value&&T.backspace===e.key||T.left===e.key?(e.preventDefault(),d(t-1)):T.right===e.key&&(e.preventDefault(),d(t+1)),y==null||y(e)},S=e=>{e.preventDefault();const r=e.target,t=e.clipboardData.getData("text/plain"),u=v(r),H=M(),R=re(H,ae(t),u),k=R.findIndex((V,Z)=>Z>u&&V===""),D=j(R);if(i==null||i(D),D.length===n){s==null||s(D),F(n-1);return}k!==-1&&F(k),m==null||m(e)};return A.jsx(Q,{display:"flex",gap:"20px",alignItems:"center",ref:o,className:`MuiOtpInput-Box ${h||""}`,...P,children:l.map(({character:e,inputRef:r},t)=>A.jsx(_,{autoFocus:p?t===0:!1,autoComplete:"one-time-code",value:e,inputRef:r,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${t+1} ${b||""}`,onPaste:S,onFocus:$,onChange:O,onKeyDown:K,...w},t))})});ne.defaultProps={value:"",length:4,autoFocus:!1,validateChar:()=>!0,onChange:()=>{},onComplete:()=>{},TextFieldsProps:{}};export{ne as Z,ce as u};
