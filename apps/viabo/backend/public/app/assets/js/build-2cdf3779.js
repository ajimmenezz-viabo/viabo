import{aE as n,G as p}from"./index-5b9abb5d.js";import{g as u}from"./build-0307e86f.js";import{f as T,a as U,c as k}from"./build-559b3bfe.js";import{f}from"./build-6bf4add6.js";import{c as x}from"./build-102bf6ff.js";const H=e=>{const t=u(e==null?void 0:e.ciphertext,e==null?void 0:e.iv),s=parseFloat((t==null?void 0:t.balance)===""?"0":t==null?void 0:t.balance.replace(/,/g,""));if(t)return{SPEI:t==null?void 0:t.spei,PAYNET:t==null?void 0:t.paynet,cardON:(t==null?void 0:t.block)==="UnBlocked",nip:t==null?void 0:t.nip,balance:s,balanceFormatted:T(s)};throw new Error("Algo fallo al obtenerla informacion")};function y(e){const{id:t,number:s,CVV:m,register:a,expirationDate:g,paymentProcessorName:b,paymentProcessorId:D,statusId:N,statusName:w,commerceId:A,commerceName:h,ownerId:C,ownerName:i,ownerLastname:l,ownerPhone:I,ownerEmail:E,recorderId:V,recorderName:v,assignmentDate:r,active:P}=e,M=s==null?void 0:s.slice(-4);let o=i??"";return(o==null?void 0:o.length)>10&&(o=o.slice(0,13)+"..."),{id:t,cardTypeId:D,cardType:b,assignCommerce:{id:A,name:h},assignUser:{id:C,fullName:i!==""?n.startCase(n.camelCase(`${i==null?void 0:i.trim()} ${l==null?void 0:l.trim()} `)):"-",name:i===""?"-":n.startCase(n.camelCase(i)),lastName:n.startCase(n.camelCase(l)),phone:I,email:E,dateTime:r===""?"-":f(r),date:r===""?"-":p(new Date(a),"dd MMM yyyy"),time:r===""?"-":p(new Date(a),"p"),lastLogged:e!=null&&e.sessionLastDate&&(e==null?void 0:e.sessionLastDate)!==""?f(e==null?void 0:e.sessionLastDate):null},staffRegister:{id:V,name:v},cardNumber:s,cardNumberHidden:U(s),cardNumberMoreDigits:k(s),cardUserNumber:(o==null?void 0:o.toUpperCase())+" "+M,expiration:g,register:f(a),registerDate:a?p(new Date(a),"dd MMM yyyy"):"",registerTime:a?p(new Date(a),"p"):"",cvv:m,emptyCVV:m===""||!m?"SIN CVV":"CON CVV",status:{id:N,name:w},cardStatus:{isActive:(e==null?void 0:e.block)==="UnBlocked",name:(e==null?void 0:e.block)==="UnBlocked"?"Encendida":"Apagada"}}}const O=e=>{const t=u(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);if(t&&Array.isArray(t)){const s=t==null?void 0:t.map(m=>y(m));return x(s,"id","cardUserNumber")||[]}throw new Error("No se pueden obtener las tarjetas")};export{y as C,O as a,H as b};
