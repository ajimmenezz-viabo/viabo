import{ai as u,ak as k,d as N,g as b,O as n,aj as v,_ as m,r as _,j as a,B as P,S as M,p as L,X as D,q as w,aF as z,P as j,l as A}from"./index-x-tL3MOy.js";import{a as o}from"./build-A0pkRIS4.js";import{G as S}from"./build-fO9Z8l-Y.js";const G={TOKEN_COMMERCE:"tokenCommerce",VALIDATION_CODE:"validationCode",COMMERCE_PROCESS:"commerceProcess"},V=e=>{const{id:s,fiscalPersonType:t,taxName:r,tradeName:c,rfc:d,employees:f,branchOffices:R,paymentAPI:O,registerStep:E,legalRepresentative:g,services:p,pointSaleTerminal:C,documents:i}=e,l=p==null?void 0:p.find(y=>y.type==="2"),h=(l==null?void 0:l.cardNumbers)||0,x=(l==null?void 0:l.cardUse)||"",T=(l==null?void 0:l.personalized)==="1"||!1;return{id:s,idUser:g,services:p,fiscalTypePerson:t,fiscalName:r,rfc:d,commercialName:c,employeesNumber:Number(f),branchesNumber:Number(R),tpvsNumber:Number(C),apiRequired:O==="1",cardsNumber:Number(h),cardsUse:x,customCardsRequired:T,files:i,step:Number(E)}},ee=async e=>{const{data:s}=await u.post("/api/security/legalRepresentative/new",e);return s},te=async e=>{const{data:s}=await u.get("/api/legal-representative/verificate",{headers:{Username:`${e}`}});return s},U=async()=>{const{data:e}=await u.get("/api/commerce/legal-representative");return V(e)},se=async e=>{const{data:s}=await u.put("/api/commerce/update",e);return s},re=async e=>{const{data:s}=await u.post("/api/commerce/documents/create",e);return s},oe=async e=>{const{data:s}=await u.post("/api/commerce/documents/delete",e);return s};function F(e,s){if(Object.is(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;if(e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(const[r,c]of e)if(!Object.is(c,s.get(r)))return!1;return!0}if(e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(const r of e)if(!s.has(r))return!1;return!0}const t=Object.keys(e);if(t.length!==Object.keys(s).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(s,t[r])||!Object.is(e[t[r]],s[t[r]]))return!1;return!0}const q=(e={})=>{const{enqueueSnackbar:s}=k();return N([G.COMMERCE_PROCESS],U,{staleTime:60*5e3,onError:t=>{const r=b(t,"ðŸ˜Ÿ Error al obtener el proceso del comercio");s(r,{variant:"error",autoHideDuration:5e3})},...e})},ae={actualProcess:n.string,token:n.string,resume:n.object,lastProcess:n.shape({name:n.any,info:n.any}),getComponent:n.func,getBackProcess:n.func,setLastProcess:n.func,setActualProcess:n.func,setToken:n.func,setResume:n.func},$={actualProcess:o.REGISTER,token:null,resume:null,lastProcess:{name:null,info:null},processList:[{name:o.REGISTER,component:()=>m(()=>import("./build-qMHnLEO5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),backProcess:o.REGISTER},{name:o.CONTINUE_PROCESS,component:()=>m(()=>import("./build-pMdo3YsM.js"),__vite__mapDeps([18,1,2,3,9,8,19,20,5,6,7,11,17])),backProcess:o.REGISTER},{name:o.VALIDATION_CODE,component:()=>m(()=>import("./build-LjKvd57k.js"),__vite__mapDeps([21,1,2,22,5,6,8,19,20,23,24,16,17])),backProcess:o.REGISTER},{name:o.SERVICES_SELECTION,component:()=>m(()=>import("./build-DUtKtDIy.js"),__vite__mapDeps([25,1,2,26,8,27,28,10,29,17])),backProcess:o.REGISTER},{name:o.COMMERCE_INFO,component:()=>m(()=>import("./build-wNohVhfQ.js"),__vite__mapDeps([30,1,2,3,26,8,9,5,6,14,15,17])),backProcess:o.SERVICES_SELECTION},{name:o.COMMERCE_DOCUMENTATION,component:()=>m(()=>import("./build-FpRAUJlg.js"),__vite__mapDeps([31,1,2,3,26,32,33,34,6,8,35,17,29,16])),backProcess:o.COMMERCE_INFO},{name:o.FINISHED_PROCESS,component:()=>m(()=>import("./build-cisrYsKt.js"),__vite__mapDeps([36,1,2,8,17])),backProcess:o.COMMERCE_DOCUMENTATION}]},H=(e,s)=>({...$,getComponent:()=>{const{processList:t,actualProcess:r}=s(),c=()=>m(()=>import("./build-LjKvd57k.js"),__vite__mapDeps([21,1,2,22,5,6,8,19,20,23,24,16,17]));return t.find(d=>d.name===r).component??c},getBackProcess:()=>{const{processList:t,actualProcess:r}=s();return t.find(c=>c.name===r).backProcess??o.REGISTER},setLastProcess:t=>{e(r=>({lastProcess:{name:(t==null?void 0:t.name)||null,info:(t==null?void 0:t.info)||null}}))},setActualProcess:t=>{e(r=>({actualProcess:t})),t===o.REGISTER&&(localStorage.removeItem("token"),delete u.defaults.headers.common.Authorization)},setToken:t=>{e(r=>({token:t})),localStorage.setItem("token",t),u.defaults.headers.common.Authorization=`Bearer ${t}`},setResume:t=>{e(r=>({resume:t}))}}),I=v(H),K=()=>{const e=I(i=>i.getComponent),s=I(i=>i.getBackProcess),t=I(i=>i,F),{actualProcess:r,setToken:c,setActualProcess:d,setResume:f,token:R,resume:O}=t,{data:E,isSuccess:g}=q({enabled:!!R});_.useEffect(()=>{f(E&&g?E:null)},[E,g]),_.useEffect(()=>{r===o.REGISTER&&(c(null),f(null))},[r,c]);const p=()=>{const i=s();d(i)},C=_.useMemo(()=>_.lazy(e()),[r]);return a.jsx(P,{sx:{height:{xs:"100%",sm:"100%",md:"100%",lg:"100vh",xl:"100vh"},display:"flex",flexDirection:"column",overflow:"auto",zIndex:1},children:a.jsxs(_.Suspense,{fallback:a.jsx(Q,{}),children:[r!==o.REGISTER&&a.jsx(M,{m:5,mb:0,direction:"row",children:a.jsx(L,{onClick:p,children:"< Regresar"})}),a.jsx(P,{m:5,height:1,children:a.jsx(C,{store:t})})]})})},Q=()=>a.jsx(P,{sx:{position:"relative",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(1px)",zIndex:e=>e.zIndex.modal-1},children:a.jsx(D,{})}),X="/app/assets/img/integracion-tecnologica.png",Y=w("div")(({theme:e})=>({top:0,left:0,right:0,bottom:0,zIndex:8,position:"absolute",backgroundColor:z(e.palette.grey[900],.1)}));function J(){return a.jsx(j,{title:"Registro Comercio",children:a.jsxs(S,{container:!0,spacing:0,component:"main",justifyContent:"center",height:"100vH",children:[a.jsx(S,{item:!0,elevation:0,xs:!1,sm:!1,md:6,xl:7,children:a.jsxs(P,{sx:{position:"relative",display:{xs:"none",md:"flex"},height:1,backgroundColor:"#161C24"},children:[a.jsx(Y,{}),a.jsx(P,{component:A.LazyLoadImage,wrapperClassName:"wrapper",effect:"blur",placeholderSrc:"https://zone-assets-api.vercel.app/assets/img_placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},src:X})]})}),a.jsx(S,{item:!0,xs:12,sm:12,md:6,xl:5,alignItems:"center",justify:"center",sx:{overflow:"auto"},children:a.jsx(K,{})})]})})}const ne=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{G as C,re as a,ne as b,ee as c,oe as d,te as g,ae as p,se as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/build-qMHnLEO5.js","assets/js/index-x-tL3MOy.js","assets/css/build-pvjN466W.css","assets/js/build-RTCxoqUU.js","assets/js/build-ZG848vs0.js","assets/js/build-mZf3ZGCw.js","assets/js/build-rDZAP2eW.js","assets/js/build-P_JIiLI3.js","assets/js/build-A0pkRIS4.js","assets/js/build-Nd1r18oH.js","assets/js/build-KQPXbBF7.js","assets/js/build-6GviBVcj.js","assets/js/build-GMGSYTt0.js","assets/js/build-X17nEj_0.js","assets/js/build-Pt2-zlVs.js","assets/js/build-3JmeY1AD.js","assets/js/build-EckPbxwb.js","assets/js/build-fO9Z8l-Y.js","assets/js/build-pMdo3YsM.js","assets/js/build-rpXEAXXV.js","assets/js/build-y9ucAZ9F.js","assets/js/build-LjKvd57k.js","assets/js/build-ZSb9JGkZ.js","assets/js/build-tMkfPQgs.js","assets/js/build-XMbFjTpc.js","assets/js/build-DUtKtDIy.js","assets/js/build-3043n8LK.js","assets/js/build-zH8OCAbq.js","assets/js/build-zEF68lUW.js","assets/js/build-TmPCBBAV.js","assets/js/build-wNohVhfQ.js","assets/js/build-FpRAUJlg.js","assets/js/build-Kbx5ZuUJ.js","assets/js/build-Uc7vb3zK.js","assets/js/build-Q1bOWlNZ.js","assets/js/build-3CbYQ0nT.js","assets/js/build-cisrYsKt.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}