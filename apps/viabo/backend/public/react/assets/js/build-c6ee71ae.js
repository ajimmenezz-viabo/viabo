import{ah as De,ai as We,Z as G,aj as gt,ak as yt,aa as I,r as u,al as He,a8 as Be,am as Q,j as s,an as Ve,ao as Ut,ap as St,aq as Ct,n as jt,ar as me,as as Ae,at as Qt,y as he,au as ne,av as lt,ag as ie,k as Tt,a as qt,a0 as ae,g as Me,b as $e,d as Ge,ae as wt,aw as Zt,ax as Jt,S as C,a3 as mt,B as N,T as m,V as Xe,X as Et,D as M,ay as ct,az as es,H as ke,O as ts,p as Ee,I as ss,m as ue,aA as Ke,aB as os,af as ns,Q as rs,N as as,_ as is,a2 as ls,a4 as cs,aC as ds,a1 as us,aD as ps,P as hs,a5 as xs,aE as fs,aF as bs}from"./index-940cbd95.js";import{K as gs,d as ys,T as we,e as Ss,f as Cs,g as js,h as H,i as Ts,M as It,a as Bt,j as ws,F as ms,b as Es,c as Is,l as Bs}from"./build-e43ddf1a.js";import{f as pe,A as Ie,L as Ms}from"./build-5c0b3e2f.js";import{C as vs}from"./build-99668cc3.js";import{n as Se,m as dt,b as Ls,H as Ps}from"./build-b3d80aba.js";import{M as Os}from"./build-5bb2e343.js";import{G as Ce}from"./build-b8db2d74.js";import{B as As,a as Rs}from"./build-60ef5c06.js";import{g as zs,a as _s}from"./build-50a8292e.js";import{A as ks,a as Ns,C as Fs}from"./build-bedaa0b8.js";import{C as Ds}from"./build-7e296c9f.js";import{F as Ws,g as Hs}from"./build-902cdc94.js";import{F as Vs,S as $s,O as Gs}from"./build-23a2f7cc.js";import{C as Xs}from"./build-d1071ca7.js";import{L as Ks,I as Ys}from"./build-61d1d1dd.js";import{C as Ne}from"./build-cf3057a2.js";import{A as Us}from"./build-1bc14366.js";import{v as Y,a as U}from"./build-bee6630b.js";import{C as Fe}from"./build-26982e51.js";import{L as Qs,S as qs,a as Zs,b as Js,c as Re,d as ut}from"./build-a9c5bb06.js";import{E as eo}from"./build-3c6e45d2.js";import{I as to}from"./build-28bfabc9.js";import{S as so}from"./build-bb2a3b1f.js";import{D as pt}from"./build-aa3a24dd.js";let oe;function Mt(){if(oe)return oe;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),oe="reverse",e.scrollLeft>0?oe="default":(e.scrollLeft=1,e.scrollLeft===0&&(oe="negative")),document.body.removeChild(e),oe}function oo(e,t){const o=e.scrollLeft;if(t!=="rtl")return o;switch(Mt()){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}}function no(e){return We("MuiTab",e)}const ro=De("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ee=ro,ao=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],io=e=>{const{classes:t,textColor:o,fullWidth:r,wrapped:n,icon:i,label:l,selected:c,disabled:p}=e,x={root:["root",i&&l&&"labelIcon",`textColor${yt(o)}`,r&&"fullWidth",n&&"wrapped",c&&"selected",p&&"disabled"],iconWrapper:["iconWrapper"]};return Ve(x,no,t)},lo=G(gt,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${yt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>I({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ee.iconWrapper}`]:I({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ee.selected}`]:{opacity:1},[`&.${ee.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ee.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ee.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),co=u.forwardRef(function(t,o){const r=He({props:t,name:"MuiTab"}),{className:n,disabled:i=!1,disableFocusRipple:l=!1,fullWidth:c,icon:p,iconPosition:x="top",indicator:a,label:T,onChange:E,onClick:y,onFocus:j,selected:w,selectionFollowsFocus:B,textColor:z="inherit",value:v,wrapped:f=!1}=r,A=Be(r,ao),L=I({},r,{disabled:i,disableFocusRipple:l,selected:w,icon:!!p,iconPosition:x,label:!!T,fullWidth:c,textColor:z,wrapped:f}),D=io(L),V=p&&T&&u.isValidElement(p)?u.cloneElement(p,{className:Q(D.iconWrapper,p.props.className)}):p,b=O=>{!w&&E&&E(O,v),y&&y(O)},P=O=>{B&&!w&&E&&E(O,v),j&&j(O)};return s.jsxs(lo,I({focusRipple:!l,className:Q(D.root,n),ref:o,role:"tab","aria-selected":w,disabled:i,onClick:b,onFocus:P,ownerState:L,tabIndex:w?0:-1},A,{children:[x==="top"||x==="start"?s.jsxs(u.Fragment,{children:[V,T]}):s.jsxs(u.Fragment,{children:[T,V]}),a]}))}),uo=co;function po(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function ho(e,t,o,r={},n=()=>{}){const{ease:i=po,duration:l=300}=r;let c=null;const p=t[e];let x=!1;const a=()=>{x=!0},T=E=>{if(x){n(new Error("Animation cancelled"));return}c===null&&(c=E);const y=Math.min(1,(E-c)/l);if(t[e]=i(y)*(o-p)+p,y>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(T)};return p===o?(n(new Error("Element already at target position")),a):(requestAnimationFrame(T),a)}const xo=["onChange"],fo={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function bo(e){const{onChange:t}=e,o=Be(e,xo),r=u.useRef(),n=u.useRef(null),i=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return Ut(()=>{const l=St(()=>{const p=r.current;i(),p!==r.current&&t(r.current)}),c=Ct(n.current);return c.addEventListener("resize",l),()=>{l.clear(),c.removeEventListener("resize",l)}},[t]),u.useEffect(()=>{i(),t(r.current)},[t]),s.jsx("div",I({style:fo,ref:n},o))}function go(e){return We("MuiTabScrollButton",e)}const yo=De("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),So=yo,Co=["className","slots","slotProps","direction","orientation","disabled"],jo=e=>{const{classes:t,orientation:o,disabled:r}=e;return Ve({root:["root",o,r&&"disabled"]},go,t)},To=G(gt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})(({ownerState:e})=>I({width:40,flexShrink:0,opacity:.8,[`&.${So.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),wo=u.forwardRef(function(t,o){var r,n;const i=He({props:t,name:"MuiTabScrollButton"}),{className:l,slots:c={},slotProps:p={},direction:x}=i,a=Be(i,Co),E=jt().direction==="rtl",y=I({isRtl:E},i),j=jo(y),w=(r=c.StartScrollButtonIcon)!=null?r:gs,B=(n=c.EndScrollButtonIcon)!=null?n:ys,z=me({elementType:w,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),v=me({elementType:B,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return s.jsx(To,I({component:"div",className:Q(j.root,l),ref:o,role:null,ownerState:y,tabIndex:null},a,{children:x==="left"?s.jsx(w,I({},z)):s.jsx(B,I({},v))}))}),mo=wo;function Eo(e){return We("MuiTabs",e)}const Io=De("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ze=Io,Bo=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ht=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,xt=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,je=(e,t,o)=>{let r=!1,n=o(e,t);for(;n;){if(n===e.firstChild){if(r)return;r=!0}const i=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||i)n=o(e,n);else{n.focus();return}}},Mo=e=>{const{vertical:t,fixed:o,hideScrollbar:r,scrollableX:n,scrollableY:i,centered:l,scrollButtonsHideMobile:c,classes:p}=e;return Ve({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",r&&"hideScrollbar",n&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Eo,p)},vo=G("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ze.scrollButtons}`]:t.scrollButtons},{[`& .${ze.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>I({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${ze.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Lo=G("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})(({ownerState:e})=>I({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Po=G("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})(({ownerState:e})=>I({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Oo=G("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>I({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Ao=G(bo)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ft={},Ro=u.forwardRef(function(t,o){const r=He({props:t,name:"MuiTabs"}),n=jt(),i=n.direction==="rtl",{"aria-label":l,"aria-labelledby":c,action:p,centered:x=!1,children:a,className:T,component:E="div",allowScrollButtonsMobile:y=!1,indicatorColor:j="primary",onChange:w,orientation:B="horizontal",ScrollButtonComponent:z=mo,scrollButtons:v="auto",selectionFollowsFocus:f,slots:A={},slotProps:L={},TabIndicatorProps:D={},TabScrollButtonProps:V={},textColor:b="primary",value:P,variant:O="standard",visibleScrollbar:q=!1}=r,xe=Be(r,Bo),F=O==="scrollable",W=B==="vertical",le=W?"scrollTop":"scrollLeft",fe=W?"top":"left",be=W?"bottom":"right",ve=W?"clientHeight":"clientWidth",ce=W?"height":"width",Z=I({},r,{component:E,allowScrollButtonsMobile:y,indicatorColor:j,orientation:B,vertical:W,scrollButtons:v,textColor:b,variant:O,visibleScrollbar:q,fixed:!F,hideScrollbar:F&&!q,scrollableX:F&&!W,scrollableY:F&&W,centered:x&&!F,scrollButtonsHideMobile:!y}),X=Mo(Z),zt=me({elementType:A.StartScrollButtonIcon,externalSlotProps:L.startScrollButtonIcon,ownerState:Z}),_t=me({elementType:A.EndScrollButtonIcon,externalSlotProps:L.endScrollButtonIcon,ownerState:Z}),[Ye,kt]=u.useState(!1),[J,Ue]=u.useState(ft),[Qe,Nt]=u.useState(!1),[qe,Ft]=u.useState(!1),[Ze,Dt]=u.useState(!1),[Je,Wt]=u.useState({overflow:"hidden",scrollbarWidth:0}),et=new Map,$=u.useRef(null),se=u.useRef(null),tt=()=>{const d=$.current;let h;if(d){const S=d.getBoundingClientRect();h={clientWidth:d.clientWidth,scrollLeft:d.scrollLeft,scrollTop:d.scrollTop,scrollLeftNormalized:oo(d,n.direction),scrollWidth:d.scrollWidth,top:S.top,bottom:S.bottom,left:S.left,right:S.right}}let g;if(d&&P!==!1){const S=se.current.children;if(S.length>0){const _=S[et.get(P)];g=_?_.getBoundingClientRect():null}}return{tabsMeta:h,tabMeta:g}},de=Ae(()=>{const{tabsMeta:d,tabMeta:h}=tt();let g=0,S;if(W)S="top",h&&d&&(g=h.top-d.top+d.scrollTop);else if(S=i?"right":"left",h&&d){const K=i?d.scrollLeftNormalized+d.clientWidth-d.scrollWidth:d.scrollLeft;g=(i?-1:1)*(h[S]-d[S]+K)}const _={[S]:g,[ce]:h?h[ce]:0};if(isNaN(J[S])||isNaN(J[ce]))Ue(_);else{const K=Math.abs(J[S]-_[S]),ye=Math.abs(J[ce]-_[ce]);(K>=1||ye>=1)&&Ue(_)}}),Le=(d,{animation:h=!0}={})=>{h?ho(le,$.current,d,{duration:n.transitions.duration.standard}):$.current[le]=d},st=d=>{let h=$.current[le];W?h+=d:(h+=d*(i?-1:1),h*=i&&Mt()==="reverse"?-1:1),Le(h)},ot=()=>{const d=$.current[ve];let h=0;const g=Array.from(se.current.children);for(let S=0;S<g.length;S+=1){const _=g[S];if(h+_[ve]>d){S===0&&(h=d);break}h+=_[ve]}return h},Ht=()=>{st(-1*ot())},Vt=()=>{st(ot())},$t=u.useCallback(d=>{Wt({overflow:null,scrollbarWidth:d})},[]),Gt=()=>{const d={};d.scrollbarSizeListener=F?s.jsx(Ao,{onChange:$t,className:Q(X.scrollableX,X.hideScrollbar)}):null;const g=F&&(v==="auto"&&(Qe||qe)||v===!0);return d.scrollButtonStart=g?s.jsx(z,I({slots:{StartScrollButtonIcon:A.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:zt},orientation:B,direction:i?"right":"left",onClick:Ht,disabled:!Qe},V,{className:Q(X.scrollButtons,V.className)})):null,d.scrollButtonEnd=g?s.jsx(z,I({slots:{EndScrollButtonIcon:A.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:_t},orientation:B,direction:i?"left":"right",onClick:Vt,disabled:!qe},V,{className:Q(X.scrollButtons,V.className)})):null,d},nt=Ae(d=>{const{tabsMeta:h,tabMeta:g}=tt();if(!(!g||!h)){if(g[fe]<h[fe]){const S=h[le]+(g[fe]-h[fe]);Le(S,{animation:d})}else if(g[be]>h[be]){const S=h[le]+(g[be]-h[be]);Le(S,{animation:d})}}}),rt=Ae(()=>{F&&v!==!1&&Dt(!Ze)});u.useEffect(()=>{const d=St(()=>{$.current&&de()}),h=Ct($.current);h.addEventListener("resize",d);let g;return typeof ResizeObserver<"u"&&(g=new ResizeObserver(d),Array.from(se.current.children).forEach(S=>{g.observe(S)})),()=>{d.clear(),h.removeEventListener("resize",d),g&&g.disconnect()}},[de]),u.useEffect(()=>{const d=Array.from(se.current.children),h=d.length;if(typeof IntersectionObserver<"u"&&h>0&&F&&v!==!1){const g=d[0],S=d[h-1],_={root:$.current,threshold:.99},K=Oe=>{Nt(!Oe[0].isIntersecting)},ye=new IntersectionObserver(K,_);ye.observe(g);const Yt=Oe=>{Ft(!Oe[0].isIntersecting)},it=new IntersectionObserver(Yt,_);return it.observe(S),()=>{ye.disconnect(),it.disconnect()}}},[F,v,Ze,a==null?void 0:a.length]),u.useEffect(()=>{kt(!0)},[]),u.useEffect(()=>{de()}),u.useEffect(()=>{nt(ft!==J)},[nt,J]),u.useImperativeHandle(p,()=>({updateIndicator:de,updateScrollButtons:rt}),[de,rt]);const at=s.jsx(Oo,I({},D,{className:Q(X.indicator,D.className),ownerState:Z,style:I({},J,D.style)}));let ge=0;const Xt=u.Children.map(a,d=>{if(!u.isValidElement(d))return null;const h=d.props.value===void 0?ge:d.props.value;et.set(h,ge);const g=h===P;return ge+=1,u.cloneElement(d,I({fullWidth:O==="fullWidth",indicator:g&&!Ye&&at,selected:g,selectionFollowsFocus:f,onChange:w,textColor:b,value:h},ge===1&&P===!1&&!d.props.tabIndex?{tabIndex:0}:{}))}),Kt=d=>{const h=se.current,g=Qt(h).activeElement;if(g.getAttribute("role")!=="tab")return;let _=B==="horizontal"?"ArrowLeft":"ArrowUp",K=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&i&&(_="ArrowRight",K="ArrowLeft"),d.key){case _:d.preventDefault(),je(h,g,xt);break;case K:d.preventDefault(),je(h,g,ht);break;case"Home":d.preventDefault(),je(h,null,ht);break;case"End":d.preventDefault(),je(h,null,xt);break}},Pe=Gt();return s.jsxs(vo,I({className:Q(X.root,T),ownerState:Z,ref:o,as:E},xe,{children:[Pe.scrollButtonStart,Pe.scrollbarSizeListener,s.jsxs(Lo,{className:X.scroller,ownerState:Z,style:{overflow:Je.overflow,[W?`margin${i?"Left":"Right"}`:"marginBottom"]:q?void 0:-Je.scrollbarWidth},ref:$,children:[s.jsx(Po,{"aria-label":l,"aria-labelledby":c,"aria-orientation":B==="vertical"?"vertical":null,className:X.flexContainer,ownerState:Z,onKeyDown:Kt,ref:se,role:"tablist",children:Xt}),Ye&&at]}),Pe.scrollButtonEnd]}))}),zo=Ro;function _o(e){const[t,o]=u.useState(e||"");return{currentTab:t,onChangeTab:(r,n)=>{o(n)},setCurrentTab:o}}const ko=he(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),No=he(s.jsx("path",{d:"M9.01 14H3c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V14zm5.98-2.21V10H21c.55 0 1-.45 1-1s-.45-1-1-1h-6.01V6.21c0-.45-.54-.67-.85-.35l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.31.85.09.85-.36z"}),"CompareArrowsRounded"),vt=he(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8.46 14.45l-1.36-.62c.28-.61.41-1.24.4-1.86-.01-.63-.14-1.24-.4-1.8l1.36-.63c.35.75.53 1.56.54 2.4.01.86-.17 1.7-.54 2.51zm3.07 1.56-1.3-.74c.52-.92.78-1.98.78-3.15 0-1.19-.27-2.33-.8-3.4l1.34-.67c.64 1.28.96 2.65.96 4.07 0 1.43-.33 2.74-.98 3.89zm3.14 1.32-1.35-.66c.78-1.6 1.18-3.18 1.18-4.69 0-1.51-.4-3.07-1.18-4.64l1.34-.67c.9 1.78 1.34 3.56 1.34 5.31 0 1.74-.44 3.54-1.33 5.35z"}),"ContactlessSharp"),Fo=he(s.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link"),Do=he(s.jsx("path",{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 4H7V4h10v2zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2zm-1.47-11.81C18.21 9.47 17.49 9 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20l-3.47-7.81zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5z"}),"PointOfSale"),Wo=e=>{const t=(e==null?void 0:e.distance)||160,o=e==null?void 0:e.durationIn,r=e==null?void 0:e.durationOut,n=e==null?void 0:e.easeIn,i=e==null?void 0:e.easeOut;return{inUp:{initial:{y:t},animate:{y:0,transition:Y({durationIn:o,easeIn:n})},exit:{y:t,transition:U({durationOut:r,easeOut:i})}},inDown:{initial:{y:-t},animate:{y:0,transition:Y({durationIn:o,easeIn:n})},exit:{y:-t,transition:U({durationOut:r,easeOut:i})}},inLeft:{initial:{x:-t},animate:{x:0,transition:Y({durationIn:o,easeIn:n})},exit:{x:-t,transition:U({durationOut:r,easeOut:i})}},inRight:{initial:{x:t},animate:{x:0,transition:Y({durationIn:o,easeIn:n})},exit:{x:t,transition:U({durationOut:r,easeOut:i})}},outUp:{initial:{y:0},animate:{y:-t,transition:Y({durationIn:o,easeIn:n})},exit:{y:0,transition:U({durationOut:r,easeOut:i})}},outDown:{initial:{y:0},animate:{y:t,transition:Y({durationIn:o,easeIn:n})},exit:{y:0,transition:U({durationOut:r,easeOut:i})}},outLeft:{initial:{x:0},animate:{x:-t,transition:Y({durationIn:o,easeIn:n})},exit:{x:0,transition:U({durationOut:r,easeOut:i})}},outRight:{initial:{x:0},animate:{x:t,transition:Y({durationIn:o,easeIn:n})},exit:{x:0,transition:U({durationOut:r,easeOut:i})}}}},te={LIST:"commerce-terminals",MOVEMENTS:"terminal-movements",CONCILIATE_MOVEMENTS:"conciliate-movements"},Ho=e=>(e==null?void 0:e.map(t=>{var o,r,n,i;return{id:t==null?void 0:t.id,commerceId:t==null?void 0:t.commerceId,terminalId:t==null?void 0:t.terminalId,terminalON:((o=t==null?void 0:t.apiData)==null?void 0:o.status)===1,country:(r=t==null?void 0:t.apiData)==null?void 0:r.country,date:{created:(n=t==null?void 0:t.apiData)==null?void 0:n.created_at,updated:(i=t==null?void 0:t.apiData)==null?void 0:i.updated_at,register:t==null?void 0:t.registerDate},isVirtual:(t==null?void 0:t.typeId)==="1",name:(t==null?void 0:t.name)!==""?t==null?void 0:t.name.toString().toUpperCase():`TERMINAL-${t==null?void 0:t.terminalId}`,active:(t==null?void 0:t.active)==="1",isExternalConciliation:!!(t!=null&&t.isConciliationExternal)}}))||[],Vo=(e,t,o)=>{var n,i;const r=(t==null?void 0:t.map(l=>{var c,p;return{transactionId:(c=l==null?void 0:l.id)==null?void 0:c.toString(),amount:(p=l==null?void 0:l.amount)==null?void 0:p.toString()}}))??[];return{terminalId:e==null?void 0:e.terminalId,speiCardTransactionId:(n=o==null?void 0:o.id)==null?void 0:n.toString(),speiCardTransactionAmount:(i=o==null?void 0:o.amount)==null?void 0:i.toString(),transactions:r}},$o=e=>vs(e),Go=e=>{var n,i,l,c,p,x;const t=((n=e==null?void 0:e.movements)==null?void 0:n.map(a=>{const T=parseFloat((a==null?void 0:a.amount)||"0"),E=a!=null&&a.transaction_date?ne(Se(a==null?void 0:a.transaction_date),"dd MMM yyyy",{locale:lt}):"",y=a!=null&&a.transaction_date?ne(Se(a==null?void 0:a.transaction_date),"p"):"";return{id:a==null?void 0:a.id,terminalName:a==null?void 0:a.terminal_name,amount:T,amountFormat:pe(T),approved:a==null?void 0:a.approved,cardType:a==null?void 0:a.card_brand,cardNumber:a==null?void 0:a.card_number,cardBank:a==null?void 0:a.issuer,transactionDate:{fullDate:ne(Se(a==null?void 0:a.transaction_date),"dd MMM yyyy HH:mm",{locale:lt}),date:E,time:y},date:Se(a==null?void 0:a.transaction_date),description:`${(a==null?void 0:a.issuer)===""?a==null?void 0:a.card_brand:a==null?void 0:a.issuer}-${a==null?void 0:a.card_number}`.toUpperCase(),transactionMessage:a==null?void 0:a.result_message,conciliated:!!(a!=null&&a.conciliated),conciliatedName:a!=null&&a.conciliated?"Conciliada":"Sin Conciliar"}}))??[],o={amount:pe((i=e==null?void 0:e.balance)==null?void 0:i.amount),month:(c=(l=e==null?void 0:e.balance)==null?void 0:l.month)==null?void 0:c.toLowerCase()},r={status:{all:(t==null?void 0:t.length)||0,approved:((p=t==null?void 0:t.filter(a=>a==null?void 0:a.approved))==null?void 0:p.length)||0,rejected:((x=t==null?void 0:t.filter(a=>!(a!=null&&a.approved)))==null?void 0:x.length)||0}};return{movements:t,balance:o,filters:r}},Xo=async()=>{const{data:e}=await ie.get("/api/commerces/terminals");return Ho(e)},Un=async e=>{const{data:t}=await ie.post("/api/commerce/pay/new",e);return t},Qn=async e=>{const{data:t}=await ie.post("/api/commerce/virtual/pay",e);return t},Ko=async(e,t,o)=>{const r=e?`?fromDate=${t}&toDate=${o}&terminalId=${e}`:`?fromDate=${t}&toDate=${o}`,{data:n}=await ie.get(`/api/commerces-pay/transactions/all${r}`);return Go(n)},Yo=async(e,t)=>{const{data:o}=await ie.get(`/api/card/movements/${e}/consolidated/${t}`);return $o(o)},Uo=async e=>{const{data:t}=await ie.post("/api/commerce/terminal/consolidation/create",e);return t},Qo=(e={})=>{const t=Tt(),o=qt(Uo,e);return{...o,mutate:async(n,i)=>{const{onSuccess:l,onError:c,mutationOptions:p}=i;try{await ae.promise(o.mutateAsync(n,p),{pending:"Conciliando movimientos de la terminal ...",success:{render({data:x}){return t.invalidateQueries([te.MOVEMENTS,n==null?void 0:n.terminalId]),l(x),"Se creó la conciliación con éxito"}}})}catch(x){const a=Me(x,"No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas");c(a),ae.error(a,{type:$e(x)})}}}},qo=(e={})=>{const[t,o]=u.useState(null);return{...Ge([te.LIST],Xo,{staleTime:6e4,refetchOnMount:"always",onError:n=>{const i=Me(n,"No se puede obtener la lista de terminales del comercio. Intente nuevamente o reporte a sistemas");o(i)},...e}),error:t||null}},Zo=(e,t,o={})=>{const r=ne(t,"yyyy-MM-dd"),[n,i]=u.useState(null),l=e?[te.CONCILIATE_MOVEMENTS,e]:[te.MOVEMENTS,"global"];return{...Ge(l,({signal:p})=>Yo(e,r),{staleTime:6e4,refetchOnWindowFocus:!1,onError:p=>{const x=Me(p,"No se puede obtener la lista de movimientos para conciliar la terminal. Intente nuevamente o reporte a sistemas");i(x),ae.error(x,{type:$e(p)})},...o}),error:n||null}},Te={terminal:null,conciliateInfo:{movements:null,total:0,date:null},openConciliate:!1},Jo=(e,t)=>({...Te,setTerminal:o=>{const{terminal:r}=t();e(n=>({terminal:{...r,...o}}),!1,"SET_TERMINAL_SELECTED")},resetTerminal:()=>{e(o=>({terminal:null}),!1,"RESET_TERMINAL_SELECTED")},addTerminalInfo:o=>{const{terminal:r}=t();e(n=>({terminal:{...r,...o}}),!1,"SET_TERMINAL_INFO")},setOpenConciliate:o=>{e(r=>({openConciliate:o}),!1,"SET_OPEN_CONCILIATE")},setConciliateMovements:o=>{let r=Te==null?void 0:Te.conciliateInfo;if(o){o==null||o.sort((l,c)=>l.date-c.date);const n=(o==null?void 0:o.length)>0&&o[0],i=o.reduce((l,c)=>l+(c==null?void 0:c.amount),0);r={movements:o,total:i,date:n==null?void 0:n.date}}e(n=>({conciliateInfo:r}),!1,"SET_CONCILIATE_MOVEMENTS")}}),k=wt(Jo),_e={terminals:[],isOpenList:!1,isCollapse:!1,balance:{amount:"$0.00",month:null},globalBalance:{amount:"$0.00",month:null}},en=(e,t)=>({..._e,setTerminals:o=>{e(r=>({terminals:o}),!1,"SET_TERMINALS")},setOpenList:o=>{e(r=>({isOpenList:o}),!1,"SET_OPEN_LIST")},setCollapse:o=>{e(r=>({isCollapse:o}),!1,"SET_COLLAPSE")},setBalance:o=>{e(r=>({balance:o}),!1,"SET_BALANCE")},setGlobalBalance:o=>{e(r=>({globalBalance:o}),!1,"SET_GLOBAL_BALANCE")},resetBalance:()=>{e(o=>({balance:_e.balance}),!1,"RESET_BALANCE")},resetGlobalBalance:()=>{e(o=>({globalBalance:_e.globalBalance}),!1,"RESET_BALANCE")}}),R=wt(en),tn=(e,t,o={})=>{const r=R(y=>y.resetBalance),n=R(y=>y.resetGlobalBalance),i=Zt(t),l=Jt(t),c=ne(i,"yyyy-MM-dd"),p=ne(l,"yyyy-MM-dd"),[x,a]=u.useState(null),T=e?[te.MOVEMENTS,e]:[te.MOVEMENTS,"global"];return{...Ge(T,({signal:y})=>Ko(e,c,p),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:y=>{const j=Me(y,"No se puede obtener la lista de movimientos de la terminal. Intente nuevamente o reporte a sistemas");a(j),ae.error(j,{type:$e(y)}),e?r():n()},...o}),error:x||null}},sn=G(we)(({theme:e})=>({"& td":{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),backgroundColor:e.palette.background.neutral}})),on=()=>{const e=k(f=>f.setOpenConciliate),t=k(f=>f.openConciliate),o=k(f=>f.setConciliateMovements),{movements:r,total:n,date:i}=k(f=>f.conciliateInfo),l=k(f=>f.terminal),c=u.useRef(null),{data:p,error:x,isError:a,isFetching:T,isLoading:E}=Zo(l==null?void 0:l.terminalId,i,{enabled:!!(l&&i)}),{mutate:y,isLoading:j}=Qo(),w=Tt(),B=()=>{e(!1),o(null),w.removeQueries([te.CONCILIATE_MOVEMENTS,l==null?void 0:l.terminalId])},z=()=>{var A,L;const f=(A=c.current)==null?void 0:A.getSelectedRowModel().flatRows;if((f==null?void 0:f.length)>0){const D=Vo(l,r,(L=f[0])==null?void 0:L.original);y(D,{onSuccess:()=>{B()},onError:()=>{}})}else ae.warn("Debe seleccionar un movimiento de la tarjeta para conciliar los movimientos de la terminal")},v=[{id:"card",header:"Movimientos Tarjeta Asociada",columns:[{accessorKey:"description",header:"Movimiento",size:100},{accessorKey:"date",header:"Fecha",size:130},{accessorKey:"amountFormat",header:"Monto",size:100}]}];return s.jsx(Os,{onClose:B,onSuccess:z,isSubmitting:j,fullWidth:!0,scrollType:"body",title:`Conciliar Movimientos ${l==null?void 0:l.name}`,textButtonSuccess:"Conciliar",maxWidth:"md",open:t,children:s.jsx(C,{pt:3,children:s.jsxs(Ce,{container:!0,spacing:{xs:2},children:[s.jsx(Ce,{item:!0,xs:12,md:5,children:s.jsx(mt,{children:s.jsx(Ss,{sx:{minWidth:200},children:s.jsxs(Cs,{size:"small",children:[s.jsxs(js,{sx:{borderBottom:f=>`solid 1px ${f.palette.divider}`},children:[s.jsx(we,{children:s.jsx(H,{align:"center",colSpan:3,children:"Movimientos Terminal"})}),s.jsxs(we,{children:[s.jsx(H,{width:40,children:"#"}),s.jsx(H,{align:"left",children:"Descripción"}),s.jsx(H,{align:"right",children:"Monto"})]})]}),s.jsxs(Ts,{children:[r==null?void 0:r.map((f,A)=>{var L;return s.jsxs(we,{sx:{borderBottom:D=>`solid 1px ${D.palette.divider}`},children:[s.jsx(H,{children:A+1}),s.jsx(H,{align:"left",children:s.jsxs(N,{sx:{maxWidth:180},children:[s.jsx(m,{variant:"subtitle2",children:f==null?void 0:f.description}),s.jsx(m,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:(L=f==null?void 0:f.transactionDate)==null?void 0:L.fullDate})]})}),s.jsx(H,{align:"right",children:pe(f==null?void 0:f.amount)})]},A)}),s.jsxs(sn,{children:[s.jsx(H,{colSpan:1}),s.jsx(H,{align:"right",children:s.jsx(m,{variant:"h6",children:"Total"})}),s.jsx(H,{align:"right",width:140,children:s.jsx(m,{variant:"h6",children:pe(n)})})]})]})]})})})}),s.jsx(Ce,{item:!0,xs:12,md:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(N,{display:"flex",alignItems:"center",justifyContent:"center",children:s.jsx(No,{fontSize:"large",color:"primary"})})}),s.jsx(Ce,{item:!0,xs:12,md:6,children:s.jsx(It,{enablePinning:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowSelection:!0,enableMultiRowSelection:!1,positionActionsColumn:"last",enableDensityToggle:!1,columns:v||[],data:(p==null?void 0:p.movements)||[],isError:a,textError:x,tableInstanceRef:c,initialState:{density:"compact",sorting:[{id:"date",desc:!0}]},state:{isLoading:E,showAlertBanner:a,showProgressBars:T},muiTablePaperProps:{elevation:0,sx:f=>({borderRadius:0,backgroundColor:f.palette.background.neutral})},muiBottomToolbarProps:{sx:f=>({backgroundColor:f.palette.background.neutral})},muiTopToolbarProps:{sx:f=>({backgroundColor:f.palette.background.neutral})},displayColumnDefOptions:{"mrt-row-select":{size:12,header:""}},renderToolbarInternalActions:({table:f})=>s.jsx(N,{children:s.jsx(Bt,{table:f})}),muiTableContainerProps:{sx:{maxHeight:"md"}}})})]})})})},nn=Object.freeze(Object.defineProperty({__proto__:null,default:on},Symbol.toStringTag,{value:"Module"})),rn=e=>[{id:"terminal",header:`${e?e==null?void 0:e.name:"Global"}`,columns:[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r,i=n==null?void 0:n.approved,l=zs(n==null?void 0:n.cardType),c=l==null?void 0:l.component;return s.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[s.jsxs(N,{sx:{position:"relative"},children:[s.jsx(Xe,{title:n==null?void 0:n.cardType,children:s.jsx(Et,{sx:{width:40,height:40,color:"text.secondary",bgcolor:"background.neutral"},children:l?s.jsx(c,{sx:{width:25,height:25}}):s.jsx(ks,{width:25,height:25})})}),s.jsx(N,{sx:{right:0,bottom:0,width:15,height:15,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",color:"common.white",bgcolor:"error.main",justifyContent:"center",...i&&{bgcolor:"success.main"}},children:i?s.jsx(Ds,{sx:{width:12,height:12}}):s.jsx(ko,{sx:{width:12,height:12}})})]}),s.jsxs(N,{sx:{ml:2},children:[s.jsx(m,{variant:"subtitle2",sx:{textWrap:"wrap"},children:n==null?void 0:n.description}),s.jsx(m,{variant:"body2",textTransform:"capitalize",sx:{color:i?"success.main":"error.main",textWrap:"wrap"},children:n==null?void 0:n.transactionMessage})]})]})}},...e?[]:[{accessorKey:"terminalName",header:"Terminal",size:100,Cell:({cell:t,column:o,row:r,renderedCellValue:n})=>{const{original:i}=r;return s.jsx(m,{variant:"subtitle2",fontWeight:"bold",children:i==null?void 0:i.terminalName})}}],{accessorKey:"date",header:"Fecha",size:100,Cell:({cell:t,column:o,row:r,renderedCellValue:n})=>{var l,c;const{original:i}=r;return s.jsxs(C,{children:[s.jsx(m,{variant:"subtitle2",children:(l=i==null?void 0:i.transactionDate)==null?void 0:l.date}),s.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:(c=i==null?void 0:i.transactionDate)==null?void 0:c.time})]})}},{accessorKey:"amountFormat",header:"Monto",size:100,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r;return s.jsx(m,{variant:"subtitle2",fontWeight:"bold",children:n==null?void 0:n.amountFormat})}},{accessorKey:"conciliatedName",header:"¿Conciliada?",filterVariant:"multi-select",size:110,Cell:({cell:t,column:o,row:r})=>{const{original:n}=r;return s.jsx(C,{flexDirection:"row",gap:1,color:"primary",children:n!=null&&n.conciliated?s.jsx(As,{color:"green",fontWeight:"bold",fontSize:"20px"}):s.jsx(Rs,{fontSize:"20px",color:"red"})})}}]}],an=48,ln=8,cn={PaperProps:{style:{maxHeight:an*4.5+ln,width:250}}},dn=_s(),Lt=({cardType:e,handleChangeCardType:t,isLoading:o})=>s.jsx(Vs,{sx:{minWidth:240},disabled:!!o,children:s.jsxs($s,{fullWidth:!0,multiple:!0,displayEmpty:!0,disabled:!!o,size:"small",value:e,onChange:t,input:s.jsx(Gs,{}),renderValue:r=>r.length===0?s.jsx(s.Fragment,{children:"Tarjeta"}):r.join(", "),MenuProps:cn,inputProps:{"aria-label":"Without label"},children:[s.jsx(ct,{disabled:!0,value:"",children:s.jsx("em",{children:" Seleccionar Tarjeta"})}),dn.map(r=>s.jsxs(ct,{value:r,sx:{mx:1,my:.5,p:0,borderRadius:.75,typography:"body2",textTransform:"capitalize",fontWeight:n=>e.indexOf(name)===-1?n.typography.fontWeightRegular:n.typography.fontWeightMedium},children:[s.jsx(Xs,{checked:e.indexOf(r)>-1}),s.jsx(es,{primary:r})]},r))]})}),un=u.memo(Lt);Lt.propTypes={cardType:M.array,handleChangeCardType:M.func,isLoading:M.any};const re=[{name:"Todos",id:"all",color:"primary"},{name:"Aprobado",id:"approved",color:"success"},{name:"Rechazado",id:"rejected",color:"error"}],pn=e=>re==null?void 0:re.find(t=>t.name===e),Pt=({filterStatus:e,onChangeFilterStatus:t,filters:o})=>{const r=u.useMemo(()=>re==null?void 0:re.map(n=>n.name),[]);return s.jsx(zo,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:e,onChange:t,sx:{px:2},children:r.map(n=>{const i=pn(n),l=i&&(o==null?void 0:o.status[i==null?void 0:i.id])||0;return s.jsx(uo,{icon:s.jsx(Ks,{color:i==null?void 0:i.color,children:l}),iconPosition:"end",disableRipple:!0,label:n,value:n},n)})})},hn=u.memo(Pt);Pt.propTypes={filterStatus:M.any,filters:M.shape({status:M.any}),onChangeFilterStatus:M.func};const bt=()=>{const[e,t]=u.useState(new Date),o=k(b=>b.terminal),r=k(b=>b.setConciliateMovements),n=k(b=>b.setOpenConciliate),i=R(b=>b.setBalance),l=R(b=>b.setGlobalBalance),{data:c,isFetching:p,refetch:x,isError:a,error:T,isLoading:E}=tn(o==null?void 0:o.terminalId,e,{enabled:!!(o!=null&&o.terminalId&&e)}),{currentTab:y,onChangeTab:j}=_o("Todos"),[w,B]=u.useState([]),[z,v]=u.useState({}),{movements:f,amount:A}=u.useMemo(()=>xn({movements:(c==null?void 0:c.movements)||[],filterCardType:w,filterStatus:y}),[c==null?void 0:c.movements,w,y]),L=u.useMemo(()=>rn(o),[o]),D=b=>{const{target:{value:P}}=b;B(typeof P=="string"?P.split(","):P)};u.useEffect(()=>{x(),v({})},[e]),u.useEffect(()=>{t(new Date)},[o]),u.useEffect(()=>{A&&o&&e&&i({month:dt[e.getMonth()],amount:A}),A&&!o&&e&&l({month:dt[e.getMonth()],amount:A})},[A,o,e]);const V=b=>{try{const P=b.getSortedRowModel().rows.map(O=>(L==null?void 0:L.map(q=>O.getValue(q.accessorKey)))||[])??[];Hs((L==null?void 0:L.map(O=>O.header))||[],P,"Movimientos Terminales")}catch{}};return s.jsx(Ne,{children:s.jsx(It,{enablePinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowSelection:b=>{const{conciliated:P}=b.original;return!P||!o},enableDensityToggle:!1,columns:L,data:f||[],isError:a,textError:T,selectAllMode:"all",onRowSelectionChange:v,initialState:{density:"compact",sorting:[{id:"date",desc:!0}]},state:{isLoading:E,showAlertBanner:a,showProgressBars:p,rowSelection:z??{}},displayColumnDefOptions:{"mrt-row-select":{size:10}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbar:({table:b})=>{var O;const P=()=>{var xe;const q=(xe=b.getSelectedRowModel().flatRows)==null?void 0:xe.map(F=>F==null?void 0:F.original);o!=null&&o.isExternalConciliation?ae.info("Conciliación Externa: En etapa de desarrollo 🧑🏻‍💻🚀!!"):(r(q),n(!0))};return s.jsxs(C,{children:[s.jsx(hn,{filterStatus:y,onChangeFilterStatus:j,filters:c==null?void 0:c.filters}),s.jsx(ke,{sx:{borderStyle:"dashed"}}),a&&!p&&s.jsx(ts,{severity:"error",sx:{width:1,borderRadius:0},action:s.jsx(Ee,{color:"inherit",size:"small",onClick:x,children:"Recargar"}),children:T}),s.jsxs(C,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",flex:1,spacing:2,px:2,py:1,children:[s.jsx(un,{cardType:w,handleChangeCardType:D,isLoading:p}),s.jsx(C,{flexGrow:1,children:s.jsx(Ns,{currentMonth:e,setCurrentMonth:t,isLoading:p})})]}),s.jsx(ke,{sx:{borderStyle:"dashed"}}),s.jsxs(C,{px:2,py:1,direction:"row",justifyContent:"space-between",alignItems:"center",children:[o?s.jsx(C,{children:s.jsx(Ee,{color:"info",onClick:P,disabled:((O=b.getSelectedRowModel().flatRows)==null?void 0:O.length)===0,variant:"contained",children:"Conciliar"})}):s.jsx(N,{display:"flex"}),s.jsx(ws,{table:b}),s.jsxs(N,{children:[s.jsx(Bt,{table:b}),s.jsx(Xe,{title:"Descargar",children:s.jsx(ss,{disabled:b.getPrePaginationRowModel().rows.length===0,onClick:()=>V(b),children:s.jsx(Ws,{})})}),s.jsx(ms,{table:b}),s.jsx(Es,{table:b}),s.jsx(Is,{table:b})]})]})]})},muiSelectCheckboxProps:({row:b})=>{const{approved:P,conciliated:O}=b.original;return{sx:{disabled:!!(!P&&o)||O&&o,display:!P&&o||O&&o?"none":"flex"}}}})})};function xn({movements:e,filterCardType:t,filterStatus:o}){const r=(e==null?void 0:e.map((l,c)=>[l,c]))||[];let n=0,i=r.map(l=>l[0]);return o!=="Todos"&&(i=i.filter(l=>l.approved===(o==="Aprobado"))),Bs.isArray(t)&&(t==null?void 0:t.length)>0&&(i=i.filter(l=>{var c;return t.includes((c=l==null?void 0:l.cardType)==null?void 0:c.toUpperCase())})),n=i.reduce((l,c)=>{if(c.approved){const p=parseFloat(c.amount);return l+p}return l},0),{movements:i??[],amount:pe(n.toFixed(2))}}const fn=()=>{const e=k(t=>t.terminal);return s.jsx(C,{sx:t=>({pl:{xs:0,sm:2,lg:2},overflow:"hidden",flexDirection:"column",flexGrow:1,transition:t.transitions.create(["width","flexGrow"])}),children:s.jsx(Ie,{children:s.jsxs(N,{sx:{overflowY:"auto"},children:[e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(C,{p:2,children:s.jsx(bt,{})})}),!e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(C,{p:2,children:s.jsx(bt,{})})})]})})})},bn=u.lazy(()=>Ke(()=>import("./build-ae33dc90.js"),["assets/js/build-ae33dc90.js","assets/js/index-940cbd95.js","assets/css/build-f63bc8fe.css","assets/js/build-0dc329ad.js","assets/js/build-b3d80aba.js","assets/js/build-ee8b42b7.js","assets/js/build-3bc6e6a2.js","assets/js/build-361e14c0.js","assets/js/build-4fd34fc0.js","assets/js/build-8bb1b21d.js","assets/js/build-23a2f7cc.js","assets/js/build-28bfabc9.js","assets/js/build-a69c6c4b.js","assets/js/build-e43ddf1a.js","assets/js/build-d1071ca7.js","assets/js/build-b8db2d74.js","assets/js/build-7907bfce.js","assets/js/build-61d1d1dd.js","assets/js/build-5c0b3e2f.js","assets/js/build-bee6630b.js","assets/js/build-34d25871.js","assets/js/build-b74eee1e.js","assets/js/build-5eb71976.js","assets/js/build-26c15b0d.js","assets/js/build-cf3057a2.js","assets/js/build-aa3a24dd.js","assets/js/build-3c6e45d2.js","assets/js/build-7e296c9f.js","assets/js/build-00b5f7be.js","assets/js/build-99668cc3.js","assets/js/build-5bb2e343.js","assets/js/build-60ef5c06.js","assets/js/build-7ca575cc.js","assets/js/build-50a8292e.js","assets/js/build-f2699fae.js","assets/js/build-61f88dfb.js","assets/js/build-bedaa0b8.js","assets/js/build-902cdc94.js","assets/js/build-1bc14366.js","assets/js/build-26982e51.js","assets/js/build-a9c5bb06.js","assets/js/build-bb2a3b1f.js"])),gn=u.lazy(()=>Ke(()=>import("./build-0c22cce4.js"),["assets/js/build-0c22cce4.js","assets/js/index-940cbd95.js","assets/css/build-f63bc8fe.css","assets/js/build-4fd34fc0.js","assets/js/build-a69c6c4b.js","assets/js/build-e43ddf1a.js","assets/js/build-d1071ca7.js","assets/js/build-23a2f7cc.js","assets/js/build-ee8b42b7.js","assets/js/build-b3d80aba.js","assets/js/build-3bc6e6a2.js","assets/js/build-361e14c0.js","assets/js/build-b8db2d74.js","assets/js/build-7907bfce.js","assets/js/build-28bfabc9.js","assets/js/build-61d1d1dd.js","assets/js/build-5c0b3e2f.js","assets/js/build-bee6630b.js","assets/js/build-34d25871.js","assets/js/build-f2699fae.js","assets/js/build-61f88dfb.js","assets/js/build-f1c086f0.js","assets/js/build-c169d49c.js","assets/js/build-b74eee1e.js","assets/js/build-5eb71976.js","assets/js/build-818405e0.js","assets/js/build-26c15b0d.js","assets/js/build-cf3057a2.js","assets/js/build-aa3a24dd.js","assets/js/build-3c6e45d2.js","assets/js/build-99668cc3.js","assets/js/build-5bb2e343.js","assets/js/build-60ef5c06.js","assets/js/build-7ca575cc.js","assets/js/build-50a8292e.js","assets/js/build-bedaa0b8.js","assets/js/build-7e296c9f.js","assets/js/build-902cdc94.js","assets/js/build-1bc14366.js","assets/js/build-26982e51.js","assets/js/build-a9c5bb06.js","assets/js/build-bb2a3b1f.js"])),yn=()=>{const[e,t]=u.useState(!1),[o,r]=u.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(ke,{sx:{borderStyle:"dashed"}}),s.jsxs(C,{px:2,py:1,flexDirection:"row",justifyContent:"space-between",children:[s.jsx(Ee,{startIcon:s.jsx(Fo,{}),onClick:()=>t(!0),children:"Liga de Pago"}),s.jsx(Ee,{startIcon:s.jsx(Us,{}),sx:{textWrap:"nowrap"},onClick:()=>r(!0),children:"Terminal Virtual"})]}),s.jsx(u.Suspense,{children:s.jsx(bn,{open:e,setOpen:t})}),s.jsx(u.Suspense,{children:s.jsx(gn,{open:o,setOpen:r})})]})},Sn=()=>{const e=k(r=>r.terminal),t=R(r=>r.balance),o=e?e==null?void 0:e.name:"Global";return s.jsx(Ie,{children:!!(e!=null&&e.id)&&s.jsx(ue.div,{...Wo().inLeft,children:s.jsxs(os,{sx:{boxShadow:r=>`0px 0px 15px 2px ${ns(r.palette.primary.main,.4)}`},children:[s.jsx(Fe,{title:s.jsx(C,{flexDirection:"column",gap:1,children:s.jsx(m,{variant:"subtitle1",children:o})}),sx:{px:2,py:2}}),s.jsxs(C,{alignItems:"center",pb:2,px:2,children:[s.jsxs(C,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(m,{variant:"h3",children:t.amount}),s.jsx(m,{variant:"caption",children:"MXN"})]}),(t==null?void 0:t.month)&&s.jsxs(m,{variant:"subtitle2",children:["Balance de ",t.month]})]}),(e==null?void 0:e.isVirtual)&&s.jsx(yn,{})]})})})},Cn=()=>{const e=R(n=>n.globalBalance),t=k(n=>n.resetTerminal),o=k(n=>n.terminal),r=()=>{t()};return o?s.jsx(Ie,{children:s.jsx(ue.div,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsx(Ne,{sx:n=>({cursor:"pointer","& :hover":{color:"primary.main"}}),children:s.jsx(Fe,{title:s.jsxs(C,{flexDirection:"row",gap:1,justifyContent:"space-between",children:[s.jsx(m,{variant:"subtitle1",children:"Global"}),s.jsxs(C,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(m,{variant:"caption",children:e.amount}),s.jsx(m,{variant:"caption",children:"MXN"})]})]}),sx:{px:2,py:2}})})})}):s.jsx(Ie,{children:s.jsx(ue.div,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(Ne,{sx:n=>({cursor:"pointer",backgroundColor:{xs:"background.neutral",md:"background.paper"},"& :hover":{color:"primary.main"}}),children:[s.jsx(Fe,{title:s.jsx(C,{flexDirection:"column",gap:1,children:s.jsx(m,{variant:"subtitle1",children:"Global"})}),sx:{px:2,py:2}}),s.jsxs(C,{alignItems:"center",pb:2,px:2,children:[s.jsxs(C,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(m,{variant:"h3",children:e.amount}),s.jsx(m,{variant:"caption",children:"MXN"})]}),(e==null?void 0:e.month)&&s.jsxs(m,{variant:"subtitle2",children:["Balance de ",e.month]})]})]})})})},jn=G(rs)(({theme:e})=>({borderRadius:"8px!important",width:1,justifyContent:"center",display:"flex",alignItems:"center",mb:1})),Ot=({terminal:e})=>{const t=R(l=>l.isOpenList);R(l=>l.setOpenList);const o=k(l=>l.setTerminal),r=k(l=>l.terminal);(e==null?void 0:e.id)===(r==null?void 0:r.id)&&r&&(r==null||r.cardON);const n=(e==null?void 0:e.id)===(r==null?void 0:r.id),i=l=>{var p;!((p=l.target)==null?void 0:p.type)&&!n&&o(e)};return s.jsx(Xe,{title:e==null?void 0:e.name,arrow:!0,placement:"right",children:s.jsx(Ms,{sx:{mb:1,padding:0,borderRadius:1,"& :hover":{color:"text.primary"}},disablePadding:!0,children:s.jsxs(jn,{onClick:i,sx:{...n&&{bgcolor:"secondary.light",color:"black","& :hover":{color:"text.primary"}},"& :hover":{color:"text.primary"},width:1,py:1,gap:1},children:[s.jsx(Qs,{sx:{ml:2,m:0},children:s.jsx(N,{sx:{position:"relative"},children:s.jsx(Et,{sx:l=>({width:32,height:32,m:0,backgroundColor:l.palette.primary.main,"& :hover":{color:"white"}}),children:e!=null&&e.isVirtual?s.jsx(vt,{sx:{width:20,height:20,color:"white"}}):s.jsx(Do,{sx:{width:16,height:16,color:"white"}})})})}),t&&s.jsx(s.Fragment,{children:s.jsx(C,{sx:{width:1},children:s.jsx(m,{noWrap:!0,variant:"subtitle2",children:e==null?void 0:e.name})})})]})})})};Ot.propTypes={terminal:M.shape({alias:M.any,id:M.any,isVirtual:M.any,name:M.any})};const At=({terminalsQuery:e,sx:t,...o})=>{const{isLoading:r,data:n,error:i,isError:l,refetch:c}=e,p=R(a=>a.isOpenList),x=R(a=>a.terminals);return l&&p&&!n&&!r?s.jsx(as,{errorMessage:i,handleButton:c}):n&&p&&(n==null?void 0:n.length)===0&&!r?s.jsx(eo,{pt:2.5,message:"No hay terminales activas para este comercio"}):s.jsx(is,{disablePadding:!0,sx:t,...o,children:(r?[...Array(12)]:x).map((a,T)=>a!=null&&a.id?s.jsx(Ot,{terminal:a},a==null?void 0:a.id):s.jsx(qs,{isOpenSideBar:p},T))})};At.propTypes={sx:M.any,terminalsQuery:M.shape({data:M.array,error:M.any,isError:M.any,isLoading:M.any,refetch:M.any})};const Rt=({commerceTerminals:e=[]})=>{const t=R(j=>j.isOpenList),o=R(j=>j.setOpenList),r=R(j=>j.setTerminals),n=R(j=>j.terminals),i=R(j=>j.isCollapse),[l,c]=u.useState(""),[p,x]=u.useState(!1),a=async j=>{try{const{value:w}=j.target;if(c(w),w){const B=(e==null?void 0:e.filter(z=>{var v;return(z==null?void 0:z.name)&&((v=z==null?void 0:z.name)==null?void 0:v.toLowerCase().indexOf(w.toLowerCase()))!==-1}))||[];r(B)}else r(e)}catch(w){console.error(w)}},T=()=>{t&&(c(""),r(e)),o(!t)},E=()=>{x(!0)},y=()=>{x(!1)};return u.useEffect(()=>{e&&r(e)},[e]),u.useEffect(()=>{if(!t)return x(!1)},[t]),s.jsxs(s.Fragment,{children:[s.jsx(N,{sx:{p:2,px:0},children:s.jsxs(C,{direction:"row",justifyContent:t?"flex-end":"center",alignItems:"center",spacing:2,children:[!i&&s.jsx(Fs,{onClickAway:y,children:s.jsx(Ys,{fullWidth:!0,size:"small",value:l,onFocus:E,onChange:a,placeholder:"Buscar Terminales...",InputProps:{startAdornment:s.jsx(to,{position:"start",children:s.jsx(so,{sx:{color:"text.disabled",width:20,height:20}})})}})}),s.jsx(C,{direction:"row",alignItems:"center",justifyContent:"center",children:s.jsx(Zs,{size:"small",sx:{...!t&&{transform:"rotate(180deg)"}},onClick:T,children:ls})})]})}),(n==null?void 0:n.length)===0&&(e==null?void 0:e.length)>0&&s.jsx(cs,{sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center"},searchQuery:l})]})};Rt.propTypes={commerceTerminals:M.array};const Tn=()=>{const e=R(a=>a.setOpenList),t=R(a=>a.setCollapse),o=R(a=>a.isOpenList),r=qo(),n=ds(),i=us("up","md"),l=i&&!o,c=()=>{e(!1)},p=()=>{e(!o)};u.useEffect(()=>{i&&e(!0)},[i]),u.useEffect(()=>{t(l)},[l]);const x=s.jsxs(s.Fragment,{children:[o&&s.jsxs(C,{spacing:2,p:2,children:[s.jsx(Cn,{}),s.jsx(Sn,{})]}),s.jsx(C,{children:s.jsx(Rt,{commerceTerminals:(r==null?void 0:r.data)||[]})}),s.jsx(mt,{sx:{height:.98},children:s.jsx(C,{children:s.jsx(At,{terminalsQuery:r})})})]});return s.jsxs(s.Fragment,{children:[!i&&!o&&s.jsx(Js,{onClick:p,children:s.jsx(vt,{sx:{width:20,height:20}})}),i?s.jsx(pt,{open:o,variant:"persistent",PaperProps:{sx:{height:1,borderRightStyle:"none",bgcolor:"background.default"}},sx:{height:1,width:Re,transition:n.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",backgroundColor:"transparent!important",width:Re},...l&&{width:ut,"& .MuiDrawer-paper":{width:ut,backgroundColor:"transparent!important",position:"static",transform:"none !important",visibility:"visible !important"}}},children:x}):s.jsx(pt,{ModalProps:{keepMounted:!0},open:o,onClose:c,sx:{height:1,"& .MuiDrawer-paper":{width:Re,p:2}},children:x})]})},wn=ps(u.lazy(()=>Ke(()=>Promise.resolve().then(()=>nn),void 0))),mn=()=>{const e=k(t=>t.openConciliate);return s.jsx(hs,{title:"Lista de Terminales Punto de Venta",children:s.jsxs(Ls,{children:[s.jsxs(N,{display:"flex",overflow:"hidden",sx:{height:"100vH",maxHeight:"100%",flexDirection:"column"},children:[s.jsx(N,{px:1,children:s.jsx(Ps,{name:"Terminales Punto de Venta",links:[{name:"Inicio",href:xs.root},{name:"Administración",href:fs.terminals},{name:bs.terminals.name}]})}),s.jsxs(N,{display:"flex",overflow:"hidden",flex:1,children:[s.jsx(Tn,{}),s.jsx(fn,{})]})]}),!!e&&s.jsx(wn,{})]})})},qn=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"}));export{Fo as L,qn as P,te as T,Un as c,Qn as g,k as u};
