import{a8 as e}from"./index-2496077c.js";import{g as s}from"./build-965c2e06.js";import{a as c,b as C}from"./build-33aa55a0.js";import{f}from"./build-4528a2af.js";import{C as g}from"./build-6d47ef8c.js";const p={CARDS_COMMERCE_LIST:"cardsCommerce",CARD_INFO:"cardInfo",CARD_MOVEMENTS:"cardMovements",MAIN_CARD:"mainCard",TRANSIT_BALANCE:"transitBalance",PAYMENT_PROCESSORS:"paymentProcessors"},O=(t,n)=>{var r,m;const a=(r=t==null?void 0:t.processorTypes)==null?void 0:r.find(i=>(i==null?void 0:i.value)==="1"),o=(m=t==null?void 0:t.processorTypes)==null?void 0:m.find(i=>(i==null?void 0:i.value)==="2");return{cardId:n==null?void 0:n.id,amount:t==null?void 0:t.amount.toString(),spei:a?n==null?void 0:n.SPEI:"",payCash:o?"1":"",emails:t==null?void 0:t.emails}},A=t=>{const n=s(t==null?void 0:t.ciphertext,t==null?void 0:t.iv);if(n)return{reference:n==null?void 0:n.referenceNumber};throw new Error("Algo fallo al obtener la informaciÃ³n")},I=t=>{const n=s(t==null?void 0:t.ciphertext,t==null?void 0:t.iv);return(n==null?void 0:n.map(o=>{var r;return{id:o==null?void 0:o.id,name:(r=o==null?void 0:o.name)==null?void 0:r.toUpperCase()}}))||[]},b=t=>{const n=s(t==null?void 0:t.ciphertext,t==null?void 0:t.iv),a=parseFloat((n==null?void 0:n.balance)===""?"0":n==null?void 0:n.balance.replace(/,/g,""));if(n)return{id:n==null?void 0:n.cardId,SPEI:n==null?void 0:n.spei,balance:a,balanceFormatted:f(a),cardNumberHidden:"GLOBAL"};throw new Error("Algo fallo al obtenerla informacion")},R=async()=>{const{data:t}=await e.get("/api/payment-processors/of/commerce");return I(t)},l=async t=>{const{data:n}=await e.get(`/api/enabled-cards/commerce?paymentProcessorId=${t}`);return c(n)},u=async(t,n)=>{const{data:a}=await e.get(`/api/card/information/${t}`,{signal:n});return C(a)},N=async t=>(await e.put(`/api/card/${t==null?void 0:t.id}/block/${t!=null&&t.cardON?"unblocked":"blocked"}`),t),P=async t=>(await e.post("/api/card/transactions",t==null?void 0:t.data),t),_=async(t,n,a,o)=>{const{data:r}=await e.get(`/api/card/${t}/movements/${n}/to/${a}`,{timeout:3e4,signal:o});return g(r)},$=async(t,n)=>{const{data:a}=await e.get(`/api/main-card/information?paymentProcessorId=${t}`,{signal:n});return b(a)},D=async t=>{const{data:n}=await e.post("/api/card/send/spei-key",t);return n},F=async t=>{const{data:n}=await e.post("/api/funding-order/new",t);return A(n)};export{p as C,R as a,$ as b,N as c,l as d,F as e,_ as f,u as g,O as h,D as s,P as t};
