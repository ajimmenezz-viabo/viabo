import{ah as De,ai as We,Z as V,aj as gt,ak as yt,aa as I,r as u,al as He,a8 as Ie,am as Q,j as s,an as $e,ao as Yt,ap as St,aq as Ct,n as jt,ar as we,as as Oe,at as Ut,y as he,au as oe,av as it,ag as le,k as Qt,a as qt,a0 as re,g as Be,b as Ve,d as Ge,ae as Tt,aw as Zt,ax as Jt,S as j,a3 as mt,B as k,T as w,V as Xe,X as wt,D as B,ay as ct,az as es,H as _e,p as ke,I as ts,m as ue,aA as Ke,aB as ss,af as os,Q as ns,N as rs,_ as as,a2 as ls,a4 as is,aC as cs,a1 as ds,aD as us,P as ps,a5 as hs,aE as xs,aF as fs}from"./index-52f3dfc5.js";import{K as bs,d as gs,T as me,e as ys,f as Ss,g as Cs,h as W,i as js,M as Et,a as It,j as Ts,F as ms,b as ws,c as Es,l as Is}from"./build-588bcae8.js";import{f as pe,A as Ee,L as Bs}from"./build-9092ed75.js";import{a as Ms,A as vs,b as Ls,C as Ps}from"./build-14727b18.js";import{n as Se,m as dt,b as Os,H as As}from"./build-403d520b.js";import{M as Rs}from"./build-477daaf2.js";import{G as Ce}from"./build-8fcc5577.js";import{g as zs,a as _s}from"./build-9da9e7c9.js";import{C as ks}from"./build-e2e8afa7.js";import{F as Fs,g as Ns}from"./build-e422673e.js";import{F as Ds,S as Ws,O as Hs}from"./build-6b6057ed.js";import{C as $s}from"./build-96a5c3fc.js";import{L as Vs,I as Gs}from"./build-ca5e47bb.js";import{C as Fe}from"./build-f6d6e604.js";import{A as Xs}from"./build-c4e89ec4.js";import{v as Y,a as U}from"./build-bee6630b.js";import{C as Ne}from"./build-eb87c3ef.js";import{L as Ks,S as Ys,a as Us,b as Qs,c as Ae,d as ut}from"./build-e2353a68.js";import{E as qs}from"./build-2a90e701.js";import{I as Zs}from"./build-2f366dad.js";import{S as Js}from"./build-5c8c8589.js";import{D as pt}from"./build-9070c40a.js";let se;function Bt(){if(se)return se;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),se="reverse",e.scrollLeft>0?se="default":(e.scrollLeft=1,e.scrollLeft===0&&(se="negative")),document.body.removeChild(e),se}function eo(e,t){const o=e.scrollLeft;if(t!=="rtl")return o;switch(Bt()){case"negative":return e.scrollWidth-e.clientWidth+o;case"reverse":return e.scrollWidth-e.clientWidth-o;default:return o}}function to(e){return We("MuiTab",e)}const so=De("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ee=so,oo=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],no=e=>{const{classes:t,textColor:o,fullWidth:n,wrapped:r,icon:l,label:i,selected:c,disabled:p}=e,f={root:["root",l&&i&&"labelIcon",`textColor${yt(o)}`,n&&"fullWidth",r&&"wrapped",c&&"selected",p&&"disabled"],iconWrapper:["iconWrapper"]};return $e(f,to,t)},ro=V(gt,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${yt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>I({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ee.iconWrapper}`]:I({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ee.selected}`]:{opacity:1},[`&.${ee.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ee.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ee.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),ao=u.forwardRef(function(t,o){const n=He({props:t,name:"MuiTab"}),{className:r,disabled:l=!1,disableFocusRipple:i=!1,fullWidth:c,icon:p,iconPosition:f="top",indicator:a,label:T,onChange:E,onClick:g,onFocus:C,selected:m,selectionFollowsFocus:M,textColor:P="inherit",value:h,wrapped:N=!1}=n,v=Ie(n,oo),O=I({},n,{disabled:l,disableFocusRipple:i,selected:m,icon:!!p,iconPosition:f,label:!!T,fullWidth:c,textColor:P,wrapped:N}),G=no(O),H=p&&T&&u.isValidElement(p)?u.cloneElement(p,{className:Q(G.iconWrapper,p.props.className)}):p,y=R=>{!m&&E&&E(R,h),g&&g(R)},A=R=>{M&&!m&&E&&E(R,h),C&&C(R)};return s.jsxs(ro,I({focusRipple:!i,className:Q(G.root,r),ref:o,role:"tab","aria-selected":m,disabled:l,onClick:y,onFocus:A,ownerState:O,tabIndex:m?0:-1},v,{children:[f==="top"||f==="start"?s.jsxs(u.Fragment,{children:[H,T]}):s.jsxs(u.Fragment,{children:[T,H]}),a]}))}),lo=ao;function io(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function co(e,t,o,n={},r=()=>{}){const{ease:l=io,duration:i=300}=n;let c=null;const p=t[e];let f=!1;const a=()=>{f=!0},T=E=>{if(f){r(new Error("Animation cancelled"));return}c===null&&(c=E);const g=Math.min(1,(E-c)/i);if(t[e]=l(g)*(o-p)+p,g>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(T)};return p===o?(r(new Error("Element already at target position")),a):(requestAnimationFrame(T),a)}const uo=["onChange"],po={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ho(e){const{onChange:t}=e,o=Ie(e,uo),n=u.useRef(),r=u.useRef(null),l=()=>{n.current=r.current.offsetHeight-r.current.clientHeight};return Yt(()=>{const i=St(()=>{const p=n.current;l(),p!==n.current&&t(n.current)}),c=Ct(r.current);return c.addEventListener("resize",i),()=>{i.clear(),c.removeEventListener("resize",i)}},[t]),u.useEffect(()=>{l(),t(n.current)},[t]),s.jsx("div",I({style:po,ref:r},o))}function xo(e){return We("MuiTabScrollButton",e)}const fo=De("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),bo=fo,go=["className","slots","slotProps","direction","orientation","disabled"],yo=e=>{const{classes:t,orientation:o,disabled:n}=e;return $e({root:["root",o,n&&"disabled"]},xo,t)},So=V(gt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})(({ownerState:e})=>I({width:40,flexShrink:0,opacity:.8,[`&.${bo.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Co=u.forwardRef(function(t,o){var n,r;const l=He({props:t,name:"MuiTabScrollButton"}),{className:i,slots:c={},slotProps:p={},direction:f}=l,a=Ie(l,go),E=jt().direction==="rtl",g=I({isRtl:E},l),C=yo(g),m=(n=c.StartScrollButtonIcon)!=null?n:bs,M=(r=c.EndScrollButtonIcon)!=null?r:gs,P=we({elementType:m,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),h=we({elementType:M,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return s.jsx(So,I({component:"div",className:Q(C.root,i),ref:o,role:null,ownerState:g,tabIndex:null},a,{children:f==="left"?s.jsx(m,I({},P)):s.jsx(M,I({},h))}))}),jo=Co;function To(e){return We("MuiTabs",e)}const mo=De("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Re=mo,wo=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ht=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,xt=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,je=(e,t,o)=>{let n=!1,r=o(e,t);for(;r;){if(r===e.firstChild){if(n)return;n=!0}const l=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||l)r=o(e,r);else{r.focus();return}}},Eo=e=>{const{vertical:t,fixed:o,hideScrollbar:n,scrollableX:r,scrollableY:l,centered:i,scrollButtonsHideMobile:c,classes:p}=e;return $e({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",n&&"hideScrollbar",r&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},To,p)},Io=V("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${Re.scrollButtons}`]:t.scrollButtons},{[`& .${Re.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>I({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Re.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Bo=V("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})(({ownerState:e})=>I({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Mo=V("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})(({ownerState:e})=>I({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),vo=V("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>I({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Lo=V(ho)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ft={},Po=u.forwardRef(function(t,o){const n=He({props:t,name:"MuiTabs"}),r=jt(),l=r.direction==="rtl",{"aria-label":i,"aria-labelledby":c,action:p,centered:f=!1,children:a,className:T,component:E="div",allowScrollButtonsMobile:g=!1,indicatorColor:C="primary",onChange:m,orientation:M="horizontal",ScrollButtonComponent:P=jo,scrollButtons:h="auto",selectionFollowsFocus:N,slots:v={},slotProps:O={},TabIndicatorProps:G={},TabScrollButtonProps:H={},textColor:y="primary",value:A,variant:R="standard",visibleScrollbar:q=!1}=n,xe=Ie(n,wo),F=R==="scrollable",D=M==="vertical",ie=D?"scrollTop":"scrollLeft",fe=D?"top":"left",be=D?"bottom":"right",Me=D?"clientHeight":"clientWidth",ce=D?"height":"width",Z=I({},n,{component:E,allowScrollButtonsMobile:g,indicatorColor:C,orientation:M,vertical:D,scrollButtons:h,textColor:y,variant:R,visibleScrollbar:q,fixed:!F,hideScrollbar:F&&!q,scrollableX:F&&!D,scrollableY:F&&D,centered:f&&!F,scrollButtonsHideMobile:!g}),X=Eo(Z),Rt=we({elementType:v.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:Z}),zt=we({elementType:v.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:Z}),[Ye,_t]=u.useState(!1),[J,Ue]=u.useState(ft),[Qe,kt]=u.useState(!1),[qe,Ft]=u.useState(!1),[Ze,Nt]=u.useState(!1),[Je,Dt]=u.useState({overflow:"hidden",scrollbarWidth:0}),et=new Map,$=u.useRef(null),te=u.useRef(null),tt=()=>{const d=$.current;let x;if(d){const S=d.getBoundingClientRect();x={clientWidth:d.clientWidth,scrollLeft:d.scrollLeft,scrollTop:d.scrollTop,scrollLeftNormalized:eo(d,r.direction),scrollWidth:d.scrollWidth,top:S.top,bottom:S.bottom,left:S.left,right:S.right}}let b;if(d&&A!==!1){const S=te.current.children;if(S.length>0){const z=S[et.get(A)];b=z?z.getBoundingClientRect():null}}return{tabsMeta:x,tabMeta:b}},de=Oe(()=>{const{tabsMeta:d,tabMeta:x}=tt();let b=0,S;if(D)S="top",x&&d&&(b=x.top-d.top+d.scrollTop);else if(S=l?"right":"left",x&&d){const K=l?d.scrollLeftNormalized+d.clientWidth-d.scrollWidth:d.scrollLeft;b=(l?-1:1)*(x[S]-d[S]+K)}const z={[S]:b,[ce]:x?x[ce]:0};if(isNaN(J[S])||isNaN(J[ce]))Ue(z);else{const K=Math.abs(J[S]-z[S]),ye=Math.abs(J[ce]-z[ce]);(K>=1||ye>=1)&&Ue(z)}}),ve=(d,{animation:x=!0}={})=>{x?co(ie,$.current,d,{duration:r.transitions.duration.standard}):$.current[ie]=d},st=d=>{let x=$.current[ie];D?x+=d:(x+=d*(l?-1:1),x*=l&&Bt()==="reverse"?-1:1),ve(x)},ot=()=>{const d=$.current[Me];let x=0;const b=Array.from(te.current.children);for(let S=0;S<b.length;S+=1){const z=b[S];if(x+z[Me]>d){S===0&&(x=d);break}x+=z[Me]}return x},Wt=()=>{st(-1*ot())},Ht=()=>{st(ot())},$t=u.useCallback(d=>{Dt({overflow:null,scrollbarWidth:d})},[]),Vt=()=>{const d={};d.scrollbarSizeListener=F?s.jsx(Lo,{onChange:$t,className:Q(X.scrollableX,X.hideScrollbar)}):null;const b=F&&(h==="auto"&&(Qe||qe)||h===!0);return d.scrollButtonStart=b?s.jsx(P,I({slots:{StartScrollButtonIcon:v.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Rt},orientation:M,direction:l?"right":"left",onClick:Wt,disabled:!Qe},H,{className:Q(X.scrollButtons,H.className)})):null,d.scrollButtonEnd=b?s.jsx(P,I({slots:{EndScrollButtonIcon:v.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:zt},orientation:M,direction:l?"left":"right",onClick:Ht,disabled:!qe},H,{className:Q(X.scrollButtons,H.className)})):null,d},nt=Oe(d=>{const{tabsMeta:x,tabMeta:b}=tt();if(!(!b||!x)){if(b[fe]<x[fe]){const S=x[ie]+(b[fe]-x[fe]);ve(S,{animation:d})}else if(b[be]>x[be]){const S=x[ie]+(b[be]-x[be]);ve(S,{animation:d})}}}),rt=Oe(()=>{F&&h!==!1&&Nt(!Ze)});u.useEffect(()=>{const d=St(()=>{$.current&&de()}),x=Ct($.current);x.addEventListener("resize",d);let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(d),Array.from(te.current.children).forEach(S=>{b.observe(S)})),()=>{d.clear(),x.removeEventListener("resize",d),b&&b.disconnect()}},[de]),u.useEffect(()=>{const d=Array.from(te.current.children),x=d.length;if(typeof IntersectionObserver<"u"&&x>0&&F&&h!==!1){const b=d[0],S=d[x-1],z={root:$.current,threshold:.99},K=Pe=>{kt(!Pe[0].isIntersecting)},ye=new IntersectionObserver(K,z);ye.observe(b);const Kt=Pe=>{Ft(!Pe[0].isIntersecting)},lt=new IntersectionObserver(Kt,z);return lt.observe(S),()=>{ye.disconnect(),lt.disconnect()}}},[F,h,Ze,a==null?void 0:a.length]),u.useEffect(()=>{_t(!0)},[]),u.useEffect(()=>{de()}),u.useEffect(()=>{nt(ft!==J)},[nt,J]),u.useImperativeHandle(p,()=>({updateIndicator:de,updateScrollButtons:rt}),[de,rt]);const at=s.jsx(vo,I({},G,{className:Q(X.indicator,G.className),ownerState:Z,style:I({},J,G.style)}));let ge=0;const Gt=u.Children.map(a,d=>{if(!u.isValidElement(d))return null;const x=d.props.value===void 0?ge:d.props.value;et.set(x,ge);const b=x===A;return ge+=1,u.cloneElement(d,I({fullWidth:R==="fullWidth",indicator:b&&!Ye&&at,selected:b,selectionFollowsFocus:N,onChange:m,textColor:y,value:x},ge===1&&A===!1&&!d.props.tabIndex?{tabIndex:0}:{}))}),Xt=d=>{const x=te.current,b=Ut(x).activeElement;if(b.getAttribute("role")!=="tab")return;let z=M==="horizontal"?"ArrowLeft":"ArrowUp",K=M==="horizontal"?"ArrowRight":"ArrowDown";switch(M==="horizontal"&&l&&(z="ArrowRight",K="ArrowLeft"),d.key){case z:d.preventDefault(),je(x,b,xt);break;case K:d.preventDefault(),je(x,b,ht);break;case"Home":d.preventDefault(),je(x,null,ht);break;case"End":d.preventDefault(),je(x,null,xt);break}},Le=Vt();return s.jsxs(Io,I({className:Q(X.root,T),ownerState:Z,ref:o,as:E},xe,{children:[Le.scrollButtonStart,Le.scrollbarSizeListener,s.jsxs(Bo,{className:X.scroller,ownerState:Z,style:{overflow:Je.overflow,[D?`margin${l?"Left":"Right"}`:"marginBottom"]:q?void 0:-Je.scrollbarWidth},ref:$,children:[s.jsx(Mo,{"aria-label":i,"aria-labelledby":c,"aria-orientation":M==="vertical"?"vertical":null,className:X.flexContainer,ownerState:Z,onKeyDown:Xt,ref:te,role:"tablist",children:Gt}),Ye&&at]}),Le.scrollButtonEnd]}))}),Oo=Po;function Ao(e){const[t,o]=u.useState(e||"");return{currentTab:t,onChangeTab:(n,r)=>{o(r)},setCurrentTab:o}}const Ro=he(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),zo=he(s.jsx("path",{d:"M9.01 14H3c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V14zm5.98-2.21V10H21c.55 0 1-.45 1-1s-.45-1-1-1h-6.01V6.21c0-.45-.54-.67-.85-.35l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.31.85.09.85-.36z"}),"CompareArrowsRounded"),Mt=he(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8.46 14.45l-1.36-.62c.28-.61.41-1.24.4-1.86-.01-.63-.14-1.24-.4-1.8l1.36-.63c.35.75.53 1.56.54 2.4.01.86-.17 1.7-.54 2.51zm3.07 1.56-1.3-.74c.52-.92.78-1.98.78-3.15 0-1.19-.27-2.33-.8-3.4l1.34-.67c.64 1.28.96 2.65.96 4.07 0 1.43-.33 2.74-.98 3.89zm3.14 1.32-1.35-.66c.78-1.6 1.18-3.18 1.18-4.69 0-1.51-.4-3.07-1.18-4.64l1.34-.67c.9 1.78 1.34 3.56 1.34 5.31 0 1.74-.44 3.54-1.33 5.35z"}),"ContactlessSharp"),_o=he(s.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link"),ko=he(s.jsx("path",{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 4H7V4h10v2zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2zm-1.47-11.81C18.21 9.47 17.49 9 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20l-3.47-7.81zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5z"}),"PointOfSale"),Fo=e=>{const t=(e==null?void 0:e.distance)||160,o=e==null?void 0:e.durationIn,n=e==null?void 0:e.durationOut,r=e==null?void 0:e.easeIn,l=e==null?void 0:e.easeOut;return{inUp:{initial:{y:t},animate:{y:0,transition:Y({durationIn:o,easeIn:r})},exit:{y:t,transition:U({durationOut:n,easeOut:l})}},inDown:{initial:{y:-t},animate:{y:0,transition:Y({durationIn:o,easeIn:r})},exit:{y:-t,transition:U({durationOut:n,easeOut:l})}},inLeft:{initial:{x:-t},animate:{x:0,transition:Y({durationIn:o,easeIn:r})},exit:{x:-t,transition:U({durationOut:n,easeOut:l})}},inRight:{initial:{x:t},animate:{x:0,transition:Y({durationIn:o,easeIn:r})},exit:{x:t,transition:U({durationOut:n,easeOut:l})}},outUp:{initial:{y:0},animate:{y:-t,transition:Y({durationIn:o,easeIn:r})},exit:{y:0,transition:U({durationOut:n,easeOut:l})}},outDown:{initial:{y:0},animate:{y:t,transition:Y({durationIn:o,easeIn:r})},exit:{y:0,transition:U({durationOut:n,easeOut:l})}},outLeft:{initial:{x:0},animate:{x:-t,transition:Y({durationIn:o,easeIn:r})},exit:{x:0,transition:U({durationOut:n,easeOut:l})}},outRight:{initial:{x:0},animate:{x:t,transition:Y({durationIn:o,easeIn:r})},exit:{x:0,transition:U({durationOut:n,easeOut:l})}}}},ae={LIST:"commerce-terminals",MOVEMENTS:"terminal-movements",CONCILIATE_MOVEMENTS:"conciliate-movements"},No=e=>(e==null?void 0:e.map(t=>{var o,n,r,l;return{id:t==null?void 0:t.id,commerceId:t==null?void 0:t.commerceId,terminalId:t==null?void 0:t.terminalId,terminalON:((o=t==null?void 0:t.apiData)==null?void 0:o.status)===1,country:(n=t==null?void 0:t.apiData)==null?void 0:n.country,date:{created:(r=t==null?void 0:t.apiData)==null?void 0:r.created_at,updated:(l=t==null?void 0:t.apiData)==null?void 0:l.updated_at,register:t==null?void 0:t.registerDate},isVirtual:(t==null?void 0:t.typeId)==="1",name:(t==null?void 0:t.name)!==""?t==null?void 0:t.name.toString().toUpperCase():`TERMINAL-${t==null?void 0:t.terminalId}`,active:(t==null?void 0:t.active)==="1",isExternalConciliation:!!(t!=null&&t.isConciliationExternal)}}))||[],Do=(e,t,o)=>{var r,l;const n=(t==null?void 0:t.map(i=>{var c,p;return{transactionId:(c=i==null?void 0:i.id)==null?void 0:c.toString(),amount:(p=i==null?void 0:i.amount)==null?void 0:p.toString()}}))??[];return{terminalId:e==null?void 0:e.id,speiCardTransactionId:(r=o==null?void 0:o.id)==null?void 0:r.toString(),speiCardTransactionAmount:(l=o==null?void 0:o.amount)==null?void 0:l.toString(),transactions:n}},Wo=e=>Ms(e),Ho=e=>{var r,l,i,c,p,f;const t=((r=e==null?void 0:e.movements)==null?void 0:r.map(a=>{const T=parseFloat((a==null?void 0:a.amount)||"0"),E=a!=null&&a.transaction_date?oe(Se(a==null?void 0:a.transaction_date),"dd MMM yyyy",{locale:it}):"",g=a!=null&&a.transaction_date?oe(Se(a==null?void 0:a.transaction_date),"p"):"";return{id:a==null?void 0:a.id,terminalName:a==null?void 0:a.terminal_name,amount:T,amountFormat:pe(T),approved:a==null?void 0:a.approved,cardType:a==null?void 0:a.card_brand,cardNumber:a==null?void 0:a.card_number,cardBank:a==null?void 0:a.issuer,transactionDate:{fullDate:oe(Se(a==null?void 0:a.transaction_date),"dd MMM yyyy HH:mm",{locale:it}),date:E,time:g},date:Se(a==null?void 0:a.transaction_date),description:`${(a==null?void 0:a.issuer)===""?a==null?void 0:a.card_brand:a==null?void 0:a.issuer}-${a==null?void 0:a.card_number}`.toUpperCase(),transactionMessage:a==null?void 0:a.result_message}}))??[],o={amount:pe((l=e==null?void 0:e.balance)==null?void 0:l.amount),month:(c=(i=e==null?void 0:e.balance)==null?void 0:i.month)==null?void 0:c.toLowerCase()},n={status:{all:(t==null?void 0:t.length)||0,approved:((p=t==null?void 0:t.filter(a=>a==null?void 0:a.approved))==null?void 0:p.length)||0,rejected:((f=t==null?void 0:t.filter(a=>!(a!=null&&a.approved)))==null?void 0:f.length)||0}};return{movements:t,balance:o,filters:n}},$o=async()=>{const{data:e}=await le.get("/api/commerces/terminals");return No(e)},Vn=async e=>{const{data:t}=await le.post("/api/commerce/pay/new",e);return t},Gn=async e=>{const{data:t}=await le.post("/api/commerce/virtual/pay",e);return t},Vo=async(e,t,o)=>{const n=e?`?fromDate=${t}&toDate=${o}&terminalId=${e}`:`?fromDate=${t}&toDate=${o}`,{data:r}=await le.get(`/api/commerces-pay/transactions/all${n}`);return Ho(r)},Go=async(e,t)=>{const{data:o}=await le.get(`/api/card/movements/${e}/consolidated/${t}`);return Wo(o)},Xo=async e=>{const{data:t}=await le.post("/api/commerce/terminal/consolidation/create",e);return t},Ko=(e={})=>{const t=Qt(),o=qt(Xo,e);return{...o,mutate:async(r,l)=>{const{onSuccess:i,onError:c,mutationOptions:p}=l;try{await re.promise(o.mutateAsync(r,p),{pending:"Conciliando movimientos de la terminal ...",success:{render({data:f}){return t.invalidateQueries([ae.MOVEMENTS]),i(f),"Se creó la conciliación con éxito"}}})}catch(f){const a=Be(f,"No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas");c(a),re.error(a,{type:Ve(f)})}}}},Yo=(e={})=>{const[t,o]=u.useState(null);return{...Ge([ae.LIST],$o,{staleTime:6e4,refetchOnMount:"always",onError:r=>{const l=Be(r,"No se puede obtener la lista de terminales del comercio. Intente nuevamente o reporte a sistemas");o(l)},...e}),error:t||null}},Uo=(e,t,o={})=>{const n=oe(t,"yyyy-MM-dd"),[r,l]=u.useState(null),i=e?[ae.CONCILIATE_MOVEMENTS,e]:[ae.MOVEMENTS,"global"];return{...Ge(i,({signal:p})=>Go(e,n),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:p=>{const f=Be(p,"No se puede obtener la lista de movimientos para conciliar la terminal. Intente nuevamente o reporte a sistemas");l(f),re.error(f,{type:Ve(p)})},...o}),error:r||null}},Te={terminal:null,conciliateInfo:{movements:null,total:0,date:null},openConciliate:!1},Qo=(e,t)=>({...Te,setTerminal:o=>{const{terminal:n}=t();e(r=>({terminal:{...n,...o}}),!1,"SET_TERMINAL_SELECTED")},resetTerminal:()=>{e(o=>({terminal:null}),!1,"RESET_TERMINAL_SELECTED")},addTerminalInfo:o=>{const{terminal:n}=t();e(r=>({terminal:{...n,...o}}),!1,"SET_TERMINAL_INFO")},setOpenConciliate:o=>{e(n=>({openConciliate:o}),!1,"SET_OPEN_CONCILIATE")},setConciliateMovements:o=>{let n=Te==null?void 0:Te.conciliateInfo;if(o){o==null||o.sort((i,c)=>i.date-c.date);const r=(o==null?void 0:o.length)>0&&o[0],l=o.reduce((i,c)=>i+(c==null?void 0:c.amount),0);n={movements:o,total:l,date:r==null?void 0:r.date}}e(r=>({conciliateInfo:n}),!1,"SET_CONCILIATE_MOVEMENTS")}}),_=Tt(Qo),ze={terminals:[],isOpenList:!1,isCollapse:!1,balance:{amount:"$0.00",month:null},globalBalance:{amount:"$0.00",month:null}},qo=(e,t)=>({...ze,setTerminals:o=>{e(n=>({terminals:o}),!1,"SET_TERMINALS")},setOpenList:o=>{e(n=>({isOpenList:o}),!1,"SET_OPEN_LIST")},setCollapse:o=>{e(n=>({isCollapse:o}),!1,"SET_COLLAPSE")},setBalance:o=>{e(n=>({balance:o}),!1,"SET_BALANCE")},setGlobalBalance:o=>{e(n=>({globalBalance:o}),!1,"SET_GLOBAL_BALANCE")},resetBalance:()=>{e(o=>({balance:ze.balance}),!1,"RESET_BALANCE")},resetGlobalBalance:()=>{e(o=>({globalBalance:ze.globalBalance}),!1,"RESET_BALANCE")}}),L=Tt(qo),Zo=(e,t,o={})=>{const n=L(g=>g.resetBalance),r=L(g=>g.resetGlobalBalance),l=Zt(t),i=Jt(t),c=oe(l,"yyyy-MM-dd"),p=oe(i,"yyyy-MM-dd"),[f,a]=u.useState(null),T=e?[ae.MOVEMENTS,e]:[ae.MOVEMENTS,"global"];return{...Ge(T,({signal:g})=>Vo(e,c,p),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:g=>{const C=Be(g,"No se puede obtener la lista de movimientos de la terminal. Intente nuevamente o reporte a sistemas");a(C),re.error(C,{type:Ve(g)}),e?n():r()},...o}),error:f||null}},Jo=V(me)(({theme:e})=>({"& td":{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),backgroundColor:e.palette.background.neutral}})),en=()=>{const e=_(h=>h.setOpenConciliate),t=_(h=>h.openConciliate),o=_(h=>h.setConciliateMovements),{movements:n,total:r,date:l}=_(h=>h.conciliateInfo),i=_(h=>h.terminal),c=u.useRef(null),{data:p,error:f,isError:a,isFetching:T,isLoading:E}=Uo(i==null?void 0:i.terminalId,l,{enabled:!!(i&&l)}),{mutate:g,isLoading:C}=Ko(),m=()=>{e(!1),o(null)},M=()=>{var N,v;const h=(N=c.current)==null?void 0:N.getSelectedRowModel().flatRows;if((h==null?void 0:h.length)>0){const O=Do(i,n,(v=h[0])==null?void 0:v.original);g(O,{onSuccess:()=>{m()},onError:()=>{}})}else re.warn("Debe seleccionar un movimiento de la tarjeta para conciliar los movimientos de la terminal")},P=[{id:"card",header:"Movimientos Tarjeta Asociada",columns:[{accessorKey:"description",header:"Movimiento",size:100},{accessorKey:"date",header:"Fecha",size:130},{accessorKey:"amountFormat",header:"Monto",size:100}]}];return s.jsx(Rs,{onClose:m,onSuccess:M,isSubmitting:C,fullWidth:!0,scrollType:"body",title:`Conciliar Movimientos ${i==null?void 0:i.name}`,textButtonSuccess:"Conciliar",maxWidth:"md",open:t,children:s.jsx(j,{pt:3,children:s.jsxs(Ce,{container:!0,spacing:{xs:2},children:[s.jsx(Ce,{item:!0,xs:12,md:5,children:s.jsx(mt,{children:s.jsx(ys,{sx:{minWidth:200},children:s.jsxs(Ss,{size:"small",children:[s.jsxs(Cs,{sx:{borderBottom:h=>`solid 1px ${h.palette.divider}`},children:[s.jsx(me,{children:s.jsx(W,{align:"center",colSpan:3,children:"Movimientos Terminal"})}),s.jsxs(me,{children:[s.jsx(W,{width:40,children:"#"}),s.jsx(W,{align:"left",children:"Descripción"}),s.jsx(W,{align:"right",children:"Monto"})]})]}),s.jsxs(js,{children:[n==null?void 0:n.map((h,N)=>{var v;return s.jsxs(me,{sx:{borderBottom:O=>`solid 1px ${O.palette.divider}`},children:[s.jsx(W,{children:N+1}),s.jsx(W,{align:"left",children:s.jsxs(k,{sx:{maxWidth:180},children:[s.jsx(w,{variant:"subtitle2",children:h==null?void 0:h.description}),s.jsx(w,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:(v=h==null?void 0:h.transactionDate)==null?void 0:v.fullDate})]})}),s.jsx(W,{align:"right",children:pe(h==null?void 0:h.amount)})]},N)}),s.jsxs(Jo,{children:[s.jsx(W,{colSpan:1}),s.jsx(W,{align:"right",children:s.jsx(w,{variant:"h6",children:"Total"})}),s.jsx(W,{align:"right",width:140,children:s.jsx(w,{variant:"h6",children:pe(r)})})]})]})]})})})}),s.jsx(Ce,{item:!0,xs:12,md:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(k,{display:"flex",alignItems:"center",justifyContent:"center",children:s.jsx(zo,{fontSize:"large",color:"primary"})})}),s.jsx(Ce,{item:!0,xs:12,md:6,children:s.jsx(Et,{enablePinning:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowSelection:!0,enableMultiRowSelection:!1,positionActionsColumn:"last",enableDensityToggle:!1,columns:P||[],data:(p==null?void 0:p.movements)||[],isError:a,textError:f,tableInstanceRef:c,initialState:{density:"compact",sorting:[{id:"date",desc:!0}]},state:{isLoading:E,showAlertBanner:a,showProgressBars:T},muiTablePaperProps:{elevation:0,sx:h=>({borderRadius:0,backgroundColor:h.palette.background.neutral})},muiBottomToolbarProps:{sx:h=>({backgroundColor:h.palette.background.neutral})},muiTopToolbarProps:{sx:h=>({backgroundColor:h.palette.background.neutral})},displayColumnDefOptions:{"mrt-row-select":{size:12,header:""}},renderToolbarInternalActions:({table:h})=>s.jsx(k,{children:s.jsx(It,{table:h})}),muiTableContainerProps:{sx:{maxHeight:"md"}}})})]})})})},tn=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"})),sn=e=>[{id:"terminal",header:`${e?e==null?void 0:e.name:"Global"}`,columns:[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:t,column:o,row:n})=>{const{original:r}=n,l=r==null?void 0:r.approved,i=zs(r==null?void 0:r.cardType),c=i==null?void 0:i.component;return s.jsxs(k,{sx:{display:"flex",alignItems:"center"},children:[s.jsxs(k,{sx:{position:"relative"},children:[s.jsx(Xe,{title:r==null?void 0:r.cardType,children:s.jsx(wt,{sx:{width:40,height:40,color:"text.secondary",bgcolor:"background.neutral"},children:i?s.jsx(c,{sx:{width:25,height:25}}):s.jsx(vs,{width:25,height:25})})}),s.jsx(k,{sx:{right:0,bottom:0,width:15,height:15,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",color:"common.white",bgcolor:"error.main",justifyContent:"center",...l&&{bgcolor:"success.main"}},children:l?s.jsx(ks,{sx:{width:12,height:12}}):s.jsx(Ro,{sx:{width:12,height:12}})})]}),s.jsxs(k,{sx:{ml:2},children:[s.jsx(w,{variant:"subtitle2",sx:{textWrap:"wrap"},children:r==null?void 0:r.description}),s.jsx(w,{variant:"body2",textTransform:"capitalize",sx:{color:l?"success.main":"error.main",textWrap:"wrap"},children:r==null?void 0:r.transactionMessage})]})]})}},...e?[]:[{accessorKey:"terminalName",header:"Terminal",size:100,Cell:({cell:t,column:o,row:n,renderedCellValue:r})=>{const{original:l}=n;return s.jsx(w,{variant:"subtitle2",fontWeight:"bold",children:l==null?void 0:l.terminalName})}}],{accessorKey:"date",header:"Fecha",size:100,Cell:({cell:t,column:o,row:n,renderedCellValue:r})=>{var i,c;const{original:l}=n;return s.jsxs(j,{children:[s.jsx(w,{variant:"subtitle2",children:(i=l==null?void 0:l.transactionDate)==null?void 0:i.date}),s.jsx(w,{variant:"body2",sx:{color:"text.secondary"},children:(c=l==null?void 0:l.transactionDate)==null?void 0:c.time})]})}},{accessorKey:"amountFormat",header:"Monto",size:100,Cell:({cell:t,column:o,row:n})=>{const{original:r}=n;return s.jsx(w,{variant:"subtitle2",fontWeight:"bold",children:r==null?void 0:r.amountFormat})}}]}],on=48,nn=8,rn={PaperProps:{style:{maxHeight:on*4.5+nn,width:250}}},an=_s(),vt=({cardType:e,handleChangeCardType:t,isLoading:o})=>s.jsx(Ds,{sx:{minWidth:240},disabled:!!o,children:s.jsxs(Ws,{fullWidth:!0,multiple:!0,displayEmpty:!0,disabled:!!o,size:"small",value:e,onChange:t,input:s.jsx(Hs,{}),renderValue:n=>n.length===0?s.jsx(s.Fragment,{children:"Tarjeta"}):n.join(", "),MenuProps:rn,inputProps:{"aria-label":"Without label"},children:[s.jsx(ct,{disabled:!0,value:"",children:s.jsx("em",{children:" Seleccionar Tarjeta"})}),an.map(n=>s.jsxs(ct,{value:n,sx:{mx:1,my:.5,p:0,borderRadius:.75,typography:"body2",textTransform:"capitalize",fontWeight:r=>e.indexOf(name)===-1?r.typography.fontWeightRegular:r.typography.fontWeightMedium},children:[s.jsx($s,{checked:e.indexOf(n)>-1}),s.jsx(es,{primary:n})]},n))]})}),ln=u.memo(vt);vt.propTypes={cardType:B.array,handleChangeCardType:B.func,isLoading:B.any};const ne=[{name:"Todos",id:"all",color:"primary"},{name:"Aprobado",id:"approved",color:"success"},{name:"Rechazado",id:"rejected",color:"error"}],cn=e=>ne==null?void 0:ne.find(t=>t.name===e),Lt=({filterStatus:e,onChangeFilterStatus:t,filters:o})=>{const n=u.useMemo(()=>ne==null?void 0:ne.map(r=>r.name),[]);return s.jsx(Oo,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:e,onChange:t,sx:{px:2},children:n.map(r=>{const l=cn(r),i=l&&(o==null?void 0:o.status[l==null?void 0:l.id])||0;return s.jsx(lo,{icon:s.jsx(Vs,{color:l==null?void 0:l.color,children:i}),iconPosition:"end",disableRipple:!0,label:r,value:r},r)})})},dn=u.memo(Lt);Lt.propTypes={filterStatus:B.any,filters:B.shape({status:B.any}),onChangeFilterStatus:B.func};const bt=()=>{const[e,t]=u.useState(new Date),o=_(y=>y.terminal),n=_(y=>y.setConciliateMovements),r=_(y=>y.setOpenConciliate),l=L(y=>y.setBalance),i=L(y=>y.setGlobalBalance),{data:c,isFetching:p,refetch:f,isError:a,error:T,isLoading:E}=Zo(o==null?void 0:o.terminalId,e,{enabled:!1}),{currentTab:g,onChangeTab:C}=Ao("Todos"),[m,M]=u.useState([]),[P,h]=u.useState({}),{movements:N,amount:v}=u.useMemo(()=>un({movements:(c==null?void 0:c.movements)||[],filterCardType:m,filterStatus:g}),[c==null?void 0:c.movements,m,g]),O=u.useMemo(()=>sn(o),[o]),G=y=>{const{target:{value:A}}=y;M(typeof A=="string"?A.split(","):A)};u.useEffect(()=>{f(),h({})},[e]),u.useEffect(()=>{t(new Date)},[o]),u.useEffect(()=>{v&&o&&e&&l({month:dt[e.getMonth()],amount:v}),v&&!o&&e&&i({month:dt[e.getMonth()],amount:v})},[v,o,e]);const H=y=>{try{const A=y.getSortedRowModel().rows.map(R=>(O==null?void 0:O.map(q=>R.getValue(q.accessorKey)))||[])??[];Ns((O==null?void 0:O.map(R=>R.header))||[],A,"Movimientos Terminales")}catch{}};return s.jsx(Fe,{children:s.jsx(Et,{enablePinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowSelection:!0,enableDensityToggle:!1,columns:O,data:N||[],isError:a,textError:T,selectAllMode:"all",onRowSelectionChange:h,initialState:{density:"compact",sorting:[{id:"date",desc:!0}]},state:{isLoading:E,showAlertBanner:a,showProgressBars:p,rowSelection:P??{}},displayColumnDefOptions:{"mrt-row-select":{size:10}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbar:({table:y})=>{var R;const A=()=>{var xe;const q=(xe=y.getSelectedRowModel().flatRows)==null?void 0:xe.map(F=>F==null?void 0:F.original);o!=null&&o.isExternalConciliation?re.info("Conciliación Externa: En etapa de desarrollo 🧑🏻‍💻🚀!!"):(n(q),r(!0))};return s.jsxs(j,{children:[s.jsx(dn,{filterStatus:g,onChangeFilterStatus:C,filters:c==null?void 0:c.filters}),s.jsx(_e,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",flex:1,spacing:2,px:2,py:1,children:[s.jsx(ln,{cardType:m,handleChangeCardType:G,isLoading:p}),s.jsx(j,{flexGrow:1,children:s.jsx(Ls,{currentMonth:e,setCurrentMonth:t,isLoading:p})})]}),s.jsx(_e,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{px:2,py:1,direction:"row",justifyContent:"space-between",alignItems:"center",children:[o?s.jsx(j,{children:s.jsx(ke,{color:"info",onClick:A,disabled:((R=y.getSelectedRowModel().flatRows)==null?void 0:R.length)===0,variant:"contained",children:"Conciliar"})}):s.jsx(k,{display:"flex"}),s.jsx(Ts,{table:y}),s.jsxs(k,{children:[s.jsx(It,{table:y}),s.jsx(Xe,{title:"Descargar",children:s.jsx(ts,{disabled:y.getPrePaginationRowModel().rows.length===0,onClick:()=>H(y),children:s.jsx(Fs,{})})}),s.jsx(ms,{table:y}),s.jsx(ws,{table:y}),s.jsx(Es,{table:y})]})]})]})},muiSelectCheckboxProps:({row:y})=>{const{approved:A}=y.original;return{sx:{disabled:!!(!A&&o),display:!A&&o?"none":"flex"}}}})})};function un({movements:e,filterCardType:t,filterStatus:o}){const n=(e==null?void 0:e.map((i,c)=>[i,c]))||[];let r=0,l=n.map(i=>i[0]);return o!=="Todos"&&(l=l.filter(i=>i.approved===(o==="Aprobado"))),Is.isArray(t)&&(t==null?void 0:t.length)>0&&(l=l.filter(i=>{var c;return t.includes((c=i==null?void 0:i.cardType)==null?void 0:c.toUpperCase())})),r=l.reduce((i,c)=>{if(c.approved){const p=parseFloat(c.amount);return i+p}return i},0),{movements:l??[],amount:pe(r.toFixed(2))}}const pn=()=>{const e=_(t=>t.terminal);return s.jsx(j,{sx:t=>({pl:{xs:0,sm:2,lg:2},overflow:"hidden",flexDirection:"column",flexGrow:1,transition:t.transitions.create(["width","flexGrow"])}),children:s.jsx(Ee,{children:s.jsxs(k,{sx:{overflowY:"auto"},children:[e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(j,{p:2,children:s.jsx(bt,{})})}),!e&&s.jsx(ue.div,{exit:{opacity:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:s.jsx(j,{p:2,children:s.jsx(bt,{})})})]})})})},hn=u.lazy(()=>Ke(()=>import("./build-b82fd486.js"),["assets/js/build-b82fd486.js","assets/js/index-52f3dfc5.js","assets/css/build-f63bc8fe.css","assets/js/build-bde68dd5.js","assets/js/build-403d520b.js","assets/js/build-f7effa0e.js","assets/js/build-b586a278.js","assets/js/build-d343e405.js","assets/js/build-8158aef9.js","assets/js/build-289ba1e7.js","assets/js/build-6b6057ed.js","assets/js/build-2f366dad.js","assets/js/build-39396126.js","assets/js/build-588bcae8.js","assets/js/build-96a5c3fc.js","assets/js/build-8fcc5577.js","assets/js/build-34a56e1f.js","assets/js/build-5b8b07bd.js","assets/js/build-ca5e47bb.js","assets/js/build-9092ed75.js","assets/js/build-bee6630b.js","assets/js/build-18b35141.js","assets/js/build-d801efe1.js","assets/js/build-b4010993.js","assets/js/build-c5ba3c37.js","assets/js/build-f6d6e604.js","assets/js/build-9070c40a.js","assets/js/build-2a90e701.js","assets/js/build-e2e8afa7.js","assets/js/build-e525973c.js","assets/js/build-14727b18.js","assets/js/build-477daaf2.js","assets/js/build-9da9e7c9.js","assets/js/build-ba0beaeb.js","assets/js/build-b02693c3.js","assets/js/build-e422673e.js","assets/js/build-c4e89ec4.js","assets/js/build-eb87c3ef.js","assets/js/build-e2353a68.js","assets/js/build-5c8c8589.js"])),xn=u.lazy(()=>Ke(()=>import("./build-4dcfeb7a.js"),["assets/js/build-4dcfeb7a.js","assets/js/index-52f3dfc5.js","assets/css/build-f63bc8fe.css","assets/js/build-8158aef9.js","assets/js/build-39396126.js","assets/js/build-588bcae8.js","assets/js/build-96a5c3fc.js","assets/js/build-6b6057ed.js","assets/js/build-f7effa0e.js","assets/js/build-403d520b.js","assets/js/build-b586a278.js","assets/js/build-d343e405.js","assets/js/build-8fcc5577.js","assets/js/build-34a56e1f.js","assets/js/build-2f366dad.js","assets/js/build-5b8b07bd.js","assets/js/build-ca5e47bb.js","assets/js/build-9092ed75.js","assets/js/build-bee6630b.js","assets/js/build-18b35141.js","assets/js/build-ba0beaeb.js","assets/js/build-b02693c3.js","assets/js/build-be6f7eb2.js","assets/js/build-d40aa5e8.js","assets/js/build-d801efe1.js","assets/js/build-b4010993.js","assets/js/build-878270d2.js","assets/js/build-c5ba3c37.js","assets/js/build-f6d6e604.js","assets/js/build-9070c40a.js","assets/js/build-2a90e701.js","assets/js/build-14727b18.js","assets/js/build-477daaf2.js","assets/js/build-9da9e7c9.js","assets/js/build-e2e8afa7.js","assets/js/build-e422673e.js","assets/js/build-c4e89ec4.js","assets/js/build-eb87c3ef.js","assets/js/build-e2353a68.js","assets/js/build-5c8c8589.js"])),fn=()=>{const[e,t]=u.useState(!1),[o,n]=u.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(_e,{sx:{borderStyle:"dashed"}}),s.jsxs(j,{px:2,py:1,flexDirection:"row",justifyContent:"space-between",children:[s.jsx(ke,{startIcon:s.jsx(_o,{}),onClick:()=>t(!0),children:"Liga de Pago"}),s.jsx(ke,{startIcon:s.jsx(Xs,{}),sx:{textWrap:"nowrap"},onClick:()=>n(!0),children:"Terminal Virtual"})]}),s.jsx(u.Suspense,{children:s.jsx(hn,{open:e,setOpen:t})}),s.jsx(u.Suspense,{children:s.jsx(xn,{open:o,setOpen:n})})]})},bn=()=>{const e=_(n=>n.terminal),t=L(n=>n.balance),o=e?e==null?void 0:e.name:"Global";return s.jsx(Ee,{children:!!(e!=null&&e.id)&&s.jsx(ue.div,{...Fo().inLeft,children:s.jsxs(ss,{sx:{boxShadow:n=>`0px 0px 15px 2px ${os(n.palette.primary.main,.4)}`},children:[s.jsx(Ne,{title:s.jsx(j,{flexDirection:"column",gap:1,children:s.jsx(w,{variant:"subtitle1",children:o})}),sx:{px:2,py:2}}),s.jsxs(j,{alignItems:"center",pb:2,px:2,children:[s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(w,{variant:"h3",children:t.amount}),s.jsx(w,{variant:"caption",children:"MXN"})]}),(t==null?void 0:t.month)&&s.jsxs(w,{variant:"subtitle2",children:["Balance de ",t.month]})]}),(e==null?void 0:e.isVirtual)&&s.jsx(fn,{})]})})})},gn=()=>{const e=L(r=>r.globalBalance),t=_(r=>r.resetTerminal),o=_(r=>r.terminal),n=()=>{t()};return o?s.jsx(Ee,{children:s.jsx(ue.div,{onClick:n,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsx(Fe,{sx:r=>({cursor:"pointer","& :hover":{color:"primary.main"}}),children:s.jsx(Ne,{title:s.jsxs(j,{flexDirection:"row",gap:1,justifyContent:"space-between",children:[s.jsx(w,{variant:"subtitle1",children:"Global"}),s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(w,{variant:"caption",children:e.amount}),s.jsx(w,{variant:"caption",children:"MXN"})]})]}),sx:{px:2,py:2}})})})}):s.jsx(Ee,{children:s.jsx(ue.div,{onClick:n,whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(Fe,{sx:r=>({cursor:"pointer",backgroundColor:{xs:"background.neutral",md:"background.paper"},"& :hover":{color:"primary.main"}}),children:[s.jsx(Ne,{title:s.jsx(j,{flexDirection:"column",gap:1,children:s.jsx(w,{variant:"subtitle1",children:"Global"})}),sx:{px:2,py:2}}),s.jsxs(j,{alignItems:"center",pb:2,px:2,children:[s.jsxs(j,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(w,{variant:"h3",children:e.amount}),s.jsx(w,{variant:"caption",children:"MXN"})]}),(e==null?void 0:e.month)&&s.jsxs(w,{variant:"subtitle2",children:["Balance de ",e.month]})]})]})})})},yn=V(ns)(({theme:e})=>({borderRadius:"8px!important",width:1,justifyContent:"center",display:"flex",alignItems:"center",mb:1})),Pt=({terminal:e})=>{const t=L(i=>i.isOpenList);L(i=>i.setOpenList);const o=_(i=>i.setTerminal),n=_(i=>i.terminal);(e==null?void 0:e.id)===(n==null?void 0:n.id)&&n&&(n==null||n.cardON);const r=(e==null?void 0:e.id)===(n==null?void 0:n.id),l=i=>{var p;!((p=i.target)==null?void 0:p.type)&&!r&&o(e)};return s.jsx(Xe,{title:e==null?void 0:e.name,arrow:!0,placement:"right",children:s.jsx(Bs,{sx:{mb:1,padding:0,borderRadius:1,"& :hover":{color:"text.primary"}},disablePadding:!0,children:s.jsxs(yn,{onClick:l,sx:{...r&&{bgcolor:"secondary.light",color:"black","& :hover":{color:"text.primary"}},"& :hover":{color:"text.primary"},width:1,py:1,gap:1},children:[s.jsx(Ks,{sx:{ml:2,m:0},children:s.jsx(k,{sx:{position:"relative"},children:s.jsx(wt,{sx:i=>({width:32,height:32,m:0,backgroundColor:i.palette.primary.main,"& :hover":{color:"white"}}),children:e!=null&&e.isVirtual?s.jsx(Mt,{sx:{width:20,height:20,color:"white"}}):s.jsx(ko,{sx:{width:16,height:16,color:"white"}})})})}),t&&s.jsx(s.Fragment,{children:s.jsx(j,{sx:{width:1},children:s.jsx(w,{noWrap:!0,variant:"subtitle2",children:e==null?void 0:e.name})})})]})})})};Pt.propTypes={terminal:B.shape({alias:B.any,id:B.any,isVirtual:B.any,name:B.any})};const Ot=({terminalsQuery:e,sx:t,...o})=>{const{isLoading:n,data:r,error:l,isError:i,refetch:c}=e,p=L(a=>a.isOpenList),f=L(a=>a.terminals);return i&&p&&!r&&!n?s.jsx(rs,{errorMessage:l,handleButton:c}):r&&p&&(r==null?void 0:r.length)===0&&!n?s.jsx(qs,{pt:2.5,message:"No hay terminales activas para este comercio"}):s.jsx(as,{disablePadding:!0,sx:t,...o,children:(n?[...Array(12)]:f).map((a,T)=>a!=null&&a.id?s.jsx(Pt,{terminal:a},a==null?void 0:a.id):s.jsx(Ys,{isOpenSideBar:p},T))})};Ot.propTypes={sx:B.any,terminalsQuery:B.shape({data:B.array,error:B.any,isError:B.any,isLoading:B.any,refetch:B.any})};const At=({commerceTerminals:e=[]})=>{const t=L(C=>C.isOpenList),o=L(C=>C.setOpenList),n=L(C=>C.setTerminals),r=L(C=>C.terminals),l=L(C=>C.isCollapse),[i,c]=u.useState(""),[p,f]=u.useState(!1),a=async C=>{try{const{value:m}=C.target;if(c(m),m){const M=(e==null?void 0:e.filter(P=>{var h;return(P==null?void 0:P.name)&&((h=P==null?void 0:P.name)==null?void 0:h.toLowerCase().indexOf(m.toLowerCase()))!==-1}))||[];n(M)}else n(e)}catch(m){console.error(m)}},T=()=>{t&&(c(""),n(e)),o(!t)},E=()=>{f(!0)},g=()=>{f(!1)};return u.useEffect(()=>{e&&n(e)},[e]),u.useEffect(()=>{if(!t)return f(!1)},[t]),s.jsxs(s.Fragment,{children:[s.jsx(k,{sx:{p:2,px:0},children:s.jsxs(j,{direction:"row",justifyContent:t?"flex-end":"center",alignItems:"center",spacing:2,children:[!l&&s.jsx(Ps,{onClickAway:g,children:s.jsx(Gs,{fullWidth:!0,size:"small",value:i,onFocus:E,onChange:a,placeholder:"Buscar Terminales...",InputProps:{startAdornment:s.jsx(Zs,{position:"start",children:s.jsx(Js,{sx:{color:"text.disabled",width:20,height:20}})})}})}),s.jsx(j,{direction:"row",alignItems:"center",justifyContent:"center",children:s.jsx(Us,{size:"small",sx:{...!t&&{transform:"rotate(180deg)"}},onClick:T,children:ls})})]})}),(r==null?void 0:r.length)===0&&(e==null?void 0:e.length)>0&&s.jsx(is,{sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center"},searchQuery:i})]})};At.propTypes={commerceTerminals:B.array};const Sn=()=>{const e=L(a=>a.setOpenList),t=L(a=>a.setCollapse),o=L(a=>a.isOpenList),n=Yo(),r=cs(),l=ds("up","md"),i=l&&!o,c=()=>{e(!1)},p=()=>{e(!o)};u.useEffect(()=>{l&&e(!0)},[l]),u.useEffect(()=>{t(i)},[i]);const f=s.jsxs(s.Fragment,{children:[o&&s.jsxs(j,{spacing:2,p:2,children:[s.jsx(gn,{}),s.jsx(bn,{})]}),s.jsx(j,{children:s.jsx(At,{commerceTerminals:(n==null?void 0:n.data)||[]})}),s.jsx(mt,{sx:{height:.98},children:s.jsx(j,{children:s.jsx(Ot,{terminalsQuery:n})})})]});return s.jsxs(s.Fragment,{children:[!l&&!o&&s.jsx(Qs,{onClick:p,children:s.jsx(Mt,{sx:{width:20,height:20}})}),l?s.jsx(pt,{open:o,variant:"persistent",PaperProps:{sx:{height:1,borderRightStyle:"none",bgcolor:"background.default"}},sx:{height:1,width:Ae,transition:r.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",backgroundColor:"transparent!important",width:Ae},...i&&{width:ut,"& .MuiDrawer-paper":{width:ut,backgroundColor:"transparent!important",position:"static",transform:"none !important",visibility:"visible !important"}}},children:f}):s.jsx(pt,{ModalProps:{keepMounted:!0},open:o,onClose:c,sx:{height:1,"& .MuiDrawer-paper":{width:Ae,p:2}},children:f})]})},Cn=us(u.lazy(()=>Ke(()=>Promise.resolve().then(()=>tn),void 0))),jn=()=>{const e=_(t=>t.openConciliate);return s.jsx(ps,{title:"Lista de Terminales Punto de Venta",children:s.jsxs(Os,{children:[s.jsxs(k,{display:"flex",overflow:"hidden",sx:{height:"100vH",maxHeight:"100%",flexDirection:"column"},children:[s.jsx(k,{px:1,children:s.jsx(As,{name:"Terminales Punto de Venta",links:[{name:"Inicio",href:hs.root},{name:"Administración",href:xs.terminals},{name:fs.terminals.name}]})}),s.jsxs(k,{display:"flex",overflow:"hidden",flex:1,children:[s.jsx(Sn,{}),s.jsx(pn,{})]})]}),!!e&&s.jsx(Cn,{})]})})},Xn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"}));export{_o as L,Xn as P,ae as T,Vn as c,Gn as g,_ as u};
