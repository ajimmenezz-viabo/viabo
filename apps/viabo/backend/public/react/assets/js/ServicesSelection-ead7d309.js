import{n as y,v as b,W as x,r as C,B as M,g as E,_ as l,j as s,i as R,l as k,ak as P,ag as A,p as S,aj as O,av as h,G as v,al as _,A as U}from"./index-b9d01977.js";import{a as V,u as $,b as j,g as L,p as B,S as w,A as F,c as W,L as H,P as N}from"./CommerceRegister-22e610a4.js";function z(e){return y("MuiCard",e)}b("MuiCard",["root"]);const D=["className","raised"],G=e=>{const{classes:o}=e;return k({root:["root"]},z,o)},q=x(V,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({overflow:"hidden"})),X=C.forwardRef(function(o,a){const t=M({props:o,name:"MuiCard"}),{className:i,raised:d=!1}=t,c=E(t,D),r=l({},t,{raised:d}),p=G(r);return s(q,l({className:R(p.root,i),elevation:d?8:void 0,ref:a,ownerState:r},c))}),J=X;function K(e){return y("MuiCardContent",e)}b("MuiCardContent",["root"]);const Q=["className","component"],Y=e=>{const{classes:o}=e;return k({root:["root"]},K,o)},Z=x("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ee=C.forwardRef(function(o,a){const t=M({props:o,name:"MuiCardContent"}),{className:i,component:d="div"}=t,c=E(t,Q),r=l({},t,{component:d}),p=Y(r);return s(Z,l({as:d,className:R(p.root,i),ownerState:r,ref:a},c))}),te=ee;function oe(e){return y("MuiCardMedia",e)}b("MuiCardMedia",["root","media","img"]);const ae=["children","className","component","image","src","style"],se=e=>{const{classes:o,isMediaComponent:a,isImageComponent:t}=e;return k({root:["root",a&&"media",t&&"img"]},oe,o)},ne=x("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e,{isMediaComponent:t,isImageComponent:i}=a;return[o.root,t&&o.media,i&&o.img]}})(({ownerState:e})=>l({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),re=["video","audio","picture","iframe","img"],ie=["picture","img"],ce=C.forwardRef(function(o,a){const t=M({props:o,name:"MuiCardMedia"}),{children:i,className:d,component:c="div",image:r,src:p,style:g}=t,f=E(t,ae),n=re.indexOf(c)!==-1,u=!n&&r?l({backgroundImage:`url("${r}")`},g):g,m=l({},t,{component:c,isMediaComponent:n,isImageComponent:ie.indexOf(c)!==-1}),I=se(m);return s(ne,l({className:R(I.root,d),as:c,role:!n&&r?"img":void 0,ref:a,style:u,ownerState:m,src:n?r||p:void 0},f,{children:i}))}),de=ce,le=(e={})=>{const{enqueueSnackbar:o}=P();return $({mutationFn:j,onSuccess:()=>{o("Servicios agregados al comercio!",{variant:"success"})},onError:a=>{const t=L(a,"No se puede agregar los servicios al comercio");o(t,{variant:(a==null?void 0:a.status)===500?"error":"warning",autoHideDuration:5e3})},...e})},pe="/react/assets/img/viabo-card-be5013bb.png",me="/react/assets/img/viabo-pay-c2518fc8.png";Ce.propTypes={store:A.shape(B)};const ue=[{name:"Viabo Card",description:"Tarjeta CARNET X VIABO para control de gastos, pago de compensaciones, cash-back y fidelización por perfiles.",image:pe},{name:"Viabo Pay",description:"Herramienta de cobro/pago por pefiles,transparencia transaccional y alertas.",image:me}],T={selected:{backgroundColor:e=>U(e.palette.primary.main,.08),borderColor:e=>e.palette.primary.main},unselected:{backgroundColor:e=>e.palette.background.neutral,borderColor:"transparent"}};function Ce({store:e}){const{setActualProcess:o,setLastProcess:a}=e,[t,i]=C.useState([]),[d,c]=C.useState(!1),{mutate:r,isLoading:p}=le(),g=n=>{if(!t.includes(n.name))return i([...t,n.name]);const u=t.filter(m=>m!==n.name);return i(u)},f=()=>t.length===0?c(!0):r({services:t},{onSuccess:()=>{o(N.COMMERCE_INFO),a({info:t,name:N.SERVICES_SELECTION}),c(!1)}});return S(O,{children:[s(w,{direction:"column",width:1,spacing:1,children:S(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s(v,{variant:"h4",color:"textPrimary",align:"center",children:"¡Bienvenido a Viabo!"}),s(v,{paragraph:!0,align:"center",variant:"body1",color:"text.secondary",whiteSpace:"pre-line",children:"Seleccione los servicios para habilitar su ecosistema."})]})}),d&&S(F,{listenElement:d,sx:{mb:5,mx:2,textAlign:"initial"},severity:"warning",children:[s(W,{sx:{textAlign:"initial"},children:"Servicios"}),"Se debe seleccionar al menos un servicio para continuar con el proceso"]}),s(h.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:s(_,{my:3,px:2,sx:{display:"grid",gap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(2, 1fr)"}},children:ue.map((n,u)=>{const m=t.includes(n.name);return s(h.div,{whileHover:{scale:1.05},whileTap:{scale:.9},children:S(J,{onClick:()=>g(n),sx:{backgroundColor:"transparent",cursor:"pointer",height:"100%",...m?T.selected:T.unselected},children:[s(de,{sx:{px:{xs:10,sm:5},pt:3},component:"img",image:n.image}),s(te,{children:s(v,{variant:"caption",color:"text.disabled",children:n.description})})]})},u)})})}),s(w,{mt:7,px:2,children:s(H,{onClick:f,loading:p,color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{textTransform:"uppercase"},children:"Continuar"})})]})}export{Ce as ServicesSelection,Ce as default};
