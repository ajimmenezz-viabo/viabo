import{ay as n,as as r}from"./index-be176464.js";import{g as A}from"./build-f0aa92ba.js";import{f as E,a as T,h as U}from"./build-8047ff64.js";import{f as p}from"./build-199169fb.js";const B=e=>{const t=A(e==null?void 0:e.ciphertext,e==null?void 0:e.iv),s=parseFloat((t==null?void 0:t.balance)===""?"0":t==null?void 0:t.balance.replace(/,/g,""));if(t)return{SPEI:t==null?void 0:t.spei,PAYNET:t==null?void 0:t.paynet,cardON:(t==null?void 0:t.block)==="UnBlocked",nip:t==null?void 0:t.nip,balance:s,balanceFormatted:E(s)};throw new Error("Algo fallo al obtenerla informacion")};function F(e){const{id:t,number:s,CVV:f,register:o,expirationDate:g,paymentProcessorName:u,paymentProcessorId:D,statusId:b,statusName:N,commerceId:I,commerceName:h,ownerId:w,ownerName:i,ownerLastname:m,ownerPhone:C,ownerEmail:V,recorderId:M,recorderName:k,assignmentDate:l,active:v}=e,y=s==null?void 0:s.slice(-4);let a=i??"";return(a==null?void 0:a.length)>10&&(a=a.slice(0,13)+"..."),{id:t,cardTypeId:D,cardType:u,assignCommerce:{id:I,name:h},assignUser:{id:w,fullName:i!==""?n.startCase(n.camelCase(`${i==null?void 0:i.trim()} ${m==null?void 0:m.trim()} `)):"-",name:i===""?"-":n.startCase(n.camelCase(i)),lastName:n.startCase(n.camelCase(m)),phone:C,email:V,dateTime:l===""?"-":p(l),date:l===""?"-":r(new Date(o),"dd MMM yyyy"),time:l===""?"-":r(new Date(o),"p"),lastLogged:e!=null&&e.sessionLastDate&&(e==null?void 0:e.sessionLastDate)!==""?p(e==null?void 0:e.sessionLastDate):null},staffRegister:{id:M,name:k},cardNumber:s,cardNumberHidden:T(s),cardNumberMoreDigits:U(s),cardUserNumber:(a==null?void 0:a.toUpperCase())+" "+y,expiration:g,register:p(o),registerDate:o?r(new Date(o),"dd MMM yyyy"):"",registerTime:o?r(new Date(o),"p"):"",cvv:f,emptyCVV:f===""||!f?"SIN CVV":"CON CVV",status:{id:b,name:N},cardStatus:{isActive:(e==null?void 0:e.block)==="UnBlocked",name:(e==null?void 0:e.block)==="UnBlocked"?"Encendida":"Apagada"}}}export{F as C,B as a};
