import{c as g,f as y,a9 as x,i as n,Y as C,Z as j,S as h,B as A,U as S,T as l,dX as T,$ as b,a0 as D,Q as v}from"./vendor-CEMfbhOc.js";import{g as k,a as I}from"./index-B-U8M-8N.js";import{i as f}from"./matchTypes-BFKCRNnN.js";import{d as B,S as E}from"./SpeiThirdAccountsRepository-CCVKP0gE.js";import{u as m}from"./spei-third-accounts-store-CIqgAlGv.js";const w=(d={})=>{const u=g(),s=y(B,d);return{...s,mutate:async(p,i)=>{const{onSuccess:o,onError:a,mutationOptions:c}=i;try{await x.promise(s.mutateAsync(p,c),{pending:"Dando de baja cuenta ...",success:{render({data:t}){return u.invalidateQueries([E.THIRD_ACCOUNTS_LIST]),f(o)&&o(t),"Se dio de baja la cuenta con éxito"}}})}catch(t){const r=k(t,"No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas");f(a)&&a(r),x.error(r,{type:I(t)})}}}},W=()=>{var c;const{setSpeiThirdAccount:d,setOpenDeleteSpeiThirdAccount:u}=m(),s=m(t=>t.openDeleteAccount),e=m(t=>t.account),{mutate:p,isLoading:i}=w(),o=(t,r)=>{r&&r==="backdropClick"||r&&r==="escapeKeyDown"||(d(null),u(!1))},a=()=>{const t={externalAccountId:e==null?void 0:e.id};p(t,{onSuccess:()=>{o()}})};return n.jsxs(C,{open:s,fullWidth:!0,maxWidth:"xs",onClose:o,children:[n.jsx(j,{children:"Baja de Cuenta"}),n.jsx(j,{sx:{textWrap:"pretty",textAlign:"center",typography:"subtitle1"},children:"¿Está seguro de que quiere dar de baja la cuenta de tercero?"}),n.jsx(h,{spacing:3,sx:{p:3,pb:0},children:n.jsxs(A,{component:S,elevation:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"justify-between",spacing:2,flex:1,p:2,sx:{backgroundColor:t=>t.palette.error.lighter,color:t=>t.palette.error.dark},children:[n.jsxs(h,{flex:1,children:[n.jsx(l,{fontWeight:"bold",variant:"subtitle2",children:e==null?void 0:e.name}),n.jsx(l,{variant:"body2",children:(c=e==null?void 0:e.bank)==null?void 0:c.name}),n.jsx(l,{variant:"body2",children:e==null?void 0:e.email}),n.jsx(l,{variant:"body2",children:e==null?void 0:e.phone})]}),n.jsx(h,{children:n.jsx(T,{color:"error",sx:{width:30,height:30}})})]})}),n.jsxs(b,{children:[n.jsx(D,{loading:i,variant:"contained",onClick:a,children:"Confirmar"}),!i&&n.jsx(v,{onClick:o,children:"Cancelar"})]})]})};export{W as default};
//# sourceMappingURL=AlertConfirmationDeleteAccount-B5Ar6OTh.js.map
